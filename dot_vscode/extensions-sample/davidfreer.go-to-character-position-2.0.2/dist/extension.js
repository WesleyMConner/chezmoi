(()=>{"use strict";var e={496:e=>{e.exports=require("vscode")}},t={};function o(n){var a=t[n];if(void 0!==a)return a.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,o),r.exports}var n={};(()=>{var e=n;Object.defineProperty(e,"__esModule",{value:!0}),e.deactivate=e.activate=void 0;const t=o(496),a="go-to-character-position",r=Object.seal({go_to_character_position:`${a}.go-to-character-position`});let i,s,d=c("defaultIndex","zero based",["zero based","one based"]);function c(e,o,n=[]){let r=t.workspace.getConfiguration(a).get(e);return r=n.includes(r.toLowerCase())?r.toLowerCase():o.toLowerCase(),r}function u(e,t,o=1/0){return e<t?t:e>o?o:e}function l(e){s&&s.dispose(),s=t.window.createStatusBarItem(t.StatusBarAlignment.Right,e),s.name="↷ Go To Character Index",s.tooltip="↷ Current Index"+("one based"===d?"¹":"º"),s.command=r.go_to_character_position,s.show()}function p(e){const t=e.document.offsetAt(e.selection.active)+ +("one based"===d);s.text=`↷ ${t.toLocaleString()}${"one based"===d?"¹":"º"}`}e.activate=function(e){console.log('"go-to-character-position" is active'),e.subscriptions.push(s,t.window.onDidChangeTextEditorSelection((e=>p(e.textEditor))),t.window.onDidChangeActiveTextEditor((e=>{void 0!==e&&p(e)})),t.workspace.onDidChangeConfiguration((e=>{e.affectsConfiguration(`${a}.defaultIndex`)&&(d=c("defaultIndex","zero based",["zero based","one based"])),e.affectsConfiguration(`${a}.statusbar`)&&l(("statusbar.priority",101,t.workspace.getConfiguration(a).get("statusbar.priority",101)))})),t.commands.registerTextEditorCommand(r.go_to_character_position,(async function(e){const o=c("defaultIndex","zero based",["zero based","one based"]),n=await t.window.showInputBox({ignoreFocusOut:!0,prompt:`Your current index setting is ${o} and there are ${(new Intl.NumberFormat).format(e.document.getText().length)} characters in this text body`,title:"Jump to an absolute character index in the active editor",value:void 0===i?"":i,validateInput:e=>e.match(/^\d+$/m)?null:"Invalid input. Please enter a valid positive whole number"});if(void 0===n)return;let a=u(+n,0);i=a,"one based"===o&&(a=u(a-1,0));let r=e.document.positionAt(a);r=e.document.validatePosition(r),t.window.showTextDocument(e.document),e.selection=new t.Selection(r,r),e.revealRange(new t.Range(r,r),function(){switch(c("revealType","top",["top","center","default","centerifoutsidetheviewport"])){case"default":return t.TextEditorRevealType.Default;case"center":return t.TextEditorRevealType.InCenter;case"centerifoutsidetheviewport":return t.TextEditorRevealType.InCenterIfOutsideViewport;default:return t.TextEditorRevealType.AtTop}}())}))),l(101)},e.deactivate=function(){}})(),module.exports=n})();
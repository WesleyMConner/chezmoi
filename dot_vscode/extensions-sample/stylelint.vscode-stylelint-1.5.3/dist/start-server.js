"use strict";var Mf=Object.defineProperty;var jq=Object.getOwnPropertyDescriptor;var Nq=Object.getOwnPropertyNames;var Lq=Object.prototype.hasOwnProperty;var xq=(t,e)=>()=>(t&&(e=t(t=0)),e);var p=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Iq=(t,e)=>{for(var r in e)Mf(t,r,{get:e[r],enumerable:!0})},kq=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Nq(e))!Lq.call(t,i)&&i!==r&&Mf(t,i,{get:()=>e[i],enumerable:!(n=jq(e,i))||n.enumerable});return t};var Fq=t=>kq(Mf({},"__esModule",{value:!0}),t);var za=p(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.thenable=Xe.typedArray=Xe.stringArray=Xe.array=Xe.func=Xe.error=Xe.number=Xe.string=Xe.boolean=void 0;function $q(t){return t===!0||t===!1}Xe.boolean=$q;function by(t){return typeof t=="string"||t instanceof String}Xe.string=by;function Wq(t){return typeof t=="number"||t instanceof Number}Xe.number=Wq;function Hq(t){return t instanceof Error}Xe.error=Hq;function _y(t){return typeof t=="function"}Xe.func=_y;function wy(t){return Array.isArray(t)}Xe.array=wy;function Uq(t){return wy(t)&&t.every(e=>by(e))}Xe.stringArray=Uq;function Bq(t,e){return Array.isArray(t)&&t.every(e)}Xe.typedArray=Bq;function zq(t){return t&&_y(t.then)}Xe.thenable=zq});var Yi=p(gt=>{"use strict";Object.defineProperty(gt,"__esModule",{value:!0});gt.stringArray=gt.array=gt.func=gt.error=gt.number=gt.string=gt.boolean=void 0;function Vq(t){return t===!0||t===!1}gt.boolean=Vq;function Ry(t){return typeof t=="string"||t instanceof String}gt.string=Ry;function Gq(t){return typeof t=="number"||t instanceof Number}gt.number=Gq;function Yq(t){return t instanceof Error}gt.error=Yq;function Kq(t){return typeof t=="function"}gt.func=Kq;function Sy(t){return Array.isArray(t)}gt.array=Sy;function Xq(t){return Sy(t)&&t.every(e=>Ry(e))}gt.stringArray=Xq});var td=p(Z=>{"use strict";Object.defineProperty(Z,"__esModule",{value:!0});Z.Message=Z.NotificationType9=Z.NotificationType8=Z.NotificationType7=Z.NotificationType6=Z.NotificationType5=Z.NotificationType4=Z.NotificationType3=Z.NotificationType2=Z.NotificationType1=Z.NotificationType0=Z.NotificationType=Z.RequestType9=Z.RequestType8=Z.RequestType7=Z.RequestType6=Z.RequestType5=Z.RequestType4=Z.RequestType3=Z.RequestType2=Z.RequestType1=Z.RequestType=Z.RequestType0=Z.AbstractMessageSignature=Z.ParameterStructures=Z.ResponseError=Z.ErrorCodes=void 0;var hi=Yi(),Cf;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=-32099,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.PendingResponseRejected=-32097,t.ConnectionInactive=-32096,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=-32e3})(Cf||(Z.ErrorCodes=Cf={}));var Af=class t extends Error{constructor(e,r,n){super(r),this.code=hi.number(e)?e:Cf.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,t.prototype)}toJson(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}};Z.ResponseError=Af;var jt=class t{constructor(e){this.kind=e}static is(e){return e===t.auto||e===t.byName||e===t.byPosition}toString(){return this.kind}};Z.ParameterStructures=jt;jt.auto=new jt("auto");jt.byPosition=new jt("byPosition");jt.byName=new jt("byName");var xe=class{constructor(e,r){this.method=e,this.numberOfParams=r}get parameterStructures(){return jt.auto}};Z.AbstractMessageSignature=xe;var jf=class extends xe{constructor(e){super(e,0)}};Z.RequestType0=jf;var Nf=class extends xe{constructor(e,r=jt.auto){super(e,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};Z.RequestType=Nf;var Lf=class extends xe{constructor(e,r=jt.auto){super(e,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};Z.RequestType1=Lf;var xf=class extends xe{constructor(e){super(e,2)}};Z.RequestType2=xf;var If=class extends xe{constructor(e){super(e,3)}};Z.RequestType3=If;var kf=class extends xe{constructor(e){super(e,4)}};Z.RequestType4=kf;var Ff=class extends xe{constructor(e){super(e,5)}};Z.RequestType5=Ff;var $f=class extends xe{constructor(e){super(e,6)}};Z.RequestType6=$f;var Wf=class extends xe{constructor(e){super(e,7)}};Z.RequestType7=Wf;var Hf=class extends xe{constructor(e){super(e,8)}};Z.RequestType8=Hf;var Uf=class extends xe{constructor(e){super(e,9)}};Z.RequestType9=Uf;var Bf=class extends xe{constructor(e,r=jt.auto){super(e,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};Z.NotificationType=Bf;var zf=class extends xe{constructor(e){super(e,0)}};Z.NotificationType0=zf;var Vf=class extends xe{constructor(e,r=jt.auto){super(e,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};Z.NotificationType1=Vf;var Gf=class extends xe{constructor(e){super(e,2)}};Z.NotificationType2=Gf;var Yf=class extends xe{constructor(e){super(e,3)}};Z.NotificationType3=Yf;var Kf=class extends xe{constructor(e){super(e,4)}};Z.NotificationType4=Kf;var Xf=class extends xe{constructor(e){super(e,5)}};Z.NotificationType5=Xf;var Jf=class extends xe{constructor(e){super(e,6)}};Z.NotificationType6=Jf;var Qf=class extends xe{constructor(e){super(e,7)}};Z.NotificationType7=Qf;var Zf=class extends xe{constructor(e){super(e,8)}};Z.NotificationType8=Zf;var ed=class extends xe{constructor(e){super(e,9)}};Z.NotificationType9=ed;var Ey;(function(t){function e(i){let o=i;return o&&hi.string(o.method)&&(hi.string(o.id)||hi.number(o.id))}t.isRequest=e;function r(i){let o=i;return o&&hi.string(o.method)&&i.id===void 0}t.isNotification=r;function n(i){let o=i;return o&&(o.result!==void 0||!!o.error)&&(hi.string(o.id)||hi.number(o.id)||o.id===null)}t.isResponse=n})(Ey||(Z.Message=Ey={}))});var nd=p(Dn=>{"use strict";var Dy;Object.defineProperty(Dn,"__esModule",{value:!0});Dn.LRUCache=Dn.LinkedMap=Dn.Touch=void 0;var pt;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(pt||(Dn.Touch=pt={}));var Va=class{constructor(){this[Dy]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,r=pt.None){let n=this._map.get(e);if(n)return r!==pt.None&&this.touch(n,r),n.value}set(e,r,n=pt.None){let i=this._map.get(e);if(i)i.value=r,n!==pt.None&&this.touch(i,n);else{switch(i={key:e,value:r,next:void 0,previous:void 0},n){case pt.None:this.addItemLast(i);break;case pt.First:this.addItemFirst(i);break;case pt.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let r=this._map.get(e);if(r)return this._map.delete(e),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,r){let n=this._state,i=this._head;for(;i;){if(r?e.bind(r)(i.value,i.key,this):e(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.key,done:!1};return r=r.next,i}else return{value:void 0,done:!0}}};return n}values(){let e=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.value,done:!1};return r=r.next,i}else return{value:void 0,done:!0}}};return n}entries(){let e=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:[r.key,r.value],done:!1};return r=r.next,i}else return{value:void 0,done:!0}}};return n}[(Dy=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>e;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let r=e.next,n=e.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}e.next=void 0,e.previous=void 0,this._state++}touch(e,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==pt.First&&r!==pt.Last)){if(r===pt.First){if(e===this._head)return;let n=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(r===pt.Last){if(e===this._tail)return;let n=e.next,i=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((r,n)=>{e.push([n,r])}),e}fromJSON(e){this.clear();for(let[r,n]of e)this.set(r,n)}};Dn.LinkedMap=Va;var rd=class extends Va{constructor(e,r=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,r),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,r=pt.AsNew){return super.get(e,r)}peek(e){return super.get(e,pt.None)}set(e,r){return super.set(e,r,pt.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};Dn.LRUCache=rd});var Oy=p(Ga=>{"use strict";Object.defineProperty(Ga,"__esModule",{value:!0});Ga.Disposable=void 0;var Py;(function(t){function e(r){return{dispose:r}}t.create=e})(Py||(Ga.Disposable=Py={}))});var Pn=p(sd=>{"use strict";Object.defineProperty(sd,"__esModule",{value:!0});var id;function od(){if(id===void 0)throw new Error("No runtime abstraction layer installed");return id}(function(t){function e(r){if(r===void 0)throw new Error("No runtime abstraction layer provided");id=r}t.install=e})(od||(od={}));sd.default=od});var Xi=p(Ki=>{"use strict";Object.defineProperty(Ki,"__esModule",{value:!0});Ki.Emitter=Ki.Event=void 0;var Jq=Pn(),Ty;(function(t){let e={dispose(){}};t.None=function(){return e}})(Ty||(Ki.Event=Ty={}));var ad=class{add(e,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,r)})}remove(e,r=null){if(!this._callbacks)return;let n=!1;for(let i=0,o=this._callbacks.length;i<o;i++)if(this._callbacks[i]===e)if(this._contexts[i]===r){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let r=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,s=n.length;o<s;o++)try{r.push(n[o].apply(i[o],e))}catch(a){(0,Jq.default)().console.error(a)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},Ya=class t{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,r,n)=>{this._callbacks||(this._callbacks=new ad),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,r);let i={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,r),i.dispose=t._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};Ki.Emitter=Ya;Ya._noop=function(){}});var Ja=p(Ji=>{"use strict";Object.defineProperty(Ji,"__esModule",{value:!0});Ji.CancellationTokenSource=Ji.CancellationToken=void 0;var Qq=Pn(),Zq=Yi(),ud=Xi(),Ka;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:ud.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:ud.Event.None});function e(r){let n=r;return n&&(n===t.None||n===t.Cancelled||Zq.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}t.is=e})(Ka||(Ji.CancellationToken=Ka={}));var eM=Object.freeze(function(t,e){let r=(0,Qq.default)().timer.setTimeout(t.bind(e),0);return{dispose(){r.dispose()}}}),Xa=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?eM:(this._emitter||(this._emitter=new ud.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},cd=class{get token(){return this._token||(this._token=new Xa),this._token}cancel(){this._token?this._token.cancel():this._token=Ka.Cancelled}dispose(){this._token?this._token instanceof Xa&&this._token.dispose():this._token=Ka.None}};Ji.CancellationTokenSource=cd});var qy=p(Qi=>{"use strict";Object.defineProperty(Qi,"__esModule",{value:!0});Qi.SharedArrayReceiverStrategy=Qi.SharedArraySenderStrategy=void 0;var tM=Ja(),cs;(function(t){t.Continue=0,t.Cancelled=1})(cs||(cs={}));var ld=class{constructor(){this.buffers=new Map}enableCancellation(e){if(e.id===null)return;let r=new SharedArrayBuffer(4),n=new Int32Array(r,0,1);n[0]=cs.Continue,this.buffers.set(e.id,r),e.$cancellationData=r}async sendCancellation(e,r){let n=this.buffers.get(r);if(n===void 0)return;let i=new Int32Array(n,0,1);Atomics.store(i,0,cs.Cancelled)}cleanup(e){this.buffers.delete(e)}dispose(){this.buffers.clear()}};Qi.SharedArraySenderStrategy=ld;var fd=class{constructor(e){this.data=new Int32Array(e,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===cs.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},dd=class{constructor(e){this.token=new fd(e)}cancel(){}dispose(){}},hd=class{constructor(){this.kind="request"}createCancellationTokenSource(e){let r=e.$cancellationData;return r===void 0?new tM.CancellationTokenSource:new dd(r)}};Qi.SharedArrayReceiverStrategy=hd});var pd=p(Qa=>{"use strict";Object.defineProperty(Qa,"__esModule",{value:!0});Qa.Semaphore=void 0;var rM=Pn(),gd=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((r,n)=>{this._waiting.push({thunk:e,resolve:r,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,rM.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let r=e.thunk();r instanceof Promise?r.then(n=>{this._active--,e.resolve(n),this.runNext()},n=>{this._active--,e.reject(n),this.runNext()}):(this._active--,e.resolve(r),this.runNext())}catch(r){this._active--,e.reject(r),this.runNext()}}};Qa.Semaphore=gd});var Cy=p(On=>{"use strict";Object.defineProperty(On,"__esModule",{value:!0});On.ReadableStreamMessageReader=On.AbstractMessageReader=On.MessageReader=void 0;var yd=Pn(),Zi=Yi(),md=Xi(),nM=pd(),My;(function(t){function e(r){let n=r;return n&&Zi.func(n.listen)&&Zi.func(n.dispose)&&Zi.func(n.onError)&&Zi.func(n.onClose)&&Zi.func(n.onPartialMessage)}t.is=e})(My||(On.MessageReader=My={}));var Za=class{constructor(){this.errorEmitter=new md.Emitter,this.closeEmitter=new md.Emitter,this.partialMessageEmitter=new md.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${Zi.string(e.message)?e.message:"unknown"}`)}};On.AbstractMessageReader=Za;var vd;(function(t){function e(r){let n,i,o,s=new Map,a,u=new Map;if(r===void 0||typeof r=="string")n=r??"utf-8";else{if(n=r.charset??"utf-8",r.contentDecoder!==void 0&&(o=r.contentDecoder,s.set(o.name,o)),r.contentDecoders!==void 0)for(let c of r.contentDecoders)s.set(c.name,c);if(r.contentTypeDecoder!==void 0&&(a=r.contentTypeDecoder,u.set(a.name,a)),r.contentTypeDecoders!==void 0)for(let c of r.contentTypeDecoders)u.set(c.name,c)}return a===void 0&&(a=(0,yd.default)().applicationJson.decoder,u.set(a.name,a)),{charset:n,contentDecoder:o,contentDecoders:s,contentTypeDecoder:a,contentTypeDecoders:u}}t.fromOptions=e})(vd||(vd={}));var bd=class extends Za{constructor(e,r){super(),this.readable=e,this.options=vd.fromOptions(r),this.buffer=(0,yd.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new nM.Semaphore(1)}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let r=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),r}onData(e){try{for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let n=this.buffer.tryReadHeaders(!0);if(!n)return;let i=n.get("content-length");if(!i){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(n))}`));return}let o=parseInt(i);if(isNaN(o)){this.fireError(new Error(`Content-Length value must be a number. Got ${i}`));return}this.nextMessageLength=o}let r=this.buffer.tryReadBody(this.nextMessageLength);if(r===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let n=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(r):r,i=await this.options.contentTypeDecoder.decode(n,this.options);this.callback(i)}).catch(n=>{this.fireError(n)})}}catch(r){this.fireError(r)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,yd.default)().timer.setTimeout((e,r)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:r}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};On.ReadableStreamMessageReader=bd});var xy=p(Tn=>{"use strict";Object.defineProperty(Tn,"__esModule",{value:!0});Tn.WriteableStreamMessageWriter=Tn.AbstractMessageWriter=Tn.MessageWriter=void 0;var Ay=Pn(),ls=Yi(),iM=pd(),jy=Xi(),oM="Content-Length: ",Ny=`\r
`,Ly;(function(t){function e(r){let n=r;return n&&ls.func(n.dispose)&&ls.func(n.onClose)&&ls.func(n.onError)&&ls.func(n.write)}t.is=e})(Ly||(Tn.MessageWriter=Ly={}));var eu=class{constructor(){this.errorEmitter=new jy.Emitter,this.closeEmitter=new jy.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,r,n){this.errorEmitter.fire([this.asError(e),r,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${ls.string(e.message)?e.message:"unknown"}`)}};Tn.AbstractMessageWriter=eu;var _d;(function(t){function e(r){return r===void 0||typeof r=="string"?{charset:r??"utf-8",contentTypeEncoder:(0,Ay.default)().applicationJson.encoder}:{charset:r.charset??"utf-8",contentEncoder:r.contentEncoder,contentTypeEncoder:r.contentTypeEncoder??(0,Ay.default)().applicationJson.encoder}}t.fromOptions=e})(_d||(_d={}));var wd=class extends eu{constructor(e,r){super(),this.writable=e,this.options=_d.fromOptions(r),this.errorCount=0,this.writeSemaphore=new iM.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push(oM,n.byteLength.toString(),Ny),i.push(Ny),this.doWrite(e,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(e,r,n){try{return await this.writable.write(r.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,r){this.errorCount++,this.fireError(e,r,this.errorCount)}end(){this.writable.end()}};Tn.WriteableStreamMessageWriter=wd});var Iy=p(tu=>{"use strict";Object.defineProperty(tu,"__esModule",{value:!0});tu.AbstractMessageBuffer=void 0;var sM=13,aM=10,uM=`\r
`,Rd=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let r=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(r),this._totalLength+=r.byteLength}tryReadHeaders(e=!1){if(this._chunks.length===0)return;let r=0,n=0,i=0,o=0;e:for(;n<this._chunks.length;){let c=this._chunks[n];for(i=0;i<c.length;){switch(c[i]){case sM:switch(r){case 0:r=1;break;case 2:r=3;break;default:r=0}break;case aM:switch(r){case 1:r=2;break;case 3:r=4,i++;break e;default:r=0}break;default:r=0}i++}o+=c.byteLength,n++}if(r!==4)return;let s=this._read(o+i),a=new Map,u=this.toString(s,"ascii").split(uM);if(u.length<2)return a;for(let c=0;c<u.length-2;c++){let h=u[c],d=h.indexOf(":");if(d===-1)throw new Error(`Message header must separate key and value using ':'
${h}`);let g=h.substr(0,d),_=h.substr(d+1).trim();a.set(e?g.toLowerCase():g,_)}return a}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let o=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(o)}if(this._chunks[0].byteLength>e){let o=this._chunks[0],s=this.asNative(o,e);return this._chunks[0]=o.slice(e),this._totalLength-=e,s}let r=this.allocNative(e),n=0,i=0;for(;e>0;){let o=this._chunks[i];if(o.byteLength>e){let s=o.slice(0,e);r.set(s,n),n+=e,this._chunks[i]=o.slice(e),this._totalLength-=e,e-=e}else r.set(o,n),n+=o.byteLength,this._chunks.shift(),this._totalLength-=o.byteLength,e-=o.byteLength}return r}};tu.AbstractMessageBuffer=Rd});var Hy=p(ue=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0});ue.createMessageConnection=ue.ConnectionOptions=ue.MessageStrategy=ue.CancellationStrategy=ue.CancellationSenderStrategy=ue.CancellationReceiverStrategy=ue.RequestCancellationReceiverStrategy=ue.IdCancellationReceiverStrategy=ue.ConnectionStrategy=ue.ConnectionError=ue.ConnectionErrors=ue.LogTraceNotification=ue.SetTraceNotification=ue.TraceFormat=ue.TraceValues=ue.Trace=ue.NullLogger=ue.ProgressType=ue.ProgressToken=void 0;var ky=Pn(),We=Yi(),te=td(),Fy=nd(),fs=Xi(),Sd=Ja(),gs;(function(t){t.type=new te.NotificationType("$/cancelRequest")})(gs||(gs={}));var Ed;(function(t){function e(r){return typeof r=="string"||typeof r=="number"}t.is=e})(Ed||(ue.ProgressToken=Ed={}));var ds;(function(t){t.type=new te.NotificationType("$/progress")})(ds||(ds={}));var Dd=class{constructor(){}};ue.ProgressType=Dd;var Pd;(function(t){function e(r){return We.func(r)}t.is=e})(Pd||(Pd={}));ue.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var Ee;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Compact=2]="Compact",t[t.Verbose=3]="Verbose"})(Ee||(ue.Trace=Ee={}));var $y;(function(t){t.Off="off",t.Messages="messages",t.Compact="compact",t.Verbose="verbose"})($y||(ue.TraceValues=$y={}));(function(t){function e(n){if(!We.string(n))return t.Off;switch(n=n.toLowerCase(),n){case"off":return t.Off;case"messages":return t.Messages;case"compact":return t.Compact;case"verbose":return t.Verbose;default:return t.Off}}t.fromString=e;function r(n){switch(n){case t.Off:return"off";case t.Messages:return"messages";case t.Compact:return"compact";case t.Verbose:return"verbose";default:return"off"}}t.toString=r})(Ee||(ue.Trace=Ee={}));var Kt;(function(t){t.Text="text",t.JSON="json"})(Kt||(ue.TraceFormat=Kt={}));(function(t){function e(r){return We.string(r)?(r=r.toLowerCase(),r==="json"?t.JSON:t.Text):t.Text}t.fromString=e})(Kt||(ue.TraceFormat=Kt={}));var Od;(function(t){t.type=new te.NotificationType("$/setTrace")})(Od||(ue.SetTraceNotification=Od={}));var ru;(function(t){t.type=new te.NotificationType("$/logTrace")})(ru||(ue.LogTraceNotification=ru={}));var hs;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(hs||(ue.ConnectionErrors=hs={}));var eo=class t extends Error{constructor(e,r){super(r),this.code=e,Object.setPrototypeOf(this,t.prototype)}};ue.ConnectionError=eo;var Td;(function(t){function e(r){let n=r;return n&&We.func(n.cancelUndispatched)}t.is=e})(Td||(ue.ConnectionStrategy=Td={}));var nu;(function(t){function e(r){let n=r;return n&&(n.kind===void 0||n.kind==="id")&&We.func(n.createCancellationTokenSource)&&(n.dispose===void 0||We.func(n.dispose))}t.is=e})(nu||(ue.IdCancellationReceiverStrategy=nu={}));var qd;(function(t){function e(r){let n=r;return n&&n.kind==="request"&&We.func(n.createCancellationTokenSource)&&(n.dispose===void 0||We.func(n.dispose))}t.is=e})(qd||(ue.RequestCancellationReceiverStrategy=qd={}));var iu;(function(t){t.Message=Object.freeze({createCancellationTokenSource(r){return new Sd.CancellationTokenSource}});function e(r){return nu.is(r)||qd.is(r)}t.is=e})(iu||(ue.CancellationReceiverStrategy=iu={}));var ou;(function(t){t.Message=Object.freeze({sendCancellation(r,n){return r.sendNotification(gs.type,{id:n})},cleanup(r){}});function e(r){let n=r;return n&&We.func(n.sendCancellation)&&We.func(n.cleanup)}t.is=e})(ou||(ue.CancellationSenderStrategy=ou={}));var su;(function(t){t.Message=Object.freeze({receiver:iu.Message,sender:ou.Message});function e(r){let n=r;return n&&iu.is(n.receiver)&&ou.is(n.sender)}t.is=e})(su||(ue.CancellationStrategy=su={}));var au;(function(t){function e(r){let n=r;return n&&We.func(n.handleMessage)}t.is=e})(au||(ue.MessageStrategy=au={}));var Wy;(function(t){function e(r){let n=r;return n&&(su.is(n.cancellationStrategy)||Td.is(n.connectionStrategy)||au.is(n.messageStrategy))}t.is=e})(Wy||(ue.ConnectionOptions=Wy={}));var br;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(br||(br={}));function cM(t,e,r,n){let i=r!==void 0?r:ue.NullLogger,o=0,s=0,a=0,u="2.0",c,h=new Map,d,g=new Map,_=new Map,y,E=new Fy.LinkedMap,C=new Map,O=new Set,w=new Map,v=Ee.Off,M=Kt.Text,I,W=br.New,V=new fs.Emitter,ee=new fs.Emitter,re=new fs.Emitter,F=new fs.Emitter,x=new fs.Emitter,H=n&&n.cancellationStrategy?n.cancellationStrategy:su.Message;function z(R){if(R===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+R.toString()}function ie(R){return R===null?"res-unknown-"+(++a).toString():"res-"+R.toString()}function le(){return"not-"+(++s).toString()}function q(R,N){te.Message.isRequest(N)?R.set(z(N.id),N):te.Message.isResponse(N)?R.set(ie(N.id),N):R.set(le(),N)}function U(R){}function ne(){return W===br.Listening}function fe(){return W===br.Closed}function J(){return W===br.Disposed}function st(){(W===br.New||W===br.Listening)&&(W=br.Closed,ee.fire(void 0))}function _t(R){V.fire([R,void 0,void 0])}function Nr(R){V.fire(R)}t.onClose(st),t.onError(_t),e.onClose(st),e.onError(Nr);function Lr(){y||E.size===0||(y=(0,ky.default)().timer.setImmediate(()=>{y=void 0,nn()}))}function Sn(R){te.Message.isRequest(R)?ht(R):te.Message.isNotification(R)?zi(R):te.Message.isResponse(R)?di(R):on(R)}function nn(){if(E.size===0)return;let R=E.shift();try{let N=n?.messageStrategy;au.is(N)?N.handleMessage(R,Sn):Sn(R)}finally{Lr()}}let Bi=R=>{try{if(te.Message.isNotification(R)&&R.method===gs.type.method){let N=R.params.id,$=z(N),X=E.get($);if(te.Message.isRequest(X)){let De=n?.connectionStrategy,Le=De&&De.cancelUndispatched?De.cancelUndispatched(X,U):void 0;if(Le&&(Le.error!==void 0||Le.result!==void 0)){E.delete($),w.delete(N),Le.id=X.id,un(Le,R.method,Date.now()),e.write(Le).catch(()=>i.error("Sending response for canceled message failed."));return}}let qe=w.get(N);if(qe!==void 0){qe.cancel(),Gt(R);return}else O.add(N)}q(E,R)}finally{Lr()}};function ht(R){if(J())return;function N(me,Ce,Re){let He={jsonrpc:u,id:R.id};me instanceof te.ResponseError?He.error=me.toJson():He.result=me===void 0?null:me,un(He,Ce,Re),e.write(He).catch(()=>i.error("Sending response failed."))}function $(me,Ce,Re){let He={jsonrpc:u,id:R.id,error:me.toJson()};un(He,Ce,Re),e.write(He).catch(()=>i.error("Sending response failed."))}function X(me,Ce,Re){me===void 0&&(me=null);let He={jsonrpc:u,id:R.id,result:me};un(He,Ce,Re),e.write(He).catch(()=>i.error("Sending response failed."))}xr(R);let qe=h.get(R.method),De,Le;qe&&(De=qe.type,Le=qe.handler);let Fe=Date.now();if(Le||c){let me=R.id??String(Date.now()),Ce=nu.is(H.receiver)?H.receiver.createCancellationTokenSource(me):H.receiver.createCancellationTokenSource(R);R.id!==null&&O.has(R.id)&&Ce.cancel(),R.id!==null&&w.set(me,Ce);try{let Re;if(Le)if(R.params===void 0){if(De!==void 0&&De.numberOfParams!==0){$(new te.ResponseError(te.ErrorCodes.InvalidParams,`Request ${R.method} defines ${De.numberOfParams} params but received none.`),R.method,Fe);return}Re=Le(Ce.token)}else if(Array.isArray(R.params)){if(De!==void 0&&De.parameterStructures===te.ParameterStructures.byName){$(new te.ResponseError(te.ErrorCodes.InvalidParams,`Request ${R.method} defines parameters by name but received parameters by position`),R.method,Fe);return}Re=Le(...R.params,Ce.token)}else{if(De!==void 0&&De.parameterStructures===te.ParameterStructures.byPosition){$(new te.ResponseError(te.ErrorCodes.InvalidParams,`Request ${R.method} defines parameters by position but received parameters by name`),R.method,Fe);return}Re=Le(R.params,Ce.token)}else c&&(Re=c(R.method,R.params,Ce.token));let He=Re;Re?He.then?He.then(rt=>{w.delete(me),N(rt,R.method,Fe)},rt=>{w.delete(me),rt instanceof te.ResponseError?$(rt,R.method,Fe):rt&&We.string(rt.message)?$(new te.ResponseError(te.ErrorCodes.InternalError,`Request ${R.method} failed with message: ${rt.message}`),R.method,Fe):$(new te.ResponseError(te.ErrorCodes.InternalError,`Request ${R.method} failed unexpectedly without providing any details.`),R.method,Fe)}):(w.delete(me),N(Re,R.method,Fe)):(w.delete(me),X(Re,R.method,Fe))}catch(Re){w.delete(me),Re instanceof te.ResponseError?N(Re,R.method,Fe):Re&&We.string(Re.message)?$(new te.ResponseError(te.ErrorCodes.InternalError,`Request ${R.method} failed with message: ${Re.message}`),R.method,Fe):$(new te.ResponseError(te.ErrorCodes.InternalError,`Request ${R.method} failed unexpectedly without providing any details.`),R.method,Fe)}}else $(new te.ResponseError(te.ErrorCodes.MethodNotFound,`Unhandled method ${R.method}`),R.method,Fe)}function di(R){if(!J())if(R.id===null)R.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(R.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let N=R.id,$=C.get(N);if(En(R,$),$!==void 0){C.delete(N);try{if(R.error){let X=R.error;$.reject(new te.ResponseError(X.code,X.message,X.data))}else if(R.result!==void 0)$.resolve(R.result);else throw new Error("Should never happen.")}catch(X){X.message?i.error(`Response handler '${$.method}' failed with message: ${X.message}`):i.error(`Response handler '${$.method}' failed unexpectedly.`)}}}}function zi(R){if(J())return;let N,$;if(R.method===gs.type.method){let X=R.params.id;O.delete(X),Gt(R);return}else{let X=g.get(R.method);X&&($=X.handler,N=X.type)}if($||d)try{if(Gt(R),$)if(R.params===void 0)N!==void 0&&N.numberOfParams!==0&&N.parameterStructures!==te.ParameterStructures.byName&&i.error(`Notification ${R.method} defines ${N.numberOfParams} params but received none.`),$();else if(Array.isArray(R.params)){let X=R.params;R.method===ds.type.method&&X.length===2&&Ed.is(X[0])?$({token:X[0],value:X[1]}):(N!==void 0&&(N.parameterStructures===te.ParameterStructures.byName&&i.error(`Notification ${R.method} defines parameters by name but received parameters by position`),N.numberOfParams!==R.params.length&&i.error(`Notification ${R.method} defines ${N.numberOfParams} params but received ${X.length} arguments`)),$(...X))}else N!==void 0&&N.parameterStructures===te.ParameterStructures.byPosition&&i.error(`Notification ${R.method} defines parameters by position but received parameters by name`),$(R.params);else d&&d(R.method,R.params)}catch(X){X.message?i.error(`Notification handler '${R.method}' failed with message: ${X.message}`):i.error(`Notification handler '${R.method}' failed unexpectedly.`)}else re.fire(R)}function on(R){if(!R){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(R,null,4)}`);let N=R;if(We.string(N.id)||We.number(N.id)){let $=N.id,X=C.get($);X&&X.reject(new Error("The received response has neither a result nor an error property."))}}function At(R){if(R!=null)switch(v){case Ee.Verbose:return JSON.stringify(R,null,4);case Ee.Compact:return JSON.stringify(R);default:return}}function sn(R){if(!(v===Ee.Off||!I))if(M===Kt.Text){let N;(v===Ee.Verbose||v===Ee.Compact)&&R.params&&(N=`Params: ${At(R.params)}

`),I.log(`Sending request '${R.method} - (${R.id})'.`,N)}else pr("send-request",R)}function an(R){if(!(v===Ee.Off||!I))if(M===Kt.Text){let N;(v===Ee.Verbose||v===Ee.Compact)&&(R.params?N=`Params: ${At(R.params)}

`:N=`No parameters provided.

`),I.log(`Sending notification '${R.method}'.`,N)}else pr("send-notification",R)}function un(R,N,$){if(!(v===Ee.Off||!I))if(M===Kt.Text){let X;(v===Ee.Verbose||v===Ee.Compact)&&(R.error&&R.error.data?X=`Error data: ${At(R.error.data)}

`:R.result?X=`Result: ${At(R.result)}

`:R.error===void 0&&(X=`No result returned.

`)),I.log(`Sending response '${N} - (${R.id})'. Processing request took ${Date.now()-$}ms`,X)}else pr("send-response",R)}function xr(R){if(!(v===Ee.Off||!I))if(M===Kt.Text){let N;(v===Ee.Verbose||v===Ee.Compact)&&R.params&&(N=`Params: ${At(R.params)}

`),I.log(`Received request '${R.method} - (${R.id})'.`,N)}else pr("receive-request",R)}function Gt(R){if(!(v===Ee.Off||!I||R.method===ru.type.method))if(M===Kt.Text){let N;(v===Ee.Verbose||v===Ee.Compact)&&(R.params?N=`Params: ${At(R.params)}

`:N=`No parameters provided.

`),I.log(`Received notification '${R.method}'.`,N)}else pr("receive-notification",R)}function En(R,N){if(!(v===Ee.Off||!I))if(M===Kt.Text){let $;if((v===Ee.Verbose||v===Ee.Compact)&&(R.error&&R.error.data?$=`Error data: ${At(R.error.data)}

`:R.result?$=`Result: ${At(R.result)}

`:R.error===void 0&&($=`No result returned.

`)),N){let X=R.error?` Request failed: ${R.error.message} (${R.error.code}).`:"";I.log(`Received response '${N.method} - (${R.id})' in ${Date.now()-N.timerStart}ms.${X}`,$)}else I.log(`Received response ${R.id} without active response promise.`,$)}else pr("receive-response",R)}function pr(R,N){if(!I||v===Ee.Off)return;let $={isLSPMessage:!0,type:R,message:N,timestamp:Date.now()};I.log($)}function mr(){if(fe())throw new eo(hs.Closed,"Connection is closed.");if(J())throw new eo(hs.Disposed,"Connection is disposed.")}function Wa(){if(ne())throw new eo(hs.AlreadyListening,"Connection is already listening")}function Ha(){if(!ne())throw new Error("Call listen() first.")}function Ir(R){return R===void 0?null:R}function ss(R){if(R!==null)return R}function as(R){return R!=null&&!Array.isArray(R)&&typeof R=="object"}function Vi(R,N){switch(R){case te.ParameterStructures.auto:return as(N)?ss(N):[Ir(N)];case te.ParameterStructures.byName:if(!as(N))throw new Error("Received parameters by name but param is not an object literal.");return ss(N);case te.ParameterStructures.byPosition:return[Ir(N)];default:throw new Error(`Unknown parameter structure ${R.toString()}`)}}function us(R,N){let $,X=R.numberOfParams;switch(X){case 0:$=void 0;break;case 1:$=Vi(R.parameterStructures,N[0]);break;default:$=[];for(let qe=0;qe<N.length&&qe<X;qe++)$.push(Ir(N[qe]));if(N.length<X)for(let qe=N.length;qe<X;qe++)$.push(null);break}return $}let cn={sendNotification:(R,...N)=>{mr();let $,X;if(We.string(R)){$=R;let De=N[0],Le=0,Fe=te.ParameterStructures.auto;te.ParameterStructures.is(De)&&(Le=1,Fe=De);let me=N.length,Ce=me-Le;switch(Ce){case 0:X=void 0;break;case 1:X=Vi(Fe,N[Le]);break;default:if(Fe===te.ParameterStructures.byName)throw new Error(`Received ${Ce} parameters for 'by Name' notification parameter structure.`);X=N.slice(Le,me).map(Re=>Ir(Re));break}}else{let De=N;$=R.method,X=us(R,De)}let qe={jsonrpc:u,method:$,params:X};return an(qe),e.write(qe).catch(De=>{throw i.error("Sending notification failed."),De})},onNotification:(R,N)=>{mr();let $;return We.func(R)?d=R:N&&(We.string(R)?($=R,g.set(R,{type:void 0,handler:N})):($=R.method,g.set(R.method,{type:R,handler:N}))),{dispose:()=>{$!==void 0?g.delete($):d=void 0}}},onProgress:(R,N,$)=>{if(_.has(N))throw new Error(`Progress handler for token ${N} already registered`);return _.set(N,$),{dispose:()=>{_.delete(N)}}},sendProgress:(R,N,$)=>cn.sendNotification(ds.type,{token:N,value:$}),onUnhandledProgress:F.event,sendRequest:(R,...N)=>{mr(),Ha();let $,X,qe;if(We.string(R)){$=R;let me=N[0],Ce=N[N.length-1],Re=0,He=te.ParameterStructures.auto;te.ParameterStructures.is(me)&&(Re=1,He=me);let rt=N.length;Sd.CancellationToken.is(Ce)&&(rt=rt-1,qe=Ce);let Yt=rt-Re;switch(Yt){case 0:X=void 0;break;case 1:X=Vi(He,N[Re]);break;default:if(He===te.ParameterStructures.byName)throw new Error(`Received ${Yt} parameters for 'by Name' request parameter structure.`);X=N.slice(Re,rt).map(Ua=>Ir(Ua));break}}else{let me=N;$=R.method,X=us(R,me);let Ce=R.numberOfParams;qe=Sd.CancellationToken.is(me[Ce])?me[Ce]:void 0}let De=o++,Le;qe&&(Le=qe.onCancellationRequested(()=>{let me=H.sender.sendCancellation(cn,De);return me===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${De}`),Promise.resolve()):me.catch(()=>{i.log(`Sending cancellation messages for id ${De} failed`)})}));let Fe={jsonrpc:u,id:De,method:$,params:X};return sn(Fe),typeof H.sender.enableCancellation=="function"&&H.sender.enableCancellation(Fe),new Promise(async(me,Ce)=>{let Re=Yt=>{me(Yt),H.sender.cleanup(De),Le?.dispose()},He=Yt=>{Ce(Yt),H.sender.cleanup(De),Le?.dispose()},rt={method:$,timerStart:Date.now(),resolve:Re,reject:He};try{await e.write(Fe),C.set(De,rt)}catch(Yt){throw i.error("Sending request failed."),rt.reject(new te.ResponseError(te.ErrorCodes.MessageWriteError,Yt.message?Yt.message:"Unknown reason")),Yt}})},onRequest:(R,N)=>{mr();let $=null;return Pd.is(R)?($=void 0,c=R):We.string(R)?($=null,N!==void 0&&($=R,h.set(R,{handler:N,type:void 0}))):N!==void 0&&($=R.method,h.set(R.method,{type:R,handler:N})),{dispose:()=>{$!==null&&($!==void 0?h.delete($):c=void 0)}}},hasPendingResponse:()=>C.size>0,trace:async(R,N,$)=>{let X=!1,qe=Kt.Text;$!==void 0&&(We.boolean($)?X=$:(X=$.sendNotification||!1,qe=$.traceFormat||Kt.Text)),v=R,M=qe,v===Ee.Off?I=void 0:I=N,X&&!fe()&&!J()&&await cn.sendNotification(Od.type,{value:Ee.toString(R)})},onError:V.event,onClose:ee.event,onUnhandledNotification:re.event,onDispose:x.event,end:()=>{e.end()},dispose:()=>{if(J())return;W=br.Disposed,x.fire(void 0);let R=new te.ResponseError(te.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let N of C.values())N.reject(R);C=new Map,w=new Map,O=new Set,E=new Fy.LinkedMap,We.func(e.dispose)&&e.dispose(),We.func(t.dispose)&&t.dispose()},listen:()=>{mr(),Wa(),W=br.Listening,t.listen(Bi)},inspect:()=>{(0,ky.default)().console.log("inspect")}};return cn.onNotification(ru.type,R=>{if(v===Ee.Off||!I)return;let N=v===Ee.Verbose||v===Ee.Compact;I.log(R.message,N?R.verbose:void 0)}),cn.onNotification(ds.type,R=>{let N=_.get(R.token);N?N(R.value):F.fire(R)}),cn}ue.createMessageConnection=cM});var uu=p(A=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});A.ProgressType=A.ProgressToken=A.createMessageConnection=A.NullLogger=A.ConnectionOptions=A.ConnectionStrategy=A.AbstractMessageBuffer=A.WriteableStreamMessageWriter=A.AbstractMessageWriter=A.MessageWriter=A.ReadableStreamMessageReader=A.AbstractMessageReader=A.MessageReader=A.SharedArrayReceiverStrategy=A.SharedArraySenderStrategy=A.CancellationToken=A.CancellationTokenSource=A.Emitter=A.Event=A.Disposable=A.LRUCache=A.Touch=A.LinkedMap=A.ParameterStructures=A.NotificationType9=A.NotificationType8=A.NotificationType7=A.NotificationType6=A.NotificationType5=A.NotificationType4=A.NotificationType3=A.NotificationType2=A.NotificationType1=A.NotificationType0=A.NotificationType=A.ErrorCodes=A.ResponseError=A.RequestType9=A.RequestType8=A.RequestType7=A.RequestType6=A.RequestType5=A.RequestType4=A.RequestType3=A.RequestType2=A.RequestType1=A.RequestType0=A.RequestType=A.Message=A.RAL=void 0;A.MessageStrategy=A.CancellationStrategy=A.CancellationSenderStrategy=A.CancellationReceiverStrategy=A.ConnectionError=A.ConnectionErrors=A.LogTraceNotification=A.SetTraceNotification=A.TraceFormat=A.TraceValues=A.Trace=void 0;var Ne=td();Object.defineProperty(A,"Message",{enumerable:!0,get:function(){return Ne.Message}});Object.defineProperty(A,"RequestType",{enumerable:!0,get:function(){return Ne.RequestType}});Object.defineProperty(A,"RequestType0",{enumerable:!0,get:function(){return Ne.RequestType0}});Object.defineProperty(A,"RequestType1",{enumerable:!0,get:function(){return Ne.RequestType1}});Object.defineProperty(A,"RequestType2",{enumerable:!0,get:function(){return Ne.RequestType2}});Object.defineProperty(A,"RequestType3",{enumerable:!0,get:function(){return Ne.RequestType3}});Object.defineProperty(A,"RequestType4",{enumerable:!0,get:function(){return Ne.RequestType4}});Object.defineProperty(A,"RequestType5",{enumerable:!0,get:function(){return Ne.RequestType5}});Object.defineProperty(A,"RequestType6",{enumerable:!0,get:function(){return Ne.RequestType6}});Object.defineProperty(A,"RequestType7",{enumerable:!0,get:function(){return Ne.RequestType7}});Object.defineProperty(A,"RequestType8",{enumerable:!0,get:function(){return Ne.RequestType8}});Object.defineProperty(A,"RequestType9",{enumerable:!0,get:function(){return Ne.RequestType9}});Object.defineProperty(A,"ResponseError",{enumerable:!0,get:function(){return Ne.ResponseError}});Object.defineProperty(A,"ErrorCodes",{enumerable:!0,get:function(){return Ne.ErrorCodes}});Object.defineProperty(A,"NotificationType",{enumerable:!0,get:function(){return Ne.NotificationType}});Object.defineProperty(A,"NotificationType0",{enumerable:!0,get:function(){return Ne.NotificationType0}});Object.defineProperty(A,"NotificationType1",{enumerable:!0,get:function(){return Ne.NotificationType1}});Object.defineProperty(A,"NotificationType2",{enumerable:!0,get:function(){return Ne.NotificationType2}});Object.defineProperty(A,"NotificationType3",{enumerable:!0,get:function(){return Ne.NotificationType3}});Object.defineProperty(A,"NotificationType4",{enumerable:!0,get:function(){return Ne.NotificationType4}});Object.defineProperty(A,"NotificationType5",{enumerable:!0,get:function(){return Ne.NotificationType5}});Object.defineProperty(A,"NotificationType6",{enumerable:!0,get:function(){return Ne.NotificationType6}});Object.defineProperty(A,"NotificationType7",{enumerable:!0,get:function(){return Ne.NotificationType7}});Object.defineProperty(A,"NotificationType8",{enumerable:!0,get:function(){return Ne.NotificationType8}});Object.defineProperty(A,"NotificationType9",{enumerable:!0,get:function(){return Ne.NotificationType9}});Object.defineProperty(A,"ParameterStructures",{enumerable:!0,get:function(){return Ne.ParameterStructures}});var Md=nd();Object.defineProperty(A,"LinkedMap",{enumerable:!0,get:function(){return Md.LinkedMap}});Object.defineProperty(A,"LRUCache",{enumerable:!0,get:function(){return Md.LRUCache}});Object.defineProperty(A,"Touch",{enumerable:!0,get:function(){return Md.Touch}});var lM=Oy();Object.defineProperty(A,"Disposable",{enumerable:!0,get:function(){return lM.Disposable}});var Uy=Xi();Object.defineProperty(A,"Event",{enumerable:!0,get:function(){return Uy.Event}});Object.defineProperty(A,"Emitter",{enumerable:!0,get:function(){return Uy.Emitter}});var By=Ja();Object.defineProperty(A,"CancellationTokenSource",{enumerable:!0,get:function(){return By.CancellationTokenSource}});Object.defineProperty(A,"CancellationToken",{enumerable:!0,get:function(){return By.CancellationToken}});var zy=qy();Object.defineProperty(A,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return zy.SharedArraySenderStrategy}});Object.defineProperty(A,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return zy.SharedArrayReceiverStrategy}});var Cd=Cy();Object.defineProperty(A,"MessageReader",{enumerable:!0,get:function(){return Cd.MessageReader}});Object.defineProperty(A,"AbstractMessageReader",{enumerable:!0,get:function(){return Cd.AbstractMessageReader}});Object.defineProperty(A,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return Cd.ReadableStreamMessageReader}});var Ad=xy();Object.defineProperty(A,"MessageWriter",{enumerable:!0,get:function(){return Ad.MessageWriter}});Object.defineProperty(A,"AbstractMessageWriter",{enumerable:!0,get:function(){return Ad.AbstractMessageWriter}});Object.defineProperty(A,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return Ad.WriteableStreamMessageWriter}});var fM=Iy();Object.defineProperty(A,"AbstractMessageBuffer",{enumerable:!0,get:function(){return fM.AbstractMessageBuffer}});var at=Hy();Object.defineProperty(A,"ConnectionStrategy",{enumerable:!0,get:function(){return at.ConnectionStrategy}});Object.defineProperty(A,"ConnectionOptions",{enumerable:!0,get:function(){return at.ConnectionOptions}});Object.defineProperty(A,"NullLogger",{enumerable:!0,get:function(){return at.NullLogger}});Object.defineProperty(A,"createMessageConnection",{enumerable:!0,get:function(){return at.createMessageConnection}});Object.defineProperty(A,"ProgressToken",{enumerable:!0,get:function(){return at.ProgressToken}});Object.defineProperty(A,"ProgressType",{enumerable:!0,get:function(){return at.ProgressType}});Object.defineProperty(A,"Trace",{enumerable:!0,get:function(){return at.Trace}});Object.defineProperty(A,"TraceValues",{enumerable:!0,get:function(){return at.TraceValues}});Object.defineProperty(A,"TraceFormat",{enumerable:!0,get:function(){return at.TraceFormat}});Object.defineProperty(A,"SetTraceNotification",{enumerable:!0,get:function(){return at.SetTraceNotification}});Object.defineProperty(A,"LogTraceNotification",{enumerable:!0,get:function(){return at.LogTraceNotification}});Object.defineProperty(A,"ConnectionErrors",{enumerable:!0,get:function(){return at.ConnectionErrors}});Object.defineProperty(A,"ConnectionError",{enumerable:!0,get:function(){return at.ConnectionError}});Object.defineProperty(A,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return at.CancellationReceiverStrategy}});Object.defineProperty(A,"CancellationSenderStrategy",{enumerable:!0,get:function(){return at.CancellationSenderStrategy}});Object.defineProperty(A,"CancellationStrategy",{enumerable:!0,get:function(){return at.CancellationStrategy}});Object.defineProperty(A,"MessageStrategy",{enumerable:!0,get:function(){return at.MessageStrategy}});var dM=Pn();A.RAL=dM.default});var Yy=p(xd=>{"use strict";Object.defineProperty(xd,"__esModule",{value:!0});var Vy=require("util"),fn=uu(),cu=class t extends fn.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return t.emptyBuffer}fromString(e,r){return Buffer.from(e,r)}toString(e,r){return e instanceof Buffer?e.toString(r):new Vy.TextDecoder(r).decode(e)}asNative(e,r){return r===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,r):Buffer.from(e,0,r)}allocNative(e){return Buffer.allocUnsafe(e)}};cu.emptyBuffer=Buffer.allocUnsafe(0);var jd=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),fn.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),fn.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),fn.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),fn.Disposable.create(()=>this.stream.off("data",e))}},Nd=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),fn.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),fn.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),fn.Disposable.create(()=>this.stream.off("end",e))}write(e,r){return new Promise((n,i)=>{let o=s=>{s==null?n():i(s)};typeof e=="string"?this.stream.write(e,r,o):this.stream.write(e,o)})}end(){this.stream.end()}},Gy=Object.freeze({messageBuffer:Object.freeze({create:t=>new cu(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(r){return Promise.reject(r)}}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new Vy.TextDecoder(e.charset).decode(t)))}catch(r){return Promise.reject(r)}}})}),stream:Object.freeze({asReadableStream:t=>new jd(t),asWritableStream:t=>new Nd(t)}),console,timer:Object.freeze({setTimeout(t,e,...r){let n=setTimeout(t,e,...r);return{dispose:()=>clearTimeout(n)}},setImmediate(t,...e){let r=setImmediate(t,...e);return{dispose:()=>clearImmediate(r)}},setInterval(t,e,...r){let n=setInterval(t,e,...r);return{dispose:()=>clearInterval(n)}}})});function Ld(){return Gy}(function(t){function e(){fn.RAL.install(Gy)}t.install=e})(Ld||(Ld={}));xd.default=Ld});var mi=p(be=>{"use strict";var hM=be&&be.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),gM=be&&be.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&hM(e,t,r)};Object.defineProperty(be,"__esModule",{value:!0});be.createMessageConnection=be.createServerSocketTransport=be.createClientSocketTransport=be.createServerPipeTransport=be.createClientPipeTransport=be.generateRandomPipeName=be.StreamMessageWriter=be.StreamMessageReader=be.SocketMessageWriter=be.SocketMessageReader=be.PortMessageWriter=be.PortMessageReader=be.IPCMessageWriter=be.IPCMessageReader=void 0;var to=Yy();to.default.install();var Ky=require("path"),pM=require("os"),mM=require("crypto"),du=require("net"),Xt=uu();gM(uu(),be);var Id=class extends Xt.AbstractMessageReader{constructor(e){super(),this.process=e;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),Xt.Disposable.create(()=>this.process.off("message",e))}};be.IPCMessageReader=Id;var kd=class extends Xt.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,r=>{r?(this.errorCount++,this.handleError(r,e)):this.errorCount=0}),Promise.resolve()}catch(r){return this.handleError(r,e),Promise.reject(r)}}handleError(e,r){this.errorCount++,this.fireError(e,r,this.errorCount)}end(){}};be.IPCMessageWriter=kd;var Fd=class extends Xt.AbstractMessageReader{constructor(e){super(),this.onData=new Xt.Emitter,e.on("close",()=>this.fireClose),e.on("error",r=>this.fireError(r)),e.on("message",r=>{this.onData.fire(r)})}listen(e){return this.onData.event(e)}};be.PortMessageReader=Fd;var $d=class extends Xt.AbstractMessageWriter{constructor(e){super(),this.port=e,this.errorCount=0,e.on("close",()=>this.fireClose()),e.on("error",r=>this.fireError(r))}write(e){try{return this.port.postMessage(e),Promise.resolve()}catch(r){return this.handleError(r,e),Promise.reject(r)}}handleError(e,r){this.errorCount++,this.fireError(e,r,this.errorCount)}end(){}};be.PortMessageWriter=$d;var gi=class extends Xt.ReadableStreamMessageReader{constructor(e,r="utf-8"){super((0,to.default)().stream.asReadableStream(e),r)}};be.SocketMessageReader=gi;var pi=class extends Xt.WriteableStreamMessageWriter{constructor(e,r){super((0,to.default)().stream.asWritableStream(e),r),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};be.SocketMessageWriter=pi;var lu=class extends Xt.ReadableStreamMessageReader{constructor(e,r){super((0,to.default)().stream.asReadableStream(e),r)}};be.StreamMessageReader=lu;var fu=class extends Xt.WriteableStreamMessageWriter{constructor(e,r){super((0,to.default)().stream.asWritableStream(e),r)}};be.StreamMessageWriter=fu;var Xy=process.env.XDG_RUNTIME_DIR,yM=new Map([["linux",107],["darwin",103]]);function vM(){let t=(0,mM.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;Xy?e=Ky.join(Xy,`vscode-ipc-${t}.sock`):e=Ky.join(pM.tmpdir(),`vscode-${t}.sock`);let r=yM.get(process.platform);return r!==void 0&&e.length>r&&(0,to.default)().console.warn(`WARNING: IPC handle "${e}" is longer than ${r} characters.`),e}be.generateRandomPipeName=vM;function bM(t,e="utf-8"){let r,n=new Promise((i,o)=>{r=i});return new Promise((i,o)=>{let s=(0,du.createServer)(a=>{s.close(),r([new gi(a,e),new pi(a,e)])});s.on("error",o),s.listen(t,()=>{s.removeListener("error",o),i({onConnected:()=>n})})})}be.createClientPipeTransport=bM;function _M(t,e="utf-8"){let r=(0,du.createConnection)(t);return[new gi(r,e),new pi(r,e)]}be.createServerPipeTransport=_M;function wM(t,e="utf-8"){let r,n=new Promise((i,o)=>{r=i});return new Promise((i,o)=>{let s=(0,du.createServer)(a=>{s.close(),r([new gi(a,e),new pi(a,e)])});s.on("error",o),s.listen(t,"127.0.0.1",()=>{s.removeListener("error",o),i({onConnected:()=>n})})})}be.createClientSocketTransport=wM;function RM(t,e="utf-8"){let r=(0,du.createConnection)(t,"127.0.0.1");return[new gi(r,e),new pi(r,e)]}be.createServerSocketTransport=RM;function SM(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}function EM(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}function DM(t,e,r,n){r||(r=Xt.NullLogger);let i=SM(t)?new lu(t):t,o=EM(e)?new fu(e):e;return Xt.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,Xt.createMessageConnection)(i,o,r,n)}be.createMessageConnection=DM});var Wd=p(($4,Jy)=>{"use strict";Jy.exports=mi()});var kr=p((Qy,hu)=>{(function(t){if(typeof hu=="object"&&typeof hu.exports=="object"){var e=t(require,Qy);e!==void 0&&(hu.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.WorkspaceFolder=e.InlineCompletionContext=e.SelectedCompletionInfo=e.InlineCompletionTriggerKind=e.InlineCompletionList=e.InlineCompletionItem=e.StringValue=e.InlayHint=e.InlayHintLabelPart=e.InlayHintKind=e.InlineValueContext=e.InlineValueEvaluatableExpression=e.InlineValueVariableLookup=e.InlineValueText=e.SemanticTokens=e.SemanticTokenModifiers=e.SemanticTokenTypes=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionTriggerKind=e.CodeActionKind=e.DocumentSymbol=e.WorkspaceSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.CompletionItemLabelDetails=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=e.URI=e.DocumentUri=void 0;var r;(function(f){function S(D){return typeof D=="string"}f.is=S})(r||(e.DocumentUri=r={}));var n;(function(f){function S(D){return typeof D=="string"}f.is=S})(n||(e.URI=n={}));var i;(function(f){f.MIN_VALUE=-2147483648,f.MAX_VALUE=2147483647;function S(D){return typeof D=="number"&&f.MIN_VALUE<=D&&D<=f.MAX_VALUE}f.is=S})(i||(e.integer=i={}));var o;(function(f){f.MIN_VALUE=0,f.MAX_VALUE=2147483647;function S(D){return typeof D=="number"&&f.MIN_VALUE<=D&&D<=f.MAX_VALUE}f.is=S})(o||(e.uinteger=o={}));var s;(function(f){function S(m,l){return m===Number.MAX_VALUE&&(m=o.MAX_VALUE),l===Number.MAX_VALUE&&(l=o.MAX_VALUE),{line:m,character:l}}f.create=S;function D(m){var l=m;return T.objectLiteral(l)&&T.uinteger(l.line)&&T.uinteger(l.character)}f.is=D})(s||(e.Position=s={}));var a;(function(f){function S(m,l,P,L){if(T.uinteger(m)&&T.uinteger(l)&&T.uinteger(P)&&T.uinteger(L))return{start:s.create(m,l),end:s.create(P,L)};if(s.is(m)&&s.is(l))return{start:m,end:l};throw new Error("Range#create called with invalid arguments[".concat(m,", ").concat(l,", ").concat(P,", ").concat(L,"]"))}f.create=S;function D(m){var l=m;return T.objectLiteral(l)&&s.is(l.start)&&s.is(l.end)}f.is=D})(a||(e.Range=a={}));var u;(function(f){function S(m,l){return{uri:m,range:l}}f.create=S;function D(m){var l=m;return T.objectLiteral(l)&&a.is(l.range)&&(T.string(l.uri)||T.undefined(l.uri))}f.is=D})(u||(e.Location=u={}));var c;(function(f){function S(m,l,P,L){return{targetUri:m,targetRange:l,targetSelectionRange:P,originSelectionRange:L}}f.create=S;function D(m){var l=m;return T.objectLiteral(l)&&a.is(l.targetRange)&&T.string(l.targetUri)&&a.is(l.targetSelectionRange)&&(a.is(l.originSelectionRange)||T.undefined(l.originSelectionRange))}f.is=D})(c||(e.LocationLink=c={}));var h;(function(f){function S(m,l,P,L){return{red:m,green:l,blue:P,alpha:L}}f.create=S;function D(m){var l=m;return T.objectLiteral(l)&&T.numberRange(l.red,0,1)&&T.numberRange(l.green,0,1)&&T.numberRange(l.blue,0,1)&&T.numberRange(l.alpha,0,1)}f.is=D})(h||(e.Color=h={}));var d;(function(f){function S(m,l){return{range:m,color:l}}f.create=S;function D(m){var l=m;return T.objectLiteral(l)&&a.is(l.range)&&h.is(l.color)}f.is=D})(d||(e.ColorInformation=d={}));var g;(function(f){function S(m,l,P){return{label:m,textEdit:l,additionalTextEdits:P}}f.create=S;function D(m){var l=m;return T.objectLiteral(l)&&T.string(l.label)&&(T.undefined(l.textEdit)||I.is(l))&&(T.undefined(l.additionalTextEdits)||T.typedArray(l.additionalTextEdits,I.is))}f.is=D})(g||(e.ColorPresentation=g={}));var _;(function(f){f.Comment="comment",f.Imports="imports",f.Region="region"})(_||(e.FoldingRangeKind=_={}));var y;(function(f){function S(m,l,P,L,ae,Ue){var je={startLine:m,endLine:l};return T.defined(P)&&(je.startCharacter=P),T.defined(L)&&(je.endCharacter=L),T.defined(ae)&&(je.kind=ae),T.defined(Ue)&&(je.collapsedText=Ue),je}f.create=S;function D(m){var l=m;return T.objectLiteral(l)&&T.uinteger(l.startLine)&&T.uinteger(l.startLine)&&(T.undefined(l.startCharacter)||T.uinteger(l.startCharacter))&&(T.undefined(l.endCharacter)||T.uinteger(l.endCharacter))&&(T.undefined(l.kind)||T.string(l.kind))}f.is=D})(y||(e.FoldingRange=y={}));var E;(function(f){function S(m,l){return{location:m,message:l}}f.create=S;function D(m){var l=m;return T.defined(l)&&u.is(l.location)&&T.string(l.message)}f.is=D})(E||(e.DiagnosticRelatedInformation=E={}));var C;(function(f){f.Error=1,f.Warning=2,f.Information=3,f.Hint=4})(C||(e.DiagnosticSeverity=C={}));var O;(function(f){f.Unnecessary=1,f.Deprecated=2})(O||(e.DiagnosticTag=O={}));var w;(function(f){function S(D){var m=D;return T.objectLiteral(m)&&T.string(m.href)}f.is=S})(w||(e.CodeDescription=w={}));var v;(function(f){function S(m,l,P,L,ae,Ue){var je={range:m,message:l};return T.defined(P)&&(je.severity=P),T.defined(L)&&(je.code=L),T.defined(ae)&&(je.source=ae),T.defined(Ue)&&(je.relatedInformation=Ue),je}f.create=S;function D(m){var l,P=m;return T.defined(P)&&a.is(P.range)&&T.string(P.message)&&(T.number(P.severity)||T.undefined(P.severity))&&(T.integer(P.code)||T.string(P.code)||T.undefined(P.code))&&(T.undefined(P.codeDescription)||T.string((l=P.codeDescription)===null||l===void 0?void 0:l.href))&&(T.string(P.source)||T.undefined(P.source))&&(T.undefined(P.relatedInformation)||T.typedArray(P.relatedInformation,E.is))}f.is=D})(v||(e.Diagnostic=v={}));var M;(function(f){function S(m,l){for(var P=[],L=2;L<arguments.length;L++)P[L-2]=arguments[L];var ae={title:m,command:l};return T.defined(P)&&P.length>0&&(ae.arguments=P),ae}f.create=S;function D(m){var l=m;return T.defined(l)&&T.string(l.title)&&T.string(l.command)}f.is=D})(M||(e.Command=M={}));var I;(function(f){function S(P,L){return{range:P,newText:L}}f.replace=S;function D(P,L){return{range:{start:P,end:P},newText:L}}f.insert=D;function m(P){return{range:P,newText:""}}f.del=m;function l(P){var L=P;return T.objectLiteral(L)&&T.string(L.newText)&&a.is(L.range)}f.is=l})(I||(e.TextEdit=I={}));var W;(function(f){function S(m,l,P){var L={label:m};return l!==void 0&&(L.needsConfirmation=l),P!==void 0&&(L.description=P),L}f.create=S;function D(m){var l=m;return T.objectLiteral(l)&&T.string(l.label)&&(T.boolean(l.needsConfirmation)||l.needsConfirmation===void 0)&&(T.string(l.description)||l.description===void 0)}f.is=D})(W||(e.ChangeAnnotation=W={}));var V;(function(f){function S(D){var m=D;return T.string(m)}f.is=S})(V||(e.ChangeAnnotationIdentifier=V={}));var ee;(function(f){function S(P,L,ae){return{range:P,newText:L,annotationId:ae}}f.replace=S;function D(P,L,ae){return{range:{start:P,end:P},newText:L,annotationId:ae}}f.insert=D;function m(P,L){return{range:P,newText:"",annotationId:L}}f.del=m;function l(P){var L=P;return I.is(L)&&(W.is(L.annotationId)||V.is(L.annotationId))}f.is=l})(ee||(e.AnnotatedTextEdit=ee={}));var re;(function(f){function S(m,l){return{textDocument:m,edits:l}}f.create=S;function D(m){var l=m;return T.defined(l)&&fe.is(l.textDocument)&&Array.isArray(l.edits)}f.is=D})(re||(e.TextDocumentEdit=re={}));var F;(function(f){function S(m,l,P){var L={kind:"create",uri:m};return l!==void 0&&(l.overwrite!==void 0||l.ignoreIfExists!==void 0)&&(L.options=l),P!==void 0&&(L.annotationId=P),L}f.create=S;function D(m){var l=m;return l&&l.kind==="create"&&T.string(l.uri)&&(l.options===void 0||(l.options.overwrite===void 0||T.boolean(l.options.overwrite))&&(l.options.ignoreIfExists===void 0||T.boolean(l.options.ignoreIfExists)))&&(l.annotationId===void 0||V.is(l.annotationId))}f.is=D})(F||(e.CreateFile=F={}));var x;(function(f){function S(m,l,P,L){var ae={kind:"rename",oldUri:m,newUri:l};return P!==void 0&&(P.overwrite!==void 0||P.ignoreIfExists!==void 0)&&(ae.options=P),L!==void 0&&(ae.annotationId=L),ae}f.create=S;function D(m){var l=m;return l&&l.kind==="rename"&&T.string(l.oldUri)&&T.string(l.newUri)&&(l.options===void 0||(l.options.overwrite===void 0||T.boolean(l.options.overwrite))&&(l.options.ignoreIfExists===void 0||T.boolean(l.options.ignoreIfExists)))&&(l.annotationId===void 0||V.is(l.annotationId))}f.is=D})(x||(e.RenameFile=x={}));var H;(function(f){function S(m,l,P){var L={kind:"delete",uri:m};return l!==void 0&&(l.recursive!==void 0||l.ignoreIfNotExists!==void 0)&&(L.options=l),P!==void 0&&(L.annotationId=P),L}f.create=S;function D(m){var l=m;return l&&l.kind==="delete"&&T.string(l.uri)&&(l.options===void 0||(l.options.recursive===void 0||T.boolean(l.options.recursive))&&(l.options.ignoreIfNotExists===void 0||T.boolean(l.options.ignoreIfNotExists)))&&(l.annotationId===void 0||V.is(l.annotationId))}f.is=D})(H||(e.DeleteFile=H={}));var z;(function(f){function S(D){var m=D;return m&&(m.changes!==void 0||m.documentChanges!==void 0)&&(m.documentChanges===void 0||m.documentChanges.every(function(l){return T.string(l.kind)?F.is(l)||x.is(l)||H.is(l):re.is(l)}))}f.is=S})(z||(e.WorkspaceEdit=z={}));var ie=function(){function f(S,D){this.edits=S,this.changeAnnotations=D}return f.prototype.insert=function(S,D,m){var l,P;if(m===void 0?l=I.insert(S,D):V.is(m)?(P=m,l=ee.insert(S,D,m)):(this.assertChangeAnnotations(this.changeAnnotations),P=this.changeAnnotations.manage(m),l=ee.insert(S,D,P)),this.edits.push(l),P!==void 0)return P},f.prototype.replace=function(S,D,m){var l,P;if(m===void 0?l=I.replace(S,D):V.is(m)?(P=m,l=ee.replace(S,D,m)):(this.assertChangeAnnotations(this.changeAnnotations),P=this.changeAnnotations.manage(m),l=ee.replace(S,D,P)),this.edits.push(l),P!==void 0)return P},f.prototype.delete=function(S,D){var m,l;if(D===void 0?m=I.del(S):V.is(D)?(l=D,m=ee.del(S,D)):(this.assertChangeAnnotations(this.changeAnnotations),l=this.changeAnnotations.manage(D),m=ee.del(S,l)),this.edits.push(m),l!==void 0)return l},f.prototype.add=function(S){this.edits.push(S)},f.prototype.all=function(){return this.edits},f.prototype.clear=function(){this.edits.splice(0,this.edits.length)},f.prototype.assertChangeAnnotations=function(S){if(S===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},f}(),le=function(){function f(S){this._annotations=S===void 0?Object.create(null):S,this._counter=0,this._size=0}return f.prototype.all=function(){return this._annotations},Object.defineProperty(f.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),f.prototype.manage=function(S,D){var m;if(V.is(S)?m=S:(m=this.nextId(),D=S),this._annotations[m]!==void 0)throw new Error("Id ".concat(m," is already in use."));if(D===void 0)throw new Error("No annotation provided for id ".concat(m));return this._annotations[m]=D,this._size++,m},f.prototype.nextId=function(){return this._counter++,this._counter.toString()},f}(),q=function(){function f(S){var D=this;this._textEditChanges=Object.create(null),S!==void 0?(this._workspaceEdit=S,S.documentChanges?(this._changeAnnotations=new le(S.changeAnnotations),S.changeAnnotations=this._changeAnnotations.all(),S.documentChanges.forEach(function(m){if(re.is(m)){var l=new ie(m.edits,D._changeAnnotations);D._textEditChanges[m.textDocument.uri]=l}})):S.changes&&Object.keys(S.changes).forEach(function(m){var l=new ie(S.changes[m]);D._textEditChanges[m]=l})):this._workspaceEdit={}}return Object.defineProperty(f.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),f.prototype.getTextEditChange=function(S){if(fe.is(S)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var D={uri:S.uri,version:S.version},m=this._textEditChanges[D.uri];if(!m){var l=[],P={textDocument:D,edits:l};this._workspaceEdit.documentChanges.push(P),m=new ie(l,this._changeAnnotations),this._textEditChanges[D.uri]=m}return m}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var m=this._textEditChanges[S];if(!m){var l=[];this._workspaceEdit.changes[S]=l,m=new ie(l),this._textEditChanges[S]=m}return m}},f.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new le,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},f.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},f.prototype.createFile=function(S,D,m){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var l;W.is(D)||V.is(D)?l=D:m=D;var P,L;if(l===void 0?P=F.create(S,m):(L=V.is(l)?l:this._changeAnnotations.manage(l),P=F.create(S,m,L)),this._workspaceEdit.documentChanges.push(P),L!==void 0)return L},f.prototype.renameFile=function(S,D,m,l){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var P;W.is(m)||V.is(m)?P=m:l=m;var L,ae;if(P===void 0?L=x.create(S,D,l):(ae=V.is(P)?P:this._changeAnnotations.manage(P),L=x.create(S,D,l,ae)),this._workspaceEdit.documentChanges.push(L),ae!==void 0)return ae},f.prototype.deleteFile=function(S,D,m){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var l;W.is(D)||V.is(D)?l=D:m=D;var P,L;if(l===void 0?P=H.create(S,m):(L=V.is(l)?l:this._changeAnnotations.manage(l),P=H.create(S,m,L)),this._workspaceEdit.documentChanges.push(P),L!==void 0)return L},f}();e.WorkspaceChange=q;var U;(function(f){function S(m){return{uri:m}}f.create=S;function D(m){var l=m;return T.defined(l)&&T.string(l.uri)}f.is=D})(U||(e.TextDocumentIdentifier=U={}));var ne;(function(f){function S(m,l){return{uri:m,version:l}}f.create=S;function D(m){var l=m;return T.defined(l)&&T.string(l.uri)&&T.integer(l.version)}f.is=D})(ne||(e.VersionedTextDocumentIdentifier=ne={}));var fe;(function(f){function S(m,l){return{uri:m,version:l}}f.create=S;function D(m){var l=m;return T.defined(l)&&T.string(l.uri)&&(l.version===null||T.integer(l.version))}f.is=D})(fe||(e.OptionalVersionedTextDocumentIdentifier=fe={}));var J;(function(f){function S(m,l,P,L){return{uri:m,languageId:l,version:P,text:L}}f.create=S;function D(m){var l=m;return T.defined(l)&&T.string(l.uri)&&T.string(l.languageId)&&T.integer(l.version)&&T.string(l.text)}f.is=D})(J||(e.TextDocumentItem=J={}));var st;(function(f){f.PlainText="plaintext",f.Markdown="markdown";function S(D){var m=D;return m===f.PlainText||m===f.Markdown}f.is=S})(st||(e.MarkupKind=st={}));var _t;(function(f){function S(D){var m=D;return T.objectLiteral(D)&&st.is(m.kind)&&T.string(m.value)}f.is=S})(_t||(e.MarkupContent=_t={}));var Nr;(function(f){f.Text=1,f.Method=2,f.Function=3,f.Constructor=4,f.Field=5,f.Variable=6,f.Class=7,f.Interface=8,f.Module=9,f.Property=10,f.Unit=11,f.Value=12,f.Enum=13,f.Keyword=14,f.Snippet=15,f.Color=16,f.File=17,f.Reference=18,f.Folder=19,f.EnumMember=20,f.Constant=21,f.Struct=22,f.Event=23,f.Operator=24,f.TypeParameter=25})(Nr||(e.CompletionItemKind=Nr={}));var Lr;(function(f){f.PlainText=1,f.Snippet=2})(Lr||(e.InsertTextFormat=Lr={}));var Sn;(function(f){f.Deprecated=1})(Sn||(e.CompletionItemTag=Sn={}));var nn;(function(f){function S(m,l,P){return{newText:m,insert:l,replace:P}}f.create=S;function D(m){var l=m;return l&&T.string(l.newText)&&a.is(l.insert)&&a.is(l.replace)}f.is=D})(nn||(e.InsertReplaceEdit=nn={}));var Bi;(function(f){f.asIs=1,f.adjustIndentation=2})(Bi||(e.InsertTextMode=Bi={}));var ht;(function(f){function S(D){var m=D;return m&&(T.string(m.detail)||m.detail===void 0)&&(T.string(m.description)||m.description===void 0)}f.is=S})(ht||(e.CompletionItemLabelDetails=ht={}));var di;(function(f){function S(D){return{label:D}}f.create=S})(di||(e.CompletionItem=di={}));var zi;(function(f){function S(D,m){return{items:D||[],isIncomplete:!!m}}f.create=S})(zi||(e.CompletionList=zi={}));var on;(function(f){function S(m){return m.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}f.fromPlainText=S;function D(m){var l=m;return T.string(l)||T.objectLiteral(l)&&T.string(l.language)&&T.string(l.value)}f.is=D})(on||(e.MarkedString=on={}));var At;(function(f){function S(D){var m=D;return!!m&&T.objectLiteral(m)&&(_t.is(m.contents)||on.is(m.contents)||T.typedArray(m.contents,on.is))&&(D.range===void 0||a.is(D.range))}f.is=S})(At||(e.Hover=At={}));var sn;(function(f){function S(D,m){return m?{label:D,documentation:m}:{label:D}}f.create=S})(sn||(e.ParameterInformation=sn={}));var an;(function(f){function S(D,m){for(var l=[],P=2;P<arguments.length;P++)l[P-2]=arguments[P];var L={label:D};return T.defined(m)&&(L.documentation=m),T.defined(l)?L.parameters=l:L.parameters=[],L}f.create=S})(an||(e.SignatureInformation=an={}));var un;(function(f){f.Text=1,f.Read=2,f.Write=3})(un||(e.DocumentHighlightKind=un={}));var xr;(function(f){function S(D,m){var l={range:D};return T.number(m)&&(l.kind=m),l}f.create=S})(xr||(e.DocumentHighlight=xr={}));var Gt;(function(f){f.File=1,f.Module=2,f.Namespace=3,f.Package=4,f.Class=5,f.Method=6,f.Property=7,f.Field=8,f.Constructor=9,f.Enum=10,f.Interface=11,f.Function=12,f.Variable=13,f.Constant=14,f.String=15,f.Number=16,f.Boolean=17,f.Array=18,f.Object=19,f.Key=20,f.Null=21,f.EnumMember=22,f.Struct=23,f.Event=24,f.Operator=25,f.TypeParameter=26})(Gt||(e.SymbolKind=Gt={}));var En;(function(f){f.Deprecated=1})(En||(e.SymbolTag=En={}));var pr;(function(f){function S(D,m,l,P,L){var ae={name:D,kind:m,location:{uri:P,range:l}};return L&&(ae.containerName=L),ae}f.create=S})(pr||(e.SymbolInformation=pr={}));var mr;(function(f){function S(D,m,l,P){return P!==void 0?{name:D,kind:m,location:{uri:l,range:P}}:{name:D,kind:m,location:{uri:l}}}f.create=S})(mr||(e.WorkspaceSymbol=mr={}));var Wa;(function(f){function S(m,l,P,L,ae,Ue){var je={name:m,detail:l,kind:P,range:L,selectionRange:ae};return Ue!==void 0&&(je.children=Ue),je}f.create=S;function D(m){var l=m;return l&&T.string(l.name)&&T.number(l.kind)&&a.is(l.range)&&a.is(l.selectionRange)&&(l.detail===void 0||T.string(l.detail))&&(l.deprecated===void 0||T.boolean(l.deprecated))&&(l.children===void 0||Array.isArray(l.children))&&(l.tags===void 0||Array.isArray(l.tags))}f.is=D})(Wa||(e.DocumentSymbol=Wa={}));var Ha;(function(f){f.Empty="",f.QuickFix="quickfix",f.Refactor="refactor",f.RefactorExtract="refactor.extract",f.RefactorInline="refactor.inline",f.RefactorRewrite="refactor.rewrite",f.Source="source",f.SourceOrganizeImports="source.organizeImports",f.SourceFixAll="source.fixAll"})(Ha||(e.CodeActionKind=Ha={}));var Ir;(function(f){f.Invoked=1,f.Automatic=2})(Ir||(e.CodeActionTriggerKind=Ir={}));var ss;(function(f){function S(m,l,P){var L={diagnostics:m};return l!=null&&(L.only=l),P!=null&&(L.triggerKind=P),L}f.create=S;function D(m){var l=m;return T.defined(l)&&T.typedArray(l.diagnostics,v.is)&&(l.only===void 0||T.typedArray(l.only,T.string))&&(l.triggerKind===void 0||l.triggerKind===Ir.Invoked||l.triggerKind===Ir.Automatic)}f.is=D})(ss||(e.CodeActionContext=ss={}));var as;(function(f){function S(m,l,P){var L={title:m},ae=!0;return typeof l=="string"?(ae=!1,L.kind=l):M.is(l)?L.command=l:L.edit=l,ae&&P!==void 0&&(L.kind=P),L}f.create=S;function D(m){var l=m;return l&&T.string(l.title)&&(l.diagnostics===void 0||T.typedArray(l.diagnostics,v.is))&&(l.kind===void 0||T.string(l.kind))&&(l.edit!==void 0||l.command!==void 0)&&(l.command===void 0||M.is(l.command))&&(l.isPreferred===void 0||T.boolean(l.isPreferred))&&(l.edit===void 0||z.is(l.edit))}f.is=D})(as||(e.CodeAction=as={}));var Vi;(function(f){function S(m,l){var P={range:m};return T.defined(l)&&(P.data=l),P}f.create=S;function D(m){var l=m;return T.defined(l)&&a.is(l.range)&&(T.undefined(l.command)||M.is(l.command))}f.is=D})(Vi||(e.CodeLens=Vi={}));var us;(function(f){function S(m,l){return{tabSize:m,insertSpaces:l}}f.create=S;function D(m){var l=m;return T.defined(l)&&T.uinteger(l.tabSize)&&T.boolean(l.insertSpaces)}f.is=D})(us||(e.FormattingOptions=us={}));var cn;(function(f){function S(m,l,P){return{range:m,target:l,data:P}}f.create=S;function D(m){var l=m;return T.defined(l)&&a.is(l.range)&&(T.undefined(l.target)||T.string(l.target))}f.is=D})(cn||(e.DocumentLink=cn={}));var R;(function(f){function S(m,l){return{range:m,parent:l}}f.create=S;function D(m){var l=m;return T.objectLiteral(l)&&a.is(l.range)&&(l.parent===void 0||f.is(l.parent))}f.is=D})(R||(e.SelectionRange=R={}));var N;(function(f){f.namespace="namespace",f.type="type",f.class="class",f.enum="enum",f.interface="interface",f.struct="struct",f.typeParameter="typeParameter",f.parameter="parameter",f.variable="variable",f.property="property",f.enumMember="enumMember",f.event="event",f.function="function",f.method="method",f.macro="macro",f.keyword="keyword",f.modifier="modifier",f.comment="comment",f.string="string",f.number="number",f.regexp="regexp",f.operator="operator",f.decorator="decorator"})(N||(e.SemanticTokenTypes=N={}));var $;(function(f){f.declaration="declaration",f.definition="definition",f.readonly="readonly",f.static="static",f.deprecated="deprecated",f.abstract="abstract",f.async="async",f.modification="modification",f.documentation="documentation",f.defaultLibrary="defaultLibrary"})($||(e.SemanticTokenModifiers=$={}));var X;(function(f){function S(D){var m=D;return T.objectLiteral(m)&&(m.resultId===void 0||typeof m.resultId=="string")&&Array.isArray(m.data)&&(m.data.length===0||typeof m.data[0]=="number")}f.is=S})(X||(e.SemanticTokens=X={}));var qe;(function(f){function S(m,l){return{range:m,text:l}}f.create=S;function D(m){var l=m;return l!=null&&a.is(l.range)&&T.string(l.text)}f.is=D})(qe||(e.InlineValueText=qe={}));var De;(function(f){function S(m,l,P){return{range:m,variableName:l,caseSensitiveLookup:P}}f.create=S;function D(m){var l=m;return l!=null&&a.is(l.range)&&T.boolean(l.caseSensitiveLookup)&&(T.string(l.variableName)||l.variableName===void 0)}f.is=D})(De||(e.InlineValueVariableLookup=De={}));var Le;(function(f){function S(m,l){return{range:m,expression:l}}f.create=S;function D(m){var l=m;return l!=null&&a.is(l.range)&&(T.string(l.expression)||l.expression===void 0)}f.is=D})(Le||(e.InlineValueEvaluatableExpression=Le={}));var Fe;(function(f){function S(m,l){return{frameId:m,stoppedLocation:l}}f.create=S;function D(m){var l=m;return T.defined(l)&&a.is(m.stoppedLocation)}f.is=D})(Fe||(e.InlineValueContext=Fe={}));var me;(function(f){f.Type=1,f.Parameter=2;function S(D){return D===1||D===2}f.is=S})(me||(e.InlayHintKind=me={}));var Ce;(function(f){function S(m){return{value:m}}f.create=S;function D(m){var l=m;return T.objectLiteral(l)&&(l.tooltip===void 0||T.string(l.tooltip)||_t.is(l.tooltip))&&(l.location===void 0||u.is(l.location))&&(l.command===void 0||M.is(l.command))}f.is=D})(Ce||(e.InlayHintLabelPart=Ce={}));var Re;(function(f){function S(m,l,P){var L={position:m,label:l};return P!==void 0&&(L.kind=P),L}f.create=S;function D(m){var l=m;return T.objectLiteral(l)&&s.is(l.position)&&(T.string(l.label)||T.typedArray(l.label,Ce.is))&&(l.kind===void 0||me.is(l.kind))&&l.textEdits===void 0||T.typedArray(l.textEdits,I.is)&&(l.tooltip===void 0||T.string(l.tooltip)||_t.is(l.tooltip))&&(l.paddingLeft===void 0||T.boolean(l.paddingLeft))&&(l.paddingRight===void 0||T.boolean(l.paddingRight))}f.is=D})(Re||(e.InlayHint=Re={}));var He;(function(f){function S(D){return{kind:"snippet",value:D}}f.createSnippet=S})(He||(e.StringValue=He={}));var rt;(function(f){function S(D,m,l,P){return{insertText:D,filterText:m,range:l,command:P}}f.create=S})(rt||(e.InlineCompletionItem=rt={}));var Yt;(function(f){function S(D){return{items:D}}f.create=S})(Yt||(e.InlineCompletionList=Yt={}));var Ua;(function(f){f.Invoked=0,f.Automatic=1})(Ua||(e.InlineCompletionTriggerKind=Ua={}));var gy;(function(f){function S(D,m){return{range:D,text:m}}f.create=S})(gy||(e.SelectedCompletionInfo=gy={}));var py;(function(f){function S(D,m){return{triggerKind:D,selectedCompletionInfo:m}}f.create=S})(py||(e.InlineCompletionContext=py={}));var my;(function(f){function S(D){var m=D;return T.objectLiteral(m)&&n.is(m.uri)&&T.string(m.name)}f.is=S})(my||(e.WorkspaceFolder=my={})),e.EOL=[`
`,`\r
`,"\r"];var yy;(function(f){function S(P,L,ae,Ue){return new Aq(P,L,ae,Ue)}f.create=S;function D(P){var L=P;return!!(T.defined(L)&&T.string(L.uri)&&(T.undefined(L.languageId)||T.string(L.languageId))&&T.uinteger(L.lineCount)&&T.func(L.getText)&&T.func(L.positionAt)&&T.func(L.offsetAt))}f.is=D;function m(P,L){for(var ae=P.getText(),Ue=l(L,function(Gi,Ba){var vy=Gi.range.start.line-Ba.range.start.line;return vy===0?Gi.range.start.character-Ba.range.start.character:vy}),je=ae.length,yr=Ue.length-1;yr>=0;yr--){var vr=Ue[yr],ln=P.offsetAt(vr.range.start),ve=P.offsetAt(vr.range.end);if(ve<=je)ae=ae.substring(0,ln)+vr.newText+ae.substring(ve,ae.length);else throw new Error("Overlapping edit");je=ln}return ae}f.applyEdits=m;function l(P,L){if(P.length<=1)return P;var ae=P.length/2|0,Ue=P.slice(0,ae),je=P.slice(ae);l(Ue,L),l(je,L);for(var yr=0,vr=0,ln=0;yr<Ue.length&&vr<je.length;){var ve=L(Ue[yr],je[vr]);ve<=0?P[ln++]=Ue[yr++]:P[ln++]=je[vr++]}for(;yr<Ue.length;)P[ln++]=Ue[yr++];for(;vr<je.length;)P[ln++]=je[vr++];return P}})(yy||(e.TextDocument=yy={}));var Aq=function(){function f(S,D,m,l){this._uri=S,this._languageId=D,this._version=m,this._content=l,this._lineOffsets=void 0}return Object.defineProperty(f.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),f.prototype.getText=function(S){if(S){var D=this.offsetAt(S.start),m=this.offsetAt(S.end);return this._content.substring(D,m)}return this._content},f.prototype.update=function(S,D){this._content=S.text,this._version=D,this._lineOffsets=void 0},f.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var S=[],D=this._content,m=!0,l=0;l<D.length;l++){m&&(S.push(l),m=!1);var P=D.charAt(l);m=P==="\r"||P===`
`,P==="\r"&&l+1<D.length&&D.charAt(l+1)===`
`&&l++}m&&D.length>0&&S.push(D.length),this._lineOffsets=S}return this._lineOffsets},f.prototype.positionAt=function(S){S=Math.max(Math.min(S,this._content.length),0);var D=this.getLineOffsets(),m=0,l=D.length;if(l===0)return s.create(0,S);for(;m<l;){var P=Math.floor((m+l)/2);D[P]>S?l=P:m=P+1}var L=m-1;return s.create(L,S-D[L])},f.prototype.offsetAt=function(S){var D=this.getLineOffsets();if(S.line>=D.length)return this._content.length;if(S.line<0)return 0;var m=D[S.line],l=S.line+1<D.length?D[S.line+1]:this._content.length;return Math.max(Math.min(m+S.character,l),m)},Object.defineProperty(f.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),f}(),T;(function(f){var S=Object.prototype.toString;function D(ve){return typeof ve<"u"}f.defined=D;function m(ve){return typeof ve>"u"}f.undefined=m;function l(ve){return ve===!0||ve===!1}f.boolean=l;function P(ve){return S.call(ve)==="[object String]"}f.string=P;function L(ve){return S.call(ve)==="[object Number]"}f.number=L;function ae(ve,Gi,Ba){return S.call(ve)==="[object Number]"&&Gi<=ve&&ve<=Ba}f.numberRange=ae;function Ue(ve){return S.call(ve)==="[object Number]"&&-2147483648<=ve&&ve<=2147483647}f.integer=Ue;function je(ve){return S.call(ve)==="[object Number]"&&0<=ve&&ve<=2147483647}f.uinteger=je;function yr(ve){return S.call(ve)==="[object Function]"}f.func=yr;function vr(ve){return ve!==null&&typeof ve=="object"}f.objectLiteral=vr;function ln(ve,Gi){return Array.isArray(ve)&&ve.every(Gi)}f.typedArray=ln})(T||(T={}))})});var $e=p(Nt=>{"use strict";Object.defineProperty(Nt,"__esModule",{value:!0});Nt.ProtocolNotificationType=Nt.ProtocolNotificationType0=Nt.ProtocolRequestType=Nt.ProtocolRequestType0=Nt.RegistrationType=Nt.MessageDirection=void 0;var ro=mi(),Zy;(function(t){t.clientToServer="clientToServer",t.serverToClient="serverToClient",t.both="both"})(Zy||(Nt.MessageDirection=Zy={}));var Hd=class{constructor(e){this.method=e}};Nt.RegistrationType=Hd;var Ud=class extends ro.RequestType0{constructor(e){super(e)}};Nt.ProtocolRequestType0=Ud;var Bd=class extends ro.RequestType{constructor(e){super(e,ro.ParameterStructures.byName)}};Nt.ProtocolRequestType=Bd;var zd=class extends ro.NotificationType0{constructor(e){super(e)}};Nt.ProtocolNotificationType0=zd;var Vd=class extends ro.NotificationType{constructor(e){super(e,ro.ParameterStructures.byName)}};Nt.ProtocolNotificationType=Vd});var gu=p(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});Je.objectLiteral=Je.typedArray=Je.stringArray=Je.array=Je.func=Je.error=Je.number=Je.string=Je.boolean=void 0;function PM(t){return t===!0||t===!1}Je.boolean=PM;function ev(t){return typeof t=="string"||t instanceof String}Je.string=ev;function OM(t){return typeof t=="number"||t instanceof Number}Je.number=OM;function TM(t){return t instanceof Error}Je.error=TM;function qM(t){return typeof t=="function"}Je.func=qM;function tv(t){return Array.isArray(t)}Je.array=tv;function MM(t){return tv(t)&&t.every(e=>ev(e))}Je.stringArray=MM;function CM(t,e){return Array.isArray(t)&&t.every(e)}Je.typedArray=CM;function AM(t){return t!==null&&typeof t=="object"}Je.objectLiteral=AM});var iv=p(pu=>{"use strict";Object.defineProperty(pu,"__esModule",{value:!0});pu.ImplementationRequest=void 0;var rv=$e(),nv;(function(t){t.method="textDocument/implementation",t.messageDirection=rv.MessageDirection.clientToServer,t.type=new rv.ProtocolRequestType(t.method)})(nv||(pu.ImplementationRequest=nv={}))});var av=p(mu=>{"use strict";Object.defineProperty(mu,"__esModule",{value:!0});mu.TypeDefinitionRequest=void 0;var ov=$e(),sv;(function(t){t.method="textDocument/typeDefinition",t.messageDirection=ov.MessageDirection.clientToServer,t.type=new ov.ProtocolRequestType(t.method)})(sv||(mu.TypeDefinitionRequest=sv={}))});var lv=p(no=>{"use strict";Object.defineProperty(no,"__esModule",{value:!0});no.DidChangeWorkspaceFoldersNotification=no.WorkspaceFoldersRequest=void 0;var yu=$e(),uv;(function(t){t.method="workspace/workspaceFolders",t.messageDirection=yu.MessageDirection.serverToClient,t.type=new yu.ProtocolRequestType0(t.method)})(uv||(no.WorkspaceFoldersRequest=uv={}));var cv;(function(t){t.method="workspace/didChangeWorkspaceFolders",t.messageDirection=yu.MessageDirection.clientToServer,t.type=new yu.ProtocolNotificationType(t.method)})(cv||(no.DidChangeWorkspaceFoldersNotification=cv={}))});var hv=p(vu=>{"use strict";Object.defineProperty(vu,"__esModule",{value:!0});vu.ConfigurationRequest=void 0;var fv=$e(),dv;(function(t){t.method="workspace/configuration",t.messageDirection=fv.MessageDirection.serverToClient,t.type=new fv.ProtocolRequestType(t.method)})(dv||(vu.ConfigurationRequest=dv={}))});var mv=p(io=>{"use strict";Object.defineProperty(io,"__esModule",{value:!0});io.ColorPresentationRequest=io.DocumentColorRequest=void 0;var bu=$e(),gv;(function(t){t.method="textDocument/documentColor",t.messageDirection=bu.MessageDirection.clientToServer,t.type=new bu.ProtocolRequestType(t.method)})(gv||(io.DocumentColorRequest=gv={}));var pv;(function(t){t.method="textDocument/colorPresentation",t.messageDirection=bu.MessageDirection.clientToServer,t.type=new bu.ProtocolRequestType(t.method)})(pv||(io.ColorPresentationRequest=pv={}))});var bv=p(oo=>{"use strict";Object.defineProperty(oo,"__esModule",{value:!0});oo.FoldingRangeRefreshRequest=oo.FoldingRangeRequest=void 0;var _u=$e(),yv;(function(t){t.method="textDocument/foldingRange",t.messageDirection=_u.MessageDirection.clientToServer,t.type=new _u.ProtocolRequestType(t.method)})(yv||(oo.FoldingRangeRequest=yv={}));var vv;(function(t){t.method="workspace/foldingRange/refresh",t.messageDirection=_u.MessageDirection.serverToClient,t.type=new _u.ProtocolRequestType0(t.method)})(vv||(oo.FoldingRangeRefreshRequest=vv={}))});var Rv=p(wu=>{"use strict";Object.defineProperty(wu,"__esModule",{value:!0});wu.DeclarationRequest=void 0;var _v=$e(),wv;(function(t){t.method="textDocument/declaration",t.messageDirection=_v.MessageDirection.clientToServer,t.type=new _v.ProtocolRequestType(t.method)})(wv||(wu.DeclarationRequest=wv={}))});var Dv=p(Ru=>{"use strict";Object.defineProperty(Ru,"__esModule",{value:!0});Ru.SelectionRangeRequest=void 0;var Sv=$e(),Ev;(function(t){t.method="textDocument/selectionRange",t.messageDirection=Sv.MessageDirection.clientToServer,t.type=new Sv.ProtocolRequestType(t.method)})(Ev||(Ru.SelectionRangeRequest=Ev={}))});var qv=p(qn=>{"use strict";Object.defineProperty(qn,"__esModule",{value:!0});qn.WorkDoneProgressCancelNotification=qn.WorkDoneProgressCreateRequest=qn.WorkDoneProgress=void 0;var jM=mi(),Su=$e(),Pv;(function(t){t.type=new jM.ProgressType;function e(r){return r===t.type}t.is=e})(Pv||(qn.WorkDoneProgress=Pv={}));var Ov;(function(t){t.method="window/workDoneProgress/create",t.messageDirection=Su.MessageDirection.serverToClient,t.type=new Su.ProtocolRequestType(t.method)})(Ov||(qn.WorkDoneProgressCreateRequest=Ov={}));var Tv;(function(t){t.method="window/workDoneProgress/cancel",t.messageDirection=Su.MessageDirection.clientToServer,t.type=new Su.ProtocolNotificationType(t.method)})(Tv||(qn.WorkDoneProgressCancelNotification=Tv={}))});var jv=p(Mn=>{"use strict";Object.defineProperty(Mn,"__esModule",{value:!0});Mn.CallHierarchyOutgoingCallsRequest=Mn.CallHierarchyIncomingCallsRequest=Mn.CallHierarchyPrepareRequest=void 0;var so=$e(),Mv;(function(t){t.method="textDocument/prepareCallHierarchy",t.messageDirection=so.MessageDirection.clientToServer,t.type=new so.ProtocolRequestType(t.method)})(Mv||(Mn.CallHierarchyPrepareRequest=Mv={}));var Cv;(function(t){t.method="callHierarchy/incomingCalls",t.messageDirection=so.MessageDirection.clientToServer,t.type=new so.ProtocolRequestType(t.method)})(Cv||(Mn.CallHierarchyIncomingCallsRequest=Cv={}));var Av;(function(t){t.method="callHierarchy/outgoingCalls",t.messageDirection=so.MessageDirection.clientToServer,t.type=new so.ProtocolRequestType(t.method)})(Av||(Mn.CallHierarchyOutgoingCallsRequest=Av={}))});var Fv=p(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});Lt.SemanticTokensRefreshRequest=Lt.SemanticTokensRangeRequest=Lt.SemanticTokensDeltaRequest=Lt.SemanticTokensRequest=Lt.SemanticTokensRegistrationType=Lt.TokenFormat=void 0;var dn=$e(),Nv;(function(t){t.Relative="relative"})(Nv||(Lt.TokenFormat=Nv={}));var ps;(function(t){t.method="textDocument/semanticTokens",t.type=new dn.RegistrationType(t.method)})(ps||(Lt.SemanticTokensRegistrationType=ps={}));var Lv;(function(t){t.method="textDocument/semanticTokens/full",t.messageDirection=dn.MessageDirection.clientToServer,t.type=new dn.ProtocolRequestType(t.method),t.registrationMethod=ps.method})(Lv||(Lt.SemanticTokensRequest=Lv={}));var xv;(function(t){t.method="textDocument/semanticTokens/full/delta",t.messageDirection=dn.MessageDirection.clientToServer,t.type=new dn.ProtocolRequestType(t.method),t.registrationMethod=ps.method})(xv||(Lt.SemanticTokensDeltaRequest=xv={}));var Iv;(function(t){t.method="textDocument/semanticTokens/range",t.messageDirection=dn.MessageDirection.clientToServer,t.type=new dn.ProtocolRequestType(t.method),t.registrationMethod=ps.method})(Iv||(Lt.SemanticTokensRangeRequest=Iv={}));var kv;(function(t){t.method="workspace/semanticTokens/refresh",t.messageDirection=dn.MessageDirection.serverToClient,t.type=new dn.ProtocolRequestType0(t.method)})(kv||(Lt.SemanticTokensRefreshRequest=kv={}))});var Hv=p(Eu=>{"use strict";Object.defineProperty(Eu,"__esModule",{value:!0});Eu.ShowDocumentRequest=void 0;var $v=$e(),Wv;(function(t){t.method="window/showDocument",t.messageDirection=$v.MessageDirection.serverToClient,t.type=new $v.ProtocolRequestType(t.method)})(Wv||(Eu.ShowDocumentRequest=Wv={}))});var zv=p(Du=>{"use strict";Object.defineProperty(Du,"__esModule",{value:!0});Du.LinkedEditingRangeRequest=void 0;var Uv=$e(),Bv;(function(t){t.method="textDocument/linkedEditingRange",t.messageDirection=Uv.MessageDirection.clientToServer,t.type=new Uv.ProtocolRequestType(t.method)})(Bv||(Du.LinkedEditingRangeRequest=Bv={}))});var Zv=p(mt=>{"use strict";Object.defineProperty(mt,"__esModule",{value:!0});mt.WillDeleteFilesRequest=mt.DidDeleteFilesNotification=mt.DidRenameFilesNotification=mt.WillRenameFilesRequest=mt.DidCreateFilesNotification=mt.WillCreateFilesRequest=mt.FileOperationPatternKind=void 0;var er=$e(),Vv;(function(t){t.file="file",t.folder="folder"})(Vv||(mt.FileOperationPatternKind=Vv={}));var Gv;(function(t){t.method="workspace/willCreateFiles",t.messageDirection=er.MessageDirection.clientToServer,t.type=new er.ProtocolRequestType(t.method)})(Gv||(mt.WillCreateFilesRequest=Gv={}));var Yv;(function(t){t.method="workspace/didCreateFiles",t.messageDirection=er.MessageDirection.clientToServer,t.type=new er.ProtocolNotificationType(t.method)})(Yv||(mt.DidCreateFilesNotification=Yv={}));var Kv;(function(t){t.method="workspace/willRenameFiles",t.messageDirection=er.MessageDirection.clientToServer,t.type=new er.ProtocolRequestType(t.method)})(Kv||(mt.WillRenameFilesRequest=Kv={}));var Xv;(function(t){t.method="workspace/didRenameFiles",t.messageDirection=er.MessageDirection.clientToServer,t.type=new er.ProtocolNotificationType(t.method)})(Xv||(mt.DidRenameFilesNotification=Xv={}));var Jv;(function(t){t.method="workspace/didDeleteFiles",t.messageDirection=er.MessageDirection.clientToServer,t.type=new er.ProtocolNotificationType(t.method)})(Jv||(mt.DidDeleteFilesNotification=Jv={}));var Qv;(function(t){t.method="workspace/willDeleteFiles",t.messageDirection=er.MessageDirection.clientToServer,t.type=new er.ProtocolRequestType(t.method)})(Qv||(mt.WillDeleteFilesRequest=Qv={}))});var ib=p(Cn=>{"use strict";Object.defineProperty(Cn,"__esModule",{value:!0});Cn.MonikerRequest=Cn.MonikerKind=Cn.UniquenessLevel=void 0;var eb=$e(),tb;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(tb||(Cn.UniquenessLevel=tb={}));var rb;(function(t){t.$import="import",t.$export="export",t.local="local"})(rb||(Cn.MonikerKind=rb={}));var nb;(function(t){t.method="textDocument/moniker",t.messageDirection=eb.MessageDirection.clientToServer,t.type=new eb.ProtocolRequestType(t.method)})(nb||(Cn.MonikerRequest=nb={}))});var ub=p(An=>{"use strict";Object.defineProperty(An,"__esModule",{value:!0});An.TypeHierarchySubtypesRequest=An.TypeHierarchySupertypesRequest=An.TypeHierarchyPrepareRequest=void 0;var ao=$e(),ob;(function(t){t.method="textDocument/prepareTypeHierarchy",t.messageDirection=ao.MessageDirection.clientToServer,t.type=new ao.ProtocolRequestType(t.method)})(ob||(An.TypeHierarchyPrepareRequest=ob={}));var sb;(function(t){t.method="typeHierarchy/supertypes",t.messageDirection=ao.MessageDirection.clientToServer,t.type=new ao.ProtocolRequestType(t.method)})(sb||(An.TypeHierarchySupertypesRequest=sb={}));var ab;(function(t){t.method="typeHierarchy/subtypes",t.messageDirection=ao.MessageDirection.clientToServer,t.type=new ao.ProtocolRequestType(t.method)})(ab||(An.TypeHierarchySubtypesRequest=ab={}))});var fb=p(uo=>{"use strict";Object.defineProperty(uo,"__esModule",{value:!0});uo.InlineValueRefreshRequest=uo.InlineValueRequest=void 0;var Pu=$e(),cb;(function(t){t.method="textDocument/inlineValue",t.messageDirection=Pu.MessageDirection.clientToServer,t.type=new Pu.ProtocolRequestType(t.method)})(cb||(uo.InlineValueRequest=cb={}));var lb;(function(t){t.method="workspace/inlineValue/refresh",t.messageDirection=Pu.MessageDirection.serverToClient,t.type=new Pu.ProtocolRequestType0(t.method)})(lb||(uo.InlineValueRefreshRequest=lb={}))});var pb=p(jn=>{"use strict";Object.defineProperty(jn,"__esModule",{value:!0});jn.InlayHintRefreshRequest=jn.InlayHintResolveRequest=jn.InlayHintRequest=void 0;var co=$e(),db;(function(t){t.method="textDocument/inlayHint",t.messageDirection=co.MessageDirection.clientToServer,t.type=new co.ProtocolRequestType(t.method)})(db||(jn.InlayHintRequest=db={}));var hb;(function(t){t.method="inlayHint/resolve",t.messageDirection=co.MessageDirection.clientToServer,t.type=new co.ProtocolRequestType(t.method)})(hb||(jn.InlayHintResolveRequest=hb={}));var gb;(function(t){t.method="workspace/inlayHint/refresh",t.messageDirection=co.MessageDirection.serverToClient,t.type=new co.ProtocolRequestType0(t.method)})(gb||(jn.InlayHintRefreshRequest=gb={}))});var Rb=p(tr=>{"use strict";Object.defineProperty(tr,"__esModule",{value:!0});tr.DiagnosticRefreshRequest=tr.WorkspaceDiagnosticRequest=tr.DocumentDiagnosticRequest=tr.DocumentDiagnosticReportKind=tr.DiagnosticServerCancellationData=void 0;var wb=mi(),NM=gu(),lo=$e(),mb;(function(t){function e(r){let n=r;return n&&NM.boolean(n.retriggerRequest)}t.is=e})(mb||(tr.DiagnosticServerCancellationData=mb={}));var yb;(function(t){t.Full="full",t.Unchanged="unchanged"})(yb||(tr.DocumentDiagnosticReportKind=yb={}));var vb;(function(t){t.method="textDocument/diagnostic",t.messageDirection=lo.MessageDirection.clientToServer,t.type=new lo.ProtocolRequestType(t.method),t.partialResult=new wb.ProgressType})(vb||(tr.DocumentDiagnosticRequest=vb={}));var bb;(function(t){t.method="workspace/diagnostic",t.messageDirection=lo.MessageDirection.clientToServer,t.type=new lo.ProtocolRequestType(t.method),t.partialResult=new wb.ProgressType})(bb||(tr.WorkspaceDiagnosticRequest=bb={}));var _b;(function(t){t.method="workspace/diagnostic/refresh",t.messageDirection=lo.MessageDirection.serverToClient,t.type=new lo.ProtocolRequestType0(t.method)})(_b||(tr.DiagnosticRefreshRequest=_b={}))});var qb=p(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.DidCloseNotebookDocumentNotification=Be.DidSaveNotebookDocumentNotification=Be.DidChangeNotebookDocumentNotification=Be.NotebookCellArrayChange=Be.DidOpenNotebookDocumentNotification=Be.NotebookDocumentSyncRegistrationType=Be.NotebookDocument=Be.NotebookCell=Be.ExecutionSummary=Be.NotebookCellKind=void 0;var ms=kr(),_r=gu(),Fr=$e(),Gd;(function(t){t.Markup=1,t.Code=2;function e(r){return r===1||r===2}t.is=e})(Gd||(Be.NotebookCellKind=Gd={}));var Yd;(function(t){function e(i,o){let s={executionOrder:i};return(o===!0||o===!1)&&(s.success=o),s}t.create=e;function r(i){let o=i;return _r.objectLiteral(o)&&ms.uinteger.is(o.executionOrder)&&(o.success===void 0||_r.boolean(o.success))}t.is=r;function n(i,o){return i===o?!0:i==null||o===null||o===void 0?!1:i.executionOrder===o.executionOrder&&i.success===o.success}t.equals=n})(Yd||(Be.ExecutionSummary=Yd={}));var Ou;(function(t){function e(o,s){return{kind:o,document:s}}t.create=e;function r(o){let s=o;return _r.objectLiteral(s)&&Gd.is(s.kind)&&ms.DocumentUri.is(s.document)&&(s.metadata===void 0||_r.objectLiteral(s.metadata))}t.is=r;function n(o,s){let a=new Set;return o.document!==s.document&&a.add("document"),o.kind!==s.kind&&a.add("kind"),o.executionSummary!==s.executionSummary&&a.add("executionSummary"),(o.metadata!==void 0||s.metadata!==void 0)&&!i(o.metadata,s.metadata)&&a.add("metadata"),(o.executionSummary!==void 0||s.executionSummary!==void 0)&&!Yd.equals(o.executionSummary,s.executionSummary)&&a.add("executionSummary"),a}t.diff=n;function i(o,s){if(o===s)return!0;if(o==null||s===null||s===void 0||typeof o!=typeof s||typeof o!="object")return!1;let a=Array.isArray(o),u=Array.isArray(s);if(a!==u)return!1;if(a&&u){if(o.length!==s.length)return!1;for(let c=0;c<o.length;c++)if(!i(o[c],s[c]))return!1}if(_r.objectLiteral(o)&&_r.objectLiteral(s)){let c=Object.keys(o),h=Object.keys(s);if(c.length!==h.length||(c.sort(),h.sort(),!i(c,h)))return!1;for(let d=0;d<c.length;d++){let g=c[d];if(!i(o[g],s[g]))return!1}}return!0}})(Ou||(Be.NotebookCell=Ou={}));var Sb;(function(t){function e(n,i,o,s){return{uri:n,notebookType:i,version:o,cells:s}}t.create=e;function r(n){let i=n;return _r.objectLiteral(i)&&_r.string(i.uri)&&ms.integer.is(i.version)&&_r.typedArray(i.cells,Ou.is)}t.is=r})(Sb||(Be.NotebookDocument=Sb={}));var fo;(function(t){t.method="notebookDocument/sync",t.messageDirection=Fr.MessageDirection.clientToServer,t.type=new Fr.RegistrationType(t.method)})(fo||(Be.NotebookDocumentSyncRegistrationType=fo={}));var Eb;(function(t){t.method="notebookDocument/didOpen",t.messageDirection=Fr.MessageDirection.clientToServer,t.type=new Fr.ProtocolNotificationType(t.method),t.registrationMethod=fo.method})(Eb||(Be.DidOpenNotebookDocumentNotification=Eb={}));var Db;(function(t){function e(n){let i=n;return _r.objectLiteral(i)&&ms.uinteger.is(i.start)&&ms.uinteger.is(i.deleteCount)&&(i.cells===void 0||_r.typedArray(i.cells,Ou.is))}t.is=e;function r(n,i,o){let s={start:n,deleteCount:i};return o!==void 0&&(s.cells=o),s}t.create=r})(Db||(Be.NotebookCellArrayChange=Db={}));var Pb;(function(t){t.method="notebookDocument/didChange",t.messageDirection=Fr.MessageDirection.clientToServer,t.type=new Fr.ProtocolNotificationType(t.method),t.registrationMethod=fo.method})(Pb||(Be.DidChangeNotebookDocumentNotification=Pb={}));var Ob;(function(t){t.method="notebookDocument/didSave",t.messageDirection=Fr.MessageDirection.clientToServer,t.type=new Fr.ProtocolNotificationType(t.method),t.registrationMethod=fo.method})(Ob||(Be.DidSaveNotebookDocumentNotification=Ob={}));var Tb;(function(t){t.method="notebookDocument/didClose",t.messageDirection=Fr.MessageDirection.clientToServer,t.type=new Fr.ProtocolNotificationType(t.method),t.registrationMethod=fo.method})(Tb||(Be.DidCloseNotebookDocumentNotification=Tb={}))});var Ab=p(Tu=>{"use strict";Object.defineProperty(Tu,"__esModule",{value:!0});Tu.InlineCompletionRequest=void 0;var Mb=$e(),Cb;(function(t){t.method="textDocument/inlineCompletion",t.messageDirection=Mb.MessageDirection.clientToServer,t.type=new Mb.ProtocolRequestType(t.method)})(Cb||(Tu.InlineCompletionRequest=Cb={}))});var z_=p(b=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.WorkspaceSymbolRequest=b.CodeActionResolveRequest=b.CodeActionRequest=b.DocumentSymbolRequest=b.DocumentHighlightRequest=b.ReferencesRequest=b.DefinitionRequest=b.SignatureHelpRequest=b.SignatureHelpTriggerKind=b.HoverRequest=b.CompletionResolveRequest=b.CompletionRequest=b.CompletionTriggerKind=b.PublishDiagnosticsNotification=b.WatchKind=b.RelativePattern=b.FileChangeType=b.DidChangeWatchedFilesNotification=b.WillSaveTextDocumentWaitUntilRequest=b.WillSaveTextDocumentNotification=b.TextDocumentSaveReason=b.DidSaveTextDocumentNotification=b.DidCloseTextDocumentNotification=b.DidChangeTextDocumentNotification=b.TextDocumentContentChangeEvent=b.DidOpenTextDocumentNotification=b.TextDocumentSyncKind=b.TelemetryEventNotification=b.LogMessageNotification=b.ShowMessageRequest=b.ShowMessageNotification=b.MessageType=b.DidChangeConfigurationNotification=b.ExitNotification=b.ShutdownRequest=b.InitializedNotification=b.InitializeErrorCodes=b.InitializeRequest=b.WorkDoneProgressOptions=b.TextDocumentRegistrationOptions=b.StaticRegistrationOptions=b.PositionEncodingKind=b.FailureHandlingKind=b.ResourceOperationKind=b.UnregistrationRequest=b.RegistrationRequest=b.DocumentSelector=b.NotebookCellTextDocumentFilter=b.NotebookDocumentFilter=b.TextDocumentFilter=void 0;b.MonikerRequest=b.MonikerKind=b.UniquenessLevel=b.WillDeleteFilesRequest=b.DidDeleteFilesNotification=b.WillRenameFilesRequest=b.DidRenameFilesNotification=b.WillCreateFilesRequest=b.DidCreateFilesNotification=b.FileOperationPatternKind=b.LinkedEditingRangeRequest=b.ShowDocumentRequest=b.SemanticTokensRegistrationType=b.SemanticTokensRefreshRequest=b.SemanticTokensRangeRequest=b.SemanticTokensDeltaRequest=b.SemanticTokensRequest=b.TokenFormat=b.CallHierarchyPrepareRequest=b.CallHierarchyOutgoingCallsRequest=b.CallHierarchyIncomingCallsRequest=b.WorkDoneProgressCancelNotification=b.WorkDoneProgressCreateRequest=b.WorkDoneProgress=b.SelectionRangeRequest=b.DeclarationRequest=b.FoldingRangeRefreshRequest=b.FoldingRangeRequest=b.ColorPresentationRequest=b.DocumentColorRequest=b.ConfigurationRequest=b.DidChangeWorkspaceFoldersNotification=b.WorkspaceFoldersRequest=b.TypeDefinitionRequest=b.ImplementationRequest=b.ApplyWorkspaceEditRequest=b.ExecuteCommandRequest=b.PrepareRenameRequest=b.RenameRequest=b.PrepareSupportDefaultBehavior=b.DocumentOnTypeFormattingRequest=b.DocumentRangesFormattingRequest=b.DocumentRangeFormattingRequest=b.DocumentFormattingRequest=b.DocumentLinkResolveRequest=b.DocumentLinkRequest=b.CodeLensRefreshRequest=b.CodeLensResolveRequest=b.CodeLensRequest=b.WorkspaceSymbolResolveRequest=void 0;b.InlineCompletionRequest=b.DidCloseNotebookDocumentNotification=b.DidSaveNotebookDocumentNotification=b.DidChangeNotebookDocumentNotification=b.NotebookCellArrayChange=b.DidOpenNotebookDocumentNotification=b.NotebookDocumentSyncRegistrationType=b.NotebookDocument=b.NotebookCell=b.ExecutionSummary=b.NotebookCellKind=b.DiagnosticRefreshRequest=b.WorkspaceDiagnosticRequest=b.DocumentDiagnosticRequest=b.DocumentDiagnosticReportKind=b.DiagnosticServerCancellationData=b.InlayHintRefreshRequest=b.InlayHintResolveRequest=b.InlayHintRequest=b.InlineValueRefreshRequest=b.InlineValueRequest=b.TypeHierarchySupertypesRequest=b.TypeHierarchySubtypesRequest=b.TypeHierarchyPrepareRequest=void 0;var k=$e(),jb=kr(),nt=gu(),LM=iv();Object.defineProperty(b,"ImplementationRequest",{enumerable:!0,get:function(){return LM.ImplementationRequest}});var xM=av();Object.defineProperty(b,"TypeDefinitionRequest",{enumerable:!0,get:function(){return xM.TypeDefinitionRequest}});var W_=lv();Object.defineProperty(b,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return W_.WorkspaceFoldersRequest}});Object.defineProperty(b,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return W_.DidChangeWorkspaceFoldersNotification}});var IM=hv();Object.defineProperty(b,"ConfigurationRequest",{enumerable:!0,get:function(){return IM.ConfigurationRequest}});var H_=mv();Object.defineProperty(b,"DocumentColorRequest",{enumerable:!0,get:function(){return H_.DocumentColorRequest}});Object.defineProperty(b,"ColorPresentationRequest",{enumerable:!0,get:function(){return H_.ColorPresentationRequest}});var U_=bv();Object.defineProperty(b,"FoldingRangeRequest",{enumerable:!0,get:function(){return U_.FoldingRangeRequest}});Object.defineProperty(b,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return U_.FoldingRangeRefreshRequest}});var kM=Rv();Object.defineProperty(b,"DeclarationRequest",{enumerable:!0,get:function(){return kM.DeclarationRequest}});var FM=Dv();Object.defineProperty(b,"SelectionRangeRequest",{enumerable:!0,get:function(){return FM.SelectionRangeRequest}});var Zd=qv();Object.defineProperty(b,"WorkDoneProgress",{enumerable:!0,get:function(){return Zd.WorkDoneProgress}});Object.defineProperty(b,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return Zd.WorkDoneProgressCreateRequest}});Object.defineProperty(b,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return Zd.WorkDoneProgressCancelNotification}});var eh=jv();Object.defineProperty(b,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return eh.CallHierarchyIncomingCallsRequest}});Object.defineProperty(b,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return eh.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(b,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return eh.CallHierarchyPrepareRequest}});var ho=Fv();Object.defineProperty(b,"TokenFormat",{enumerable:!0,get:function(){return ho.TokenFormat}});Object.defineProperty(b,"SemanticTokensRequest",{enumerable:!0,get:function(){return ho.SemanticTokensRequest}});Object.defineProperty(b,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return ho.SemanticTokensDeltaRequest}});Object.defineProperty(b,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return ho.SemanticTokensRangeRequest}});Object.defineProperty(b,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return ho.SemanticTokensRefreshRequest}});Object.defineProperty(b,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return ho.SemanticTokensRegistrationType}});var $M=Hv();Object.defineProperty(b,"ShowDocumentRequest",{enumerable:!0,get:function(){return $M.ShowDocumentRequest}});var WM=zv();Object.defineProperty(b,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return WM.LinkedEditingRangeRequest}});var yi=Zv();Object.defineProperty(b,"FileOperationPatternKind",{enumerable:!0,get:function(){return yi.FileOperationPatternKind}});Object.defineProperty(b,"DidCreateFilesNotification",{enumerable:!0,get:function(){return yi.DidCreateFilesNotification}});Object.defineProperty(b,"WillCreateFilesRequest",{enumerable:!0,get:function(){return yi.WillCreateFilesRequest}});Object.defineProperty(b,"DidRenameFilesNotification",{enumerable:!0,get:function(){return yi.DidRenameFilesNotification}});Object.defineProperty(b,"WillRenameFilesRequest",{enumerable:!0,get:function(){return yi.WillRenameFilesRequest}});Object.defineProperty(b,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return yi.DidDeleteFilesNotification}});Object.defineProperty(b,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return yi.WillDeleteFilesRequest}});var th=ib();Object.defineProperty(b,"UniquenessLevel",{enumerable:!0,get:function(){return th.UniquenessLevel}});Object.defineProperty(b,"MonikerKind",{enumerable:!0,get:function(){return th.MonikerKind}});Object.defineProperty(b,"MonikerRequest",{enumerable:!0,get:function(){return th.MonikerRequest}});var rh=ub();Object.defineProperty(b,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return rh.TypeHierarchyPrepareRequest}});Object.defineProperty(b,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return rh.TypeHierarchySubtypesRequest}});Object.defineProperty(b,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return rh.TypeHierarchySupertypesRequest}});var B_=fb();Object.defineProperty(b,"InlineValueRequest",{enumerable:!0,get:function(){return B_.InlineValueRequest}});Object.defineProperty(b,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return B_.InlineValueRefreshRequest}});var nh=pb();Object.defineProperty(b,"InlayHintRequest",{enumerable:!0,get:function(){return nh.InlayHintRequest}});Object.defineProperty(b,"InlayHintResolveRequest",{enumerable:!0,get:function(){return nh.InlayHintResolveRequest}});Object.defineProperty(b,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return nh.InlayHintRefreshRequest}});var ys=Rb();Object.defineProperty(b,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return ys.DiagnosticServerCancellationData}});Object.defineProperty(b,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return ys.DocumentDiagnosticReportKind}});Object.defineProperty(b,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return ys.DocumentDiagnosticRequest}});Object.defineProperty(b,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return ys.WorkspaceDiagnosticRequest}});Object.defineProperty(b,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return ys.DiagnosticRefreshRequest}});var $r=qb();Object.defineProperty(b,"NotebookCellKind",{enumerable:!0,get:function(){return $r.NotebookCellKind}});Object.defineProperty(b,"ExecutionSummary",{enumerable:!0,get:function(){return $r.ExecutionSummary}});Object.defineProperty(b,"NotebookCell",{enumerable:!0,get:function(){return $r.NotebookCell}});Object.defineProperty(b,"NotebookDocument",{enumerable:!0,get:function(){return $r.NotebookDocument}});Object.defineProperty(b,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return $r.NotebookDocumentSyncRegistrationType}});Object.defineProperty(b,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return $r.DidOpenNotebookDocumentNotification}});Object.defineProperty(b,"NotebookCellArrayChange",{enumerable:!0,get:function(){return $r.NotebookCellArrayChange}});Object.defineProperty(b,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return $r.DidChangeNotebookDocumentNotification}});Object.defineProperty(b,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return $r.DidSaveNotebookDocumentNotification}});Object.defineProperty(b,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return $r.DidCloseNotebookDocumentNotification}});var HM=Ab();Object.defineProperty(b,"InlineCompletionRequest",{enumerable:!0,get:function(){return HM.InlineCompletionRequest}});var Kd;(function(t){function e(r){let n=r;return nt.string(n)||nt.string(n.language)||nt.string(n.scheme)||nt.string(n.pattern)}t.is=e})(Kd||(b.TextDocumentFilter=Kd={}));var Xd;(function(t){function e(r){let n=r;return nt.objectLiteral(n)&&(nt.string(n.notebookType)||nt.string(n.scheme)||nt.string(n.pattern))}t.is=e})(Xd||(b.NotebookDocumentFilter=Xd={}));var Jd;(function(t){function e(r){let n=r;return nt.objectLiteral(n)&&(nt.string(n.notebook)||Xd.is(n.notebook))&&(n.language===void 0||nt.string(n.language))}t.is=e})(Jd||(b.NotebookCellTextDocumentFilter=Jd={}));var Qd;(function(t){function e(r){if(!Array.isArray(r))return!1;for(let n of r)if(!nt.string(n)&&!Kd.is(n)&&!Jd.is(n))return!1;return!0}t.is=e})(Qd||(b.DocumentSelector=Qd={}));var Nb;(function(t){t.method="client/registerCapability",t.messageDirection=k.MessageDirection.serverToClient,t.type=new k.ProtocolRequestType(t.method)})(Nb||(b.RegistrationRequest=Nb={}));var Lb;(function(t){t.method="client/unregisterCapability",t.messageDirection=k.MessageDirection.serverToClient,t.type=new k.ProtocolRequestType(t.method)})(Lb||(b.UnregistrationRequest=Lb={}));var xb;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})(xb||(b.ResourceOperationKind=xb={}));var Ib;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})(Ib||(b.FailureHandlingKind=Ib={}));var kb;(function(t){t.UTF8="utf-8",t.UTF16="utf-16",t.UTF32="utf-32"})(kb||(b.PositionEncodingKind=kb={}));var Fb;(function(t){function e(r){let n=r;return n&&nt.string(n.id)&&n.id.length>0}t.hasId=e})(Fb||(b.StaticRegistrationOptions=Fb={}));var $b;(function(t){function e(r){let n=r;return n&&(n.documentSelector===null||Qd.is(n.documentSelector))}t.is=e})($b||(b.TextDocumentRegistrationOptions=$b={}));var Wb;(function(t){function e(n){let i=n;return nt.objectLiteral(i)&&(i.workDoneProgress===void 0||nt.boolean(i.workDoneProgress))}t.is=e;function r(n){let i=n;return i&&nt.boolean(i.workDoneProgress)}t.hasWorkDoneProgress=r})(Wb||(b.WorkDoneProgressOptions=Wb={}));var Hb;(function(t){t.method="initialize",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(Hb||(b.InitializeRequest=Hb={}));var Ub;(function(t){t.unknownProtocolVersion=1})(Ub||(b.InitializeErrorCodes=Ub={}));var Bb;(function(t){t.method="initialized",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolNotificationType(t.method)})(Bb||(b.InitializedNotification=Bb={}));var zb;(function(t){t.method="shutdown",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType0(t.method)})(zb||(b.ShutdownRequest=zb={}));var Vb;(function(t){t.method="exit",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolNotificationType0(t.method)})(Vb||(b.ExitNotification=Vb={}));var Gb;(function(t){t.method="workspace/didChangeConfiguration",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolNotificationType(t.method)})(Gb||(b.DidChangeConfigurationNotification=Gb={}));var Yb;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4,t.Debug=5})(Yb||(b.MessageType=Yb={}));var Kb;(function(t){t.method="window/showMessage",t.messageDirection=k.MessageDirection.serverToClient,t.type=new k.ProtocolNotificationType(t.method)})(Kb||(b.ShowMessageNotification=Kb={}));var Xb;(function(t){t.method="window/showMessageRequest",t.messageDirection=k.MessageDirection.serverToClient,t.type=new k.ProtocolRequestType(t.method)})(Xb||(b.ShowMessageRequest=Xb={}));var Jb;(function(t){t.method="window/logMessage",t.messageDirection=k.MessageDirection.serverToClient,t.type=new k.ProtocolNotificationType(t.method)})(Jb||(b.LogMessageNotification=Jb={}));var Qb;(function(t){t.method="telemetry/event",t.messageDirection=k.MessageDirection.serverToClient,t.type=new k.ProtocolNotificationType(t.method)})(Qb||(b.TelemetryEventNotification=Qb={}));var Zb;(function(t){t.None=0,t.Full=1,t.Incremental=2})(Zb||(b.TextDocumentSyncKind=Zb={}));var e_;(function(t){t.method="textDocument/didOpen",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolNotificationType(t.method)})(e_||(b.DidOpenTextDocumentNotification=e_={}));var t_;(function(t){function e(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}t.isIncremental=e;function r(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}t.isFull=r})(t_||(b.TextDocumentContentChangeEvent=t_={}));var r_;(function(t){t.method="textDocument/didChange",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolNotificationType(t.method)})(r_||(b.DidChangeTextDocumentNotification=r_={}));var n_;(function(t){t.method="textDocument/didClose",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolNotificationType(t.method)})(n_||(b.DidCloseTextDocumentNotification=n_={}));var i_;(function(t){t.method="textDocument/didSave",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolNotificationType(t.method)})(i_||(b.DidSaveTextDocumentNotification=i_={}));var o_;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(o_||(b.TextDocumentSaveReason=o_={}));var s_;(function(t){t.method="textDocument/willSave",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolNotificationType(t.method)})(s_||(b.WillSaveTextDocumentNotification=s_={}));var a_;(function(t){t.method="textDocument/willSaveWaitUntil",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(a_||(b.WillSaveTextDocumentWaitUntilRequest=a_={}));var u_;(function(t){t.method="workspace/didChangeWatchedFiles",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolNotificationType(t.method)})(u_||(b.DidChangeWatchedFilesNotification=u_={}));var c_;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})(c_||(b.FileChangeType=c_={}));var l_;(function(t){function e(r){let n=r;return nt.objectLiteral(n)&&(jb.URI.is(n.baseUri)||jb.WorkspaceFolder.is(n.baseUri))&&nt.string(n.pattern)}t.is=e})(l_||(b.RelativePattern=l_={}));var f_;(function(t){t.Create=1,t.Change=2,t.Delete=4})(f_||(b.WatchKind=f_={}));var d_;(function(t){t.method="textDocument/publishDiagnostics",t.messageDirection=k.MessageDirection.serverToClient,t.type=new k.ProtocolNotificationType(t.method)})(d_||(b.PublishDiagnosticsNotification=d_={}));var h_;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(h_||(b.CompletionTriggerKind=h_={}));var g_;(function(t){t.method="textDocument/completion",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(g_||(b.CompletionRequest=g_={}));var p_;(function(t){t.method="completionItem/resolve",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(p_||(b.CompletionResolveRequest=p_={}));var m_;(function(t){t.method="textDocument/hover",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(m_||(b.HoverRequest=m_={}));var y_;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})(y_||(b.SignatureHelpTriggerKind=y_={}));var v_;(function(t){t.method="textDocument/signatureHelp",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(v_||(b.SignatureHelpRequest=v_={}));var b_;(function(t){t.method="textDocument/definition",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(b_||(b.DefinitionRequest=b_={}));var __;(function(t){t.method="textDocument/references",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(__||(b.ReferencesRequest=__={}));var w_;(function(t){t.method="textDocument/documentHighlight",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(w_||(b.DocumentHighlightRequest=w_={}));var R_;(function(t){t.method="textDocument/documentSymbol",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(R_||(b.DocumentSymbolRequest=R_={}));var S_;(function(t){t.method="textDocument/codeAction",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(S_||(b.CodeActionRequest=S_={}));var E_;(function(t){t.method="codeAction/resolve",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(E_||(b.CodeActionResolveRequest=E_={}));var D_;(function(t){t.method="workspace/symbol",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(D_||(b.WorkspaceSymbolRequest=D_={}));var P_;(function(t){t.method="workspaceSymbol/resolve",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(P_||(b.WorkspaceSymbolResolveRequest=P_={}));var O_;(function(t){t.method="textDocument/codeLens",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(O_||(b.CodeLensRequest=O_={}));var T_;(function(t){t.method="codeLens/resolve",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(T_||(b.CodeLensResolveRequest=T_={}));var q_;(function(t){t.method="workspace/codeLens/refresh",t.messageDirection=k.MessageDirection.serverToClient,t.type=new k.ProtocolRequestType0(t.method)})(q_||(b.CodeLensRefreshRequest=q_={}));var M_;(function(t){t.method="textDocument/documentLink",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(M_||(b.DocumentLinkRequest=M_={}));var C_;(function(t){t.method="documentLink/resolve",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(C_||(b.DocumentLinkResolveRequest=C_={}));var A_;(function(t){t.method="textDocument/formatting",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(A_||(b.DocumentFormattingRequest=A_={}));var j_;(function(t){t.method="textDocument/rangeFormatting",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(j_||(b.DocumentRangeFormattingRequest=j_={}));var N_;(function(t){t.method="textDocument/rangesFormatting",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(N_||(b.DocumentRangesFormattingRequest=N_={}));var L_;(function(t){t.method="textDocument/onTypeFormatting",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(L_||(b.DocumentOnTypeFormattingRequest=L_={}));var x_;(function(t){t.Identifier=1})(x_||(b.PrepareSupportDefaultBehavior=x_={}));var I_;(function(t){t.method="textDocument/rename",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(I_||(b.RenameRequest=I_={}));var k_;(function(t){t.method="textDocument/prepareRename",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(k_||(b.PrepareRenameRequest=k_={}));var F_;(function(t){t.method="workspace/executeCommand",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(F_||(b.ExecuteCommandRequest=F_={}));var $_;(function(t){t.method="workspace/applyEdit",t.messageDirection=k.MessageDirection.serverToClient,t.type=new k.ProtocolRequestType("workspace/applyEdit")})($_||(b.ApplyWorkspaceEditRequest=$_={}))});var G_=p(qu=>{"use strict";Object.defineProperty(qu,"__esModule",{value:!0});qu.createProtocolConnection=void 0;var V_=mi();function UM(t,e,r,n){return V_.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,V_.createMessageConnection)(t,e,r,n)}qu.createProtocolConnection=UM});var K_=p(xt=>{"use strict";var BM=xt&&xt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Mu=xt&&xt.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&BM(e,t,r)};Object.defineProperty(xt,"__esModule",{value:!0});xt.LSPErrorCodes=xt.createProtocolConnection=void 0;Mu(mi(),xt);Mu(kr(),xt);Mu($e(),xt);Mu(z_(),xt);var zM=G_();Object.defineProperty(xt,"createProtocolConnection",{enumerable:!0,get:function(){return zM.createProtocolConnection}});var Y_;(function(t){t.lspReservedErrorRangeStart=-32899,t.RequestFailed=-32803,t.ServerCancelled=-32802,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800})(Y_||(xt.LSPErrorCodes=Y_={}))});var Oe=p(Wr=>{"use strict";var VM=Wr&&Wr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),X_=Wr&&Wr.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&VM(e,t,r)};Object.defineProperty(Wr,"__esModule",{value:!0});Wr.createProtocolConnection=void 0;var GM=Wd();X_(Wd(),Wr);X_(K_(),Wr);function YM(t,e,r,n){return(0,GM.createMessageConnection)(t,e,r,n)}Wr.createProtocolConnection=YM});var ih=p(rr=>{"use strict";Object.defineProperty(rr,"__esModule",{value:!0});rr.generateUuid=rr.parse=rr.isUUID=rr.v4=rr.empty=void 0;var vs=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},bs=class t extends vs{static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return t._oneOf(t._chars)}constructor(){super([t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-","4",t._randomHex(),t._randomHex(),t._randomHex(),"-",t._oneOf(t._timeHighBits),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex()].join(""))}};bs._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];bs._timeHighBits=["8","9","a","b"];rr.empty=new vs("00000000-0000-0000-0000-000000000000");function J_(){return new bs}rr.v4=J_;var KM=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function Q_(t){return KM.test(t)}rr.isUUID=Q_;function XM(t){if(!Q_(t))throw new Error("invalid uuid");return new vs(t)}rr.parse=XM;function JM(){return J_().asHex()}rr.generateUuid=JM});var Z_=p(Ln=>{"use strict";Object.defineProperty(Ln,"__esModule",{value:!0});Ln.attachPartialResult=Ln.ProgressFeature=Ln.attachWorkDone=void 0;var Nn=Oe(),QM=ih(),vi=class t{constructor(e,r){this._connection=e,this._token=r,t.Instances.set(this._token,this)}begin(e,r,n,i){let o={kind:"begin",title:e,percentage:r,message:n,cancellable:i};this._connection.sendProgress(Nn.WorkDoneProgress.type,this._token,o)}report(e,r){let n={kind:"report"};typeof e=="number"?(n.percentage=e,r!==void 0&&(n.message=r)):n.message=e,this._connection.sendProgress(Nn.WorkDoneProgress.type,this._token,n)}done(){t.Instances.delete(this._token),this._connection.sendProgress(Nn.WorkDoneProgress.type,this._token,{kind:"end"})}};vi.Instances=new Map;var Cu=class extends vi{constructor(e,r){super(e,r),this._source=new Nn.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}},_s=class{constructor(){}begin(){}report(){}done(){}},Au=class extends _s{constructor(){super(),this._source=new Nn.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}};function ZM(t,e){if(e===void 0||e.workDoneToken===void 0)return new _s;let r=e.workDoneToken;return delete e.workDoneToken,new vi(t,r)}Ln.attachWorkDone=ZM;var eC=t=>class extends t{constructor(){super(),this._progressSupported=!1}initialize(e){super.initialize(e),e?.window?.workDoneProgress===!0&&(this._progressSupported=!0,this.connection.onNotification(Nn.WorkDoneProgressCancelNotification.type,r=>{let n=vi.Instances.get(r.token);(n instanceof Cu||n instanceof Au)&&n.cancel()}))}attachWorkDoneProgress(e){return e===void 0?new _s:new vi(this.connection,e)}createWorkDoneProgress(){if(this._progressSupported){let e=(0,QM.generateUuid)();return this.connection.sendRequest(Nn.WorkDoneProgressCreateRequest.type,{token:e}).then(()=>new Cu(this.connection,e))}else return Promise.resolve(new Au)}};Ln.ProgressFeature=eC;var oh;(function(t){t.type=new Nn.ProgressType})(oh||(oh={}));var sh=class{constructor(e,r){this._connection=e,this._token=r}report(e){this._connection.sendProgress(oh.type,this._token,e)}};function tC(t,e){if(e===void 0||e.partialResultToken===void 0)return;let r=e.partialResultToken;return delete e.partialResultToken,new sh(t,r)}Ln.attachPartialResult=tC});var e0=p(ju=>{"use strict";Object.defineProperty(ju,"__esModule",{value:!0});ju.ConfigurationFeature=void 0;var rC=Oe(),nC=za(),iC=t=>class extends t{getConfiguration(e){return e?nC.string(e)?this._getConfiguration({section:e}):this._getConfiguration(e):this._getConfiguration({})}_getConfiguration(e){let r={items:Array.isArray(e)?e:[e]};return this.connection.sendRequest(rC.ConfigurationRequest.type,r).then(n=>Array.isArray(n)?Array.isArray(e)?n:n[0]:Array.isArray(e)?[]:null)}};ju.ConfigurationFeature=iC});var t0=p(Lu=>{"use strict";Object.defineProperty(Lu,"__esModule",{value:!0});Lu.WorkspaceFoldersFeature=void 0;var Nu=Oe(),oC=t=>class extends t{constructor(){super(),this._notificationIsAutoRegistered=!1}initialize(e){super.initialize(e);let r=e.workspace;r&&r.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new Nu.Emitter,this.connection.onNotification(Nu.DidChangeWorkspaceFoldersNotification.type,n=>{this._onDidChangeWorkspaceFolders.fire(n.event)}))}fillServerCapabilities(e){super.fillServerCapabilities(e);let r=e.workspace?.workspaceFolders?.changeNotifications;this._notificationIsAutoRegistered=r===!0||typeof r=="string"}getWorkspaceFolders(){return this.connection.sendRequest(Nu.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return!this._notificationIsAutoRegistered&&!this._unregistration&&(this._unregistration=this.connection.client.register(Nu.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};Lu.WorkspaceFoldersFeature=oC});var r0=p(xu=>{"use strict";Object.defineProperty(xu,"__esModule",{value:!0});xu.CallHierarchyFeature=void 0;var ah=Oe(),sC=t=>class extends t{get callHierarchy(){return{onPrepare:e=>this.connection.onRequest(ah.CallHierarchyPrepareRequest.type,(r,n)=>e(r,n,this.attachWorkDoneProgress(r),void 0)),onIncomingCalls:e=>{let r=ah.CallHierarchyIncomingCallsRequest.type;return this.connection.onRequest(r,(n,i)=>e(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onOutgoingCalls:e=>{let r=ah.CallHierarchyOutgoingCallsRequest.type;return this.connection.onRequest(r,(n,i)=>e(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}};xu.CallHierarchyFeature=sC});var ch=p(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});xn.SemanticTokensBuilder=xn.SemanticTokensDiff=xn.SemanticTokensFeature=void 0;var Iu=Oe(),aC=t=>class extends t{get semanticTokens(){return{refresh:()=>this.connection.sendRequest(Iu.SemanticTokensRefreshRequest.type),on:e=>{let r=Iu.SemanticTokensRequest.type;return this.connection.onRequest(r,(n,i)=>e(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onDelta:e=>{let r=Iu.SemanticTokensDeltaRequest.type;return this.connection.onRequest(r,(n,i)=>e(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onRange:e=>{let r=Iu.SemanticTokensRangeRequest.type;return this.connection.onRequest(r,(n,i)=>e(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}};xn.SemanticTokensFeature=aC;var ku=class{constructor(e,r){this.originalSequence=e,this.modifiedSequence=r}computeDiff(){let e=this.originalSequence.length,r=this.modifiedSequence.length,n=0;for(;n<r&&n<e&&this.originalSequence[n]===this.modifiedSequence[n];)n++;if(n<r&&n<e){let i=e-1,o=r-1;for(;i>=n&&o>=n&&this.originalSequence[i]===this.modifiedSequence[o];)i--,o--;(i<n||o<n)&&(i++,o++);let s=i-n+1,a=this.modifiedSequence.slice(n,o+1);return a.length===1&&a[0]===this.originalSequence[i]?[{start:n,deleteCount:s-1}]:[{start:n,deleteCount:s,data:a}]}else return n<r?[{start:n,deleteCount:0,data:this.modifiedSequence.slice(n)}]:n<e?[{start:n,deleteCount:e-n}]:[]}};xn.SemanticTokensDiff=ku;var uh=class{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(e,r,n,i,o){let s=e,a=r;this._dataLen>0&&(s-=this._prevLine,s===0&&(a-=this._prevChar)),this._data[this._dataLen++]=s,this._data[this._dataLen++]=a,this._data[this._dataLen++]=n,this._data[this._dataLen++]=i,this._data[this._dataLen++]=o,this._prevLine=e,this._prevChar=r}get id(){return this._id.toString()}previousResult(e){this.id===e&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){return this._prevData!==void 0?{resultId:this.id,edits:new ku(this._prevData,this._data).computeDiff()}:this.build()}};xn.SemanticTokensBuilder=uh});var n0=p(Fu=>{"use strict";Object.defineProperty(Fu,"__esModule",{value:!0});Fu.ShowDocumentFeature=void 0;var uC=Oe(),cC=t=>class extends t{showDocument(e){return this.connection.sendRequest(uC.ShowDocumentRequest.type,e)}};Fu.ShowDocumentFeature=cC});var i0=p($u=>{"use strict";Object.defineProperty($u,"__esModule",{value:!0});$u.FileOperationsFeature=void 0;var go=Oe(),lC=t=>class extends t{onDidCreateFiles(e){return this.connection.onNotification(go.DidCreateFilesNotification.type,r=>{e(r)})}onDidRenameFiles(e){return this.connection.onNotification(go.DidRenameFilesNotification.type,r=>{e(r)})}onDidDeleteFiles(e){return this.connection.onNotification(go.DidDeleteFilesNotification.type,r=>{e(r)})}onWillCreateFiles(e){return this.connection.onRequest(go.WillCreateFilesRequest.type,(r,n)=>e(r,n))}onWillRenameFiles(e){return this.connection.onRequest(go.WillRenameFilesRequest.type,(r,n)=>e(r,n))}onWillDeleteFiles(e){return this.connection.onRequest(go.WillDeleteFilesRequest.type,(r,n)=>e(r,n))}};$u.FileOperationsFeature=lC});var o0=p(Wu=>{"use strict";Object.defineProperty(Wu,"__esModule",{value:!0});Wu.LinkedEditingRangeFeature=void 0;var fC=Oe(),dC=t=>class extends t{onLinkedEditingRange(e){return this.connection.onRequest(fC.LinkedEditingRangeRequest.type,(r,n)=>e(r,n,this.attachWorkDoneProgress(r),void 0))}};Wu.LinkedEditingRangeFeature=dC});var s0=p(Hu=>{"use strict";Object.defineProperty(Hu,"__esModule",{value:!0});Hu.TypeHierarchyFeature=void 0;var lh=Oe(),hC=t=>class extends t{get typeHierarchy(){return{onPrepare:e=>this.connection.onRequest(lh.TypeHierarchyPrepareRequest.type,(r,n)=>e(r,n,this.attachWorkDoneProgress(r),void 0)),onSupertypes:e=>{let r=lh.TypeHierarchySupertypesRequest.type;return this.connection.onRequest(r,(n,i)=>e(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onSubtypes:e=>{let r=lh.TypeHierarchySubtypesRequest.type;return this.connection.onRequest(r,(n,i)=>e(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}};Hu.TypeHierarchyFeature=hC});var u0=p(Uu=>{"use strict";Object.defineProperty(Uu,"__esModule",{value:!0});Uu.InlineValueFeature=void 0;var a0=Oe(),gC=t=>class extends t{get inlineValue(){return{refresh:()=>this.connection.sendRequest(a0.InlineValueRefreshRequest.type),on:e=>this.connection.onRequest(a0.InlineValueRequest.type,(r,n)=>e(r,n,this.attachWorkDoneProgress(r)))}}};Uu.InlineValueFeature=gC});var l0=p(Bu=>{"use strict";Object.defineProperty(Bu,"__esModule",{value:!0});Bu.FoldingRangeFeature=void 0;var c0=Oe(),pC=t=>class extends t{get foldingRange(){return{refresh:()=>this.connection.sendRequest(c0.FoldingRangeRefreshRequest.type),on:e=>{let r=c0.FoldingRangeRequest.type;return this.connection.onRequest(r,(n,i)=>e(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}};Bu.FoldingRangeFeature=pC});var f0=p(zu=>{"use strict";Object.defineProperty(zu,"__esModule",{value:!0});zu.InlayHintFeature=void 0;var fh=Oe(),mC=t=>class extends t{get inlayHint(){return{refresh:()=>this.connection.sendRequest(fh.InlayHintRefreshRequest.type),on:e=>this.connection.onRequest(fh.InlayHintRequest.type,(r,n)=>e(r,n,this.attachWorkDoneProgress(r))),resolve:e=>this.connection.onRequest(fh.InlayHintResolveRequest.type,(r,n)=>e(r,n))}}};zu.InlayHintFeature=mC});var d0=p(Vu=>{"use strict";Object.defineProperty(Vu,"__esModule",{value:!0});Vu.DiagnosticFeature=void 0;var ws=Oe(),yC=t=>class extends t{get diagnostics(){return{refresh:()=>this.connection.sendRequest(ws.DiagnosticRefreshRequest.type),on:e=>this.connection.onRequest(ws.DocumentDiagnosticRequest.type,(r,n)=>e(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(ws.DocumentDiagnosticRequest.partialResult,r))),onWorkspace:e=>this.connection.onRequest(ws.WorkspaceDiagnosticRequest.type,(r,n)=>e(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(ws.WorkspaceDiagnosticRequest.partialResult,r)))}}};Vu.DiagnosticFeature=yC});var hh=p(Gu=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});Gu.TextDocuments=void 0;var bi=Oe(),dh=class{constructor(e){this._configuration=e,this._syncedDocuments=new Map,this._onDidChangeContent=new bi.Emitter,this._onDidOpen=new bi.Emitter,this._onDidClose=new bi.Emitter,this._onDidSave=new bi.Emitter,this._onWillSave=new bi.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(e){this._willSaveWaitUntil=e}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(e){return this._syncedDocuments.get(e)}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(e){e.__textDocumentSync=bi.TextDocumentSyncKind.Incremental;let r=[];return r.push(e.onDidOpenTextDocument(n=>{let i=n.textDocument,o=this._configuration.create(i.uri,i.languageId,i.version,i.text);this._syncedDocuments.set(i.uri,o);let s=Object.freeze({document:o});this._onDidOpen.fire(s),this._onDidChangeContent.fire(s)})),r.push(e.onDidChangeTextDocument(n=>{let i=n.textDocument,o=n.contentChanges;if(o.length===0)return;let{version:s}=i;if(s==null)throw new Error(`Received document change event for ${i.uri} without valid version identifier`);let a=this._syncedDocuments.get(i.uri);a!==void 0&&(a=this._configuration.update(a,o,s),this._syncedDocuments.set(i.uri,a),this._onDidChangeContent.fire(Object.freeze({document:a})))})),r.push(e.onDidCloseTextDocument(n=>{let i=this._syncedDocuments.get(n.textDocument.uri);i!==void 0&&(this._syncedDocuments.delete(n.textDocument.uri),this._onDidClose.fire(Object.freeze({document:i})))})),r.push(e.onWillSaveTextDocument(n=>{let i=this._syncedDocuments.get(n.textDocument.uri);i!==void 0&&this._onWillSave.fire(Object.freeze({document:i,reason:n.reason}))})),r.push(e.onWillSaveTextDocumentWaitUntil((n,i)=>{let o=this._syncedDocuments.get(n.textDocument.uri);return o!==void 0&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:o,reason:n.reason}),i):[]})),r.push(e.onDidSaveTextDocument(n=>{let i=this._syncedDocuments.get(n.textDocument.uri);i!==void 0&&this._onDidSave.fire(Object.freeze({document:i}))})),bi.Disposable.create(()=>{r.forEach(n=>n.dispose())})}};Gu.TextDocuments=dh});var ph=p(po=>{"use strict";Object.defineProperty(po,"__esModule",{value:!0});po.NotebookDocuments=po.NotebookSyncFeature=void 0;var nr=Oe(),h0=hh(),vC=t=>class extends t{get synchronization(){return{onDidOpenNotebookDocument:e=>this.connection.onNotification(nr.DidOpenNotebookDocumentNotification.type,r=>{e(r)}),onDidChangeNotebookDocument:e=>this.connection.onNotification(nr.DidChangeNotebookDocumentNotification.type,r=>{e(r)}),onDidSaveNotebookDocument:e=>this.connection.onNotification(nr.DidSaveNotebookDocumentNotification.type,r=>{e(r)}),onDidCloseNotebookDocument:e=>this.connection.onNotification(nr.DidCloseNotebookDocumentNotification.type,r=>{e(r)})}}};po.NotebookSyncFeature=vC;var Yu=class t{onDidOpenTextDocument(e){return this.openHandler=e,nr.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(e){this.openHandler&&this.openHandler(e)}onDidChangeTextDocument(e){return this.changeHandler=e,nr.Disposable.create(()=>{this.changeHandler=e})}changeTextDocument(e){this.changeHandler&&this.changeHandler(e)}onDidCloseTextDocument(e){return this.closeHandler=e,nr.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(e){this.closeHandler&&this.closeHandler(e)}onWillSaveTextDocument(){return t.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return t.NULL_DISPOSE}onDidSaveTextDocument(){return t.NULL_DISPOSE}};Yu.NULL_DISPOSE=Object.freeze({dispose:()=>{}});var gh=class{constructor(e){e instanceof h0.TextDocuments?this._cellTextDocuments=e:this._cellTextDocuments=new h0.TextDocuments(e),this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new nr.Emitter,this._onDidChange=new nr.Emitter,this._onDidSave=new nr.Emitter,this._onDidClose=new nr.Emitter}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(e){return this._cellTextDocuments.get(e.document)}getNotebookDocument(e){return this.notebookDocuments.get(e)}getNotebookCell(e){let r=this.notebookCellMap.get(e);return r&&r[0]}findNotebookDocumentForCell(e){let r=typeof e=="string"?e:e.document,n=this.notebookCellMap.get(r);return n&&n[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(e){let r=new Yu,n=[];return n.push(this.cellTextDocuments.listen(r)),n.push(e.notebooks.synchronization.onDidOpenNotebookDocument(i=>{this.notebookDocuments.set(i.notebookDocument.uri,i.notebookDocument);for(let o of i.cellTextDocuments)r.openTextDocument({textDocument:o});this.updateCellMap(i.notebookDocument),this._onDidOpen.fire(i.notebookDocument)})),n.push(e.notebooks.synchronization.onDidChangeNotebookDocument(i=>{let o=this.notebookDocuments.get(i.notebookDocument.uri);if(o===void 0)return;o.version=i.notebookDocument.version;let s=o.metadata,a=!1,u=i.change;u.metadata!==void 0&&(a=!0,o.metadata=u.metadata);let c=[],h=[],d=[],g=[];if(u.cells!==void 0){let O=u.cells;if(O.structure!==void 0){let w=O.structure.array;if(o.cells.splice(w.start,w.deleteCount,...w.cells!==void 0?w.cells:[]),O.structure.didOpen!==void 0)for(let v of O.structure.didOpen)r.openTextDocument({textDocument:v}),c.push(v.uri);if(O.structure.didClose)for(let v of O.structure.didClose)r.closeTextDocument({textDocument:v}),h.push(v.uri)}if(O.data!==void 0){let w=new Map(O.data.map(v=>[v.document,v]));for(let v=0;v<=o.cells.length;v++){let M=w.get(o.cells[v].document);if(M!==void 0){let I=o.cells.splice(v,1,M);if(d.push({old:I[0],new:M}),w.delete(M.document),w.size===0)break}}}if(O.textContent!==void 0)for(let w of O.textContent)r.changeTextDocument({textDocument:w.document,contentChanges:w.changes}),g.push(w.document.uri)}this.updateCellMap(o);let _={notebookDocument:o};a&&(_.metadata={old:s,new:o.metadata});let y=[];for(let O of c)y.push(this.getNotebookCell(O));let E=[];for(let O of h)E.push(this.getNotebookCell(O));let C=[];for(let O of g)C.push(this.getNotebookCell(O));(y.length>0||E.length>0||d.length>0||C.length>0)&&(_.cells={added:y,removed:E,changed:{data:d,textContent:C}}),(_.metadata!==void 0||_.cells!==void 0)&&this._onDidChange.fire(_)})),n.push(e.notebooks.synchronization.onDidSaveNotebookDocument(i=>{let o=this.notebookDocuments.get(i.notebookDocument.uri);o!==void 0&&this._onDidSave.fire(o)})),n.push(e.notebooks.synchronization.onDidCloseNotebookDocument(i=>{let o=this.notebookDocuments.get(i.notebookDocument.uri);if(o!==void 0){this._onDidClose.fire(o);for(let s of i.cellTextDocuments)r.closeTextDocument({textDocument:s});this.notebookDocuments.delete(i.notebookDocument.uri);for(let s of o.cells)this.notebookCellMap.delete(s.document)}})),nr.Disposable.create(()=>{n.forEach(i=>i.dispose())})}updateCellMap(e){for(let r of e.cells)this.notebookCellMap.set(r.document,[r,e])}};po.NotebookDocuments=gh});var g0=p(Ku=>{"use strict";Object.defineProperty(Ku,"__esModule",{value:!0});Ku.MonikerFeature=void 0;var bC=Oe(),_C=t=>class extends t{get moniker(){return{on:e=>{let r=bC.MonikerRequest.type;return this.connection.onRequest(r,(n,i)=>e(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}};Ku.MonikerFeature=_C});var wh=p(Se=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});Se.createConnection=Se.combineFeatures=Se.combineNotebooksFeatures=Se.combineLanguagesFeatures=Se.combineWorkspaceFeatures=Se.combineWindowFeatures=Se.combineClientFeatures=Se.combineTracerFeatures=Se.combineTelemetryFeatures=Se.combineConsoleFeatures=Se._NotebooksImpl=Se._LanguagesImpl=Se.BulkUnregistration=Se.BulkRegistration=Se.ErrorMessageTracker=void 0;var B=Oe(),ir=za(),yh=ih(),oe=Z_(),wC=e0(),RC=t0(),SC=r0(),EC=ch(),DC=n0(),PC=i0(),OC=o0(),TC=s0(),qC=u0(),MC=l0(),CC=f0(),AC=d0(),jC=ph(),NC=g0();function mh(t){if(t!==null)return t}var vh=class{constructor(){this._messages=Object.create(null)}add(e){let r=this._messages[e];r||(r=0),r++,this._messages[e]=r}sendErrors(e){Object.keys(this._messages).forEach(r=>{e.window.showErrorMessage(r)})}};Se.ErrorMessageTracker=vh;var Xu=class{constructor(){}rawAttach(e){this._rawConnection=e}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(e){}initialize(e){}error(e){this.send(B.MessageType.Error,e)}warn(e){this.send(B.MessageType.Warning,e)}info(e){this.send(B.MessageType.Info,e)}log(e){this.send(B.MessageType.Log,e)}debug(e){this.send(B.MessageType.Debug,e)}send(e,r){this._rawConnection&&this._rawConnection.sendNotification(B.LogMessageNotification.type,{type:e,message:r}).catch(()=>{(0,B.RAL)().console.error("Sending log message failed")})}},bh=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}showErrorMessage(e,...r){let n={type:B.MessageType.Error,message:e,actions:r};return this.connection.sendRequest(B.ShowMessageRequest.type,n).then(mh)}showWarningMessage(e,...r){let n={type:B.MessageType.Warning,message:e,actions:r};return this.connection.sendRequest(B.ShowMessageRequest.type,n).then(mh)}showInformationMessage(e,...r){let n={type:B.MessageType.Info,message:e,actions:r};return this.connection.sendRequest(B.ShowMessageRequest.type,n).then(mh)}},p0=(0,DC.ShowDocumentFeature)((0,oe.ProgressFeature)(bh)),m0;(function(t){function e(){return new Ju}t.create=e})(m0||(Se.BulkRegistration=m0={}));var Ju=class{constructor(){this._registrations=[],this._registered=new Set}add(e,r){let n=ir.string(e)?e:e.method;if(this._registered.has(n))throw new Error(`${n} is already added to this registration`);let i=yh.generateUuid();this._registrations.push({id:i,method:n,registerOptions:r||{}}),this._registered.add(n)}asRegistrationParams(){return{registrations:this._registrations}}},y0;(function(t){function e(){return new Rs(void 0,[])}t.create=e})(y0||(Se.BulkUnregistration=y0={}));var Rs=class{constructor(e,r){this._connection=e,this._unregistrations=new Map,r.forEach(n=>{this._unregistrations.set(n.method,n)})}get isAttached(){return!!this._connection}attach(e){this._connection=e}add(e){this._unregistrations.set(e.method,e)}dispose(){let e=[];for(let n of this._unregistrations.values())e.push(n);let r={unregisterations:e};this._connection.sendRequest(B.UnregistrationRequest.type,r).catch(()=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(e){let r=ir.string(e)?e:e.method,n=this._unregistrations.get(r);if(!n)return!1;let i={unregisterations:[n]};return this._connection.sendRequest(B.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(r)},o=>{this._connection.console.info(`Un-registering request handler for ${n.id} failed.`)}),!0}},Qu=class{attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}register(e,r,n){return e instanceof Ju?this.registerMany(e):e instanceof Rs?this.registerSingle1(e,r,n):this.registerSingle2(e,r)}registerSingle1(e,r,n){let i=ir.string(r)?r:r.method,o=yh.generateUuid(),s={registrations:[{id:o,method:i,registerOptions:n||{}}]};return e.isAttached||e.attach(this.connection),this.connection.sendRequest(B.RegistrationRequest.type,s).then(a=>(e.add({id:o,method:i}),e),a=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(a)))}registerSingle2(e,r){let n=ir.string(e)?e:e.method,i=yh.generateUuid(),o={registrations:[{id:i,method:n,registerOptions:r||{}}]};return this.connection.sendRequest(B.RegistrationRequest.type,o).then(s=>B.Disposable.create(()=>{this.unregisterSingle(i,n).catch(()=>{this.connection.console.info(`Un-registering capability with id ${i} failed.`)})}),s=>(this.connection.console.info(`Registering request handler for ${n} failed.`),Promise.reject(s)))}unregisterSingle(e,r){let n={unregisterations:[{id:e,method:r}]};return this.connection.sendRequest(B.UnregistrationRequest.type,n).catch(()=>{this.connection.console.info(`Un-registering request handler for ${e} failed.`)})}registerMany(e){let r=e.asRegistrationParams();return this.connection.sendRequest(B.RegistrationRequest.type,r).then(()=>new Rs(this._connection,r.registrations.map(n=>({id:n.id,method:n.method}))),n=>(this.connection.console.info("Bulk registration failed."),Promise.reject(n)))}},_h=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}applyEdit(e){function r(i){return i&&!!i.edit}let n=r(e)?e:{edit:e};return this.connection.sendRequest(B.ApplyWorkspaceEditRequest.type,n)}},v0=(0,PC.FileOperationsFeature)((0,RC.WorkspaceFoldersFeature)((0,wC.ConfigurationFeature)(_h))),Zu=class{constructor(){this._trace=B.Trace.Off}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}set trace(e){this._trace=e}log(e,r){this._trace!==B.Trace.Off&&this.connection.sendNotification(B.LogTraceNotification.type,{message:e,verbose:this._trace===B.Trace.Verbose?r:void 0}).catch(()=>{})}},ec=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}logEvent(e){this.connection.sendNotification(B.TelemetryEventNotification.type,e).catch(()=>{this.connection.console.log("Sending TelemetryEventNotification failed")})}},tc=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}attachWorkDoneProgress(e){return(0,oe.attachWorkDone)(this.connection,e)}attachPartialResultProgress(e,r){return(0,oe.attachPartialResult)(this.connection,r)}};Se._LanguagesImpl=tc;var b0=(0,MC.FoldingRangeFeature)((0,NC.MonikerFeature)((0,AC.DiagnosticFeature)((0,CC.InlayHintFeature)((0,qC.InlineValueFeature)((0,TC.TypeHierarchyFeature)((0,OC.LinkedEditingRangeFeature)((0,EC.SemanticTokensFeature)((0,SC.CallHierarchyFeature)(tc))))))))),rc=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}attachWorkDoneProgress(e){return(0,oe.attachWorkDone)(this.connection,e)}attachPartialResultProgress(e,r){return(0,oe.attachPartialResult)(this.connection,r)}};Se._NotebooksImpl=rc;var _0=(0,jC.NotebookSyncFeature)(rc);function w0(t,e){return function(r){return e(t(r))}}Se.combineConsoleFeatures=w0;function R0(t,e){return function(r){return e(t(r))}}Se.combineTelemetryFeatures=R0;function S0(t,e){return function(r){return e(t(r))}}Se.combineTracerFeatures=S0;function E0(t,e){return function(r){return e(t(r))}}Se.combineClientFeatures=E0;function D0(t,e){return function(r){return e(t(r))}}Se.combineWindowFeatures=D0;function P0(t,e){return function(r){return e(t(r))}}Se.combineWorkspaceFeatures=P0;function O0(t,e){return function(r){return e(t(r))}}Se.combineLanguagesFeatures=O0;function T0(t,e){return function(r){return e(t(r))}}Se.combineNotebooksFeatures=T0;function LC(t,e){function r(i,o,s){return i&&o?s(i,o):i||o}return{__brand:"features",console:r(t.console,e.console,w0),tracer:r(t.tracer,e.tracer,S0),telemetry:r(t.telemetry,e.telemetry,R0),client:r(t.client,e.client,E0),window:r(t.window,e.window,D0),workspace:r(t.workspace,e.workspace,P0),languages:r(t.languages,e.languages,O0),notebooks:r(t.notebooks,e.notebooks,T0)}}Se.combineFeatures=LC;function xC(t,e,r){let n=r&&r.console?new(r.console(Xu)):new Xu,i=t(n);n.rawAttach(i);let o=r&&r.tracer?new(r.tracer(Zu)):new Zu,s=r&&r.telemetry?new(r.telemetry(ec)):new ec,a=r&&r.client?new(r.client(Qu)):new Qu,u=r&&r.window?new(r.window(p0)):new p0,c=r&&r.workspace?new(r.workspace(v0)):new v0,h=r&&r.languages?new(r.languages(b0)):new b0,d=r&&r.notebooks?new(r.notebooks(_0)):new _0,g=[n,o,s,a,u,c,h,d];function _(w){return w instanceof Promise?w:ir.thenable(w)?new Promise((v,M)=>{w.then(I=>v(I),I=>M(I))}):Promise.resolve(w)}let y,E,C,O={listen:()=>i.listen(),sendRequest:(w,...v)=>i.sendRequest(ir.string(w)?w:w.method,...v),onRequest:(w,v)=>i.onRequest(w,v),sendNotification:(w,v)=>{let M=ir.string(w)?w:w.method;return i.sendNotification(M,v)},onNotification:(w,v)=>i.onNotification(w,v),onProgress:i.onProgress,sendProgress:i.sendProgress,onInitialize:w=>(E=w,{dispose:()=>{E=void 0}}),onInitialized:w=>i.onNotification(B.InitializedNotification.type,w),onShutdown:w=>(y=w,{dispose:()=>{y=void 0}}),onExit:w=>(C=w,{dispose:()=>{C=void 0}}),get console(){return n},get telemetry(){return s},get tracer(){return o},get client(){return a},get window(){return u},get workspace(){return c},get languages(){return h},get notebooks(){return d},onDidChangeConfiguration:w=>i.onNotification(B.DidChangeConfigurationNotification.type,w),onDidChangeWatchedFiles:w=>i.onNotification(B.DidChangeWatchedFilesNotification.type,w),__textDocumentSync:void 0,onDidOpenTextDocument:w=>i.onNotification(B.DidOpenTextDocumentNotification.type,w),onDidChangeTextDocument:w=>i.onNotification(B.DidChangeTextDocumentNotification.type,w),onDidCloseTextDocument:w=>i.onNotification(B.DidCloseTextDocumentNotification.type,w),onWillSaveTextDocument:w=>i.onNotification(B.WillSaveTextDocumentNotification.type,w),onWillSaveTextDocumentWaitUntil:w=>i.onRequest(B.WillSaveTextDocumentWaitUntilRequest.type,w),onDidSaveTextDocument:w=>i.onNotification(B.DidSaveTextDocumentNotification.type,w),sendDiagnostics:w=>i.sendNotification(B.PublishDiagnosticsNotification.type,w),onHover:w=>i.onRequest(B.HoverRequest.type,(v,M)=>w(v,M,(0,oe.attachWorkDone)(i,v),void 0)),onCompletion:w=>i.onRequest(B.CompletionRequest.type,(v,M)=>w(v,M,(0,oe.attachWorkDone)(i,v),(0,oe.attachPartialResult)(i,v))),onCompletionResolve:w=>i.onRequest(B.CompletionResolveRequest.type,w),onSignatureHelp:w=>i.onRequest(B.SignatureHelpRequest.type,(v,M)=>w(v,M,(0,oe.attachWorkDone)(i,v),void 0)),onDeclaration:w=>i.onRequest(B.DeclarationRequest.type,(v,M)=>w(v,M,(0,oe.attachWorkDone)(i,v),(0,oe.attachPartialResult)(i,v))),onDefinition:w=>i.onRequest(B.DefinitionRequest.type,(v,M)=>w(v,M,(0,oe.attachWorkDone)(i,v),(0,oe.attachPartialResult)(i,v))),onTypeDefinition:w=>i.onRequest(B.TypeDefinitionRequest.type,(v,M)=>w(v,M,(0,oe.attachWorkDone)(i,v),(0,oe.attachPartialResult)(i,v))),onImplementation:w=>i.onRequest(B.ImplementationRequest.type,(v,M)=>w(v,M,(0,oe.attachWorkDone)(i,v),(0,oe.attachPartialResult)(i,v))),onReferences:w=>i.onRequest(B.ReferencesRequest.type,(v,M)=>w(v,M,(0,oe.attachWorkDone)(i,v),(0,oe.attachPartialResult)(i,v))),onDocumentHighlight:w=>i.onRequest(B.DocumentHighlightRequest.type,(v,M)=>w(v,M,(0,oe.attachWorkDone)(i,v),(0,oe.attachPartialResult)(i,v))),onDocumentSymbol:w=>i.onRequest(B.DocumentSymbolRequest.type,(v,M)=>w(v,M,(0,oe.attachWorkDone)(i,v),(0,oe.attachPartialResult)(i,v))),onWorkspaceSymbol:w=>i.onRequest(B.WorkspaceSymbolRequest.type,(v,M)=>w(v,M,(0,oe.attachWorkDone)(i,v),(0,oe.attachPartialResult)(i,v))),onWorkspaceSymbolResolve:w=>i.onRequest(B.WorkspaceSymbolResolveRequest.type,w),onCodeAction:w=>i.onRequest(B.CodeActionRequest.type,(v,M)=>w(v,M,(0,oe.attachWorkDone)(i,v),(0,oe.attachPartialResult)(i,v))),onCodeActionResolve:w=>i.onRequest(B.CodeActionResolveRequest.type,(v,M)=>w(v,M)),onCodeLens:w=>i.onRequest(B.CodeLensRequest.type,(v,M)=>w(v,M,(0,oe.attachWorkDone)(i,v),(0,oe.attachPartialResult)(i,v))),onCodeLensResolve:w=>i.onRequest(B.CodeLensResolveRequest.type,(v,M)=>w(v,M)),onDocumentFormatting:w=>i.onRequest(B.DocumentFormattingRequest.type,(v,M)=>w(v,M,(0,oe.attachWorkDone)(i,v),void 0)),onDocumentRangeFormatting:w=>i.onRequest(B.DocumentRangeFormattingRequest.type,(v,M)=>w(v,M,(0,oe.attachWorkDone)(i,v),void 0)),onDocumentOnTypeFormatting:w=>i.onRequest(B.DocumentOnTypeFormattingRequest.type,(v,M)=>w(v,M)),onRenameRequest:w=>i.onRequest(B.RenameRequest.type,(v,M)=>w(v,M,(0,oe.attachWorkDone)(i,v),void 0)),onPrepareRename:w=>i.onRequest(B.PrepareRenameRequest.type,(v,M)=>w(v,M)),onDocumentLinks:w=>i.onRequest(B.DocumentLinkRequest.type,(v,M)=>w(v,M,(0,oe.attachWorkDone)(i,v),(0,oe.attachPartialResult)(i,v))),onDocumentLinkResolve:w=>i.onRequest(B.DocumentLinkResolveRequest.type,(v,M)=>w(v,M)),onDocumentColor:w=>i.onRequest(B.DocumentColorRequest.type,(v,M)=>w(v,M,(0,oe.attachWorkDone)(i,v),(0,oe.attachPartialResult)(i,v))),onColorPresentation:w=>i.onRequest(B.ColorPresentationRequest.type,(v,M)=>w(v,M,(0,oe.attachWorkDone)(i,v),(0,oe.attachPartialResult)(i,v))),onFoldingRanges:w=>i.onRequest(B.FoldingRangeRequest.type,(v,M)=>w(v,M,(0,oe.attachWorkDone)(i,v),(0,oe.attachPartialResult)(i,v))),onSelectionRanges:w=>i.onRequest(B.SelectionRangeRequest.type,(v,M)=>w(v,M,(0,oe.attachWorkDone)(i,v),(0,oe.attachPartialResult)(i,v))),onExecuteCommand:w=>i.onRequest(B.ExecuteCommandRequest.type,(v,M)=>w(v,M,(0,oe.attachWorkDone)(i,v),void 0)),dispose:()=>i.dispose()};for(let w of g)w.attach(O);return i.onRequest(B.InitializeRequest.type,w=>{e.initialize(w),ir.string(w.trace)&&(o.trace=B.Trace.fromString(w.trace));for(let v of g)v.initialize(w.capabilities);if(E){let v=E(w,new B.CancellationTokenSource().token,(0,oe.attachWorkDone)(i,w),void 0);return _(v).then(M=>{if(M instanceof B.ResponseError)return M;let I=M;I||(I={capabilities:{}});let W=I.capabilities;W||(W={},I.capabilities=W),W.textDocumentSync===void 0||W.textDocumentSync===null?W.textDocumentSync=ir.number(O.__textDocumentSync)?O.__textDocumentSync:B.TextDocumentSyncKind.None:!ir.number(W.textDocumentSync)&&!ir.number(W.textDocumentSync.change)&&(W.textDocumentSync.change=ir.number(O.__textDocumentSync)?O.__textDocumentSync:B.TextDocumentSyncKind.None);for(let V of g)V.fillServerCapabilities(W);return I})}else{let v={capabilities:{textDocumentSync:B.TextDocumentSyncKind.None}};for(let M of g)M.fillServerCapabilities(v.capabilities);return v}}),i.onRequest(B.ShutdownRequest.type,()=>{if(e.shutdownReceived=!0,y)return y(new B.CancellationTokenSource().token)}),i.onNotification(B.ExitNotification.type,()=>{try{C&&C()}finally{e.shutdownReceived?e.exit(0):e.exit(1)}}),i.onNotification(B.SetTraceNotification.type,w=>{o.trace=B.Trace.fromString(w.value)}),O}Se.createConnection=xC});var q0=p(It=>{"use strict";Object.defineProperty(It,"__esModule",{value:!0});It.resolveModulePath=It.FileSystem=It.resolveGlobalYarnPath=It.resolveGlobalNodePath=It.resolve=It.uriToFilePath=void 0;var IC=require("url"),wr=require("path"),Rh=require("fs"),Ph=require("child_process");function kC(t){let e=IC.parse(t);if(e.protocol!=="file:"||!e.path)return;let r=e.path.split("/");for(var n=0,i=r.length;n<i;n++)r[n]=decodeURIComponent(r[n]);if(process.platform==="win32"&&r.length>1){let o=r[0],s=r[1];o.length===0&&s.length>1&&s[1]===":"&&r.shift()}return wr.normalize(r.join("/"))}It.uriToFilePath=kC;function Sh(){return process.platform==="win32"}function nc(t,e,r,n){let i="NODE_PATH",o=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((s,a)=>{let u=process.env,c=Object.create(null);Object.keys(u).forEach(h=>c[h]=u[h]),e&&Rh.existsSync(e)&&(c[i]?c[i]=e+wr.delimiter+c[i]:c[i]=e,n&&n(`NODE_PATH value is: ${c[i]}`)),c.ELECTRON_RUN_AS_NODE="1";try{let h=(0,Ph.fork)("",[],{cwd:r,env:c,execArgv:["-e",o]});if(h.pid===void 0){a(new Error(`Starting process to resolve node module  ${t} failed`));return}h.on("error",g=>{a(g)}),h.on("message",g=>{g.c==="r"&&(h.send({c:"e"}),g.s?s(g.r):a(new Error(`Failed to resolve module: ${t}`)))});let d={c:"rs",a:t};h.send(d)}catch(h){a(h)}})}It.resolve=nc;function Eh(t){let e="npm",r=Object.create(null);Object.keys(process.env).forEach(o=>r[o]=process.env[o]),r.NO_UPDATE_NOTIFIER="true";let n={encoding:"utf8",env:r};Sh()&&(e="npm.cmd",n.shell=!0);let i=()=>{};try{process.on("SIGPIPE",i);let o=(0,Ph.spawnSync)(e,["config","get","prefix"],n).stdout;if(!o){t&&t("'npm config get prefix' didn't return a value.");return}let s=o.trim();return t&&t(`'npm config get prefix' value is: ${s}`),s.length>0?Sh()?wr.join(s,"node_modules"):wr.join(s,"lib","node_modules"):void 0}catch{return}finally{process.removeListener("SIGPIPE",i)}}It.resolveGlobalNodePath=Eh;function FC(t){let e="yarn",r={encoding:"utf8"};Sh()&&(e="yarn.cmd",r.shell=!0);let n=()=>{};try{process.on("SIGPIPE",n);let i=(0,Ph.spawnSync)(e,["global","dir","--json"],r),o=i.stdout;if(!o){t&&(t("'yarn global dir' didn't return a value."),i.stderr&&t(i.stderr));return}let s=o.trim().split(/\r?\n/);for(let a of s)try{let u=JSON.parse(a);if(u.type==="log")return wr.join(u.data,"node_modules")}catch{}return}catch{return}finally{process.removeListener("SIGPIPE",n)}}It.resolveGlobalYarnPath=FC;var Dh;(function(t){let e;function r(){return e!==void 0||(process.platform==="win32"?e=!1:e=!Rh.existsSync(__filename.toUpperCase())||!Rh.existsSync(__filename.toLowerCase())),e}t.isCaseSensitive=r;function n(i,o){return r()?wr.normalize(o).indexOf(wr.normalize(i))===0:wr.normalize(o).toLowerCase().indexOf(wr.normalize(i).toLowerCase())===0}t.isParent=n})(Dh||(It.FileSystem=Dh={}));function $C(t,e,r,n){return r?(wr.isAbsolute(r)||(r=wr.join(t,r)),nc(e,r,r,n).then(i=>Dh.isParent(r,i)?i:Promise.reject(new Error(`Failed to load ${e} from node path location.`))).then(void 0,i=>nc(e,Eh(n),t,n))):nc(e,Eh(n),t,n)}It.resolveModulePath=$C});var Oh=p((YH,M0)=>{"use strict";M0.exports=Oe()});var C0=p(ic=>{"use strict";Object.defineProperty(ic,"__esModule",{value:!0});ic.InlineCompletionFeature=void 0;var WC=Oe(),HC=t=>class extends t{get inlineCompletion(){return{on:e=>this.connection.onRequest(WC.InlineCompletionRequest.type,(r,n)=>e(r,n,this.attachWorkDoneProgress(r)))}}};ic.InlineCompletionFeature=HC});var N0=p(yt=>{"use strict";var UC=yt&&yt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),j0=yt&&yt.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&UC(e,t,r)};Object.defineProperty(yt,"__esModule",{value:!0});yt.ProposedFeatures=yt.NotebookDocuments=yt.TextDocuments=yt.SemanticTokensBuilder=void 0;var BC=ch();Object.defineProperty(yt,"SemanticTokensBuilder",{enumerable:!0,get:function(){return BC.SemanticTokensBuilder}});var zC=C0();j0(Oe(),yt);var VC=hh();Object.defineProperty(yt,"TextDocuments",{enumerable:!0,get:function(){return VC.TextDocuments}});var GC=ph();Object.defineProperty(yt,"NotebookDocuments",{enumerable:!0,get:function(){return GC.NotebookDocuments}});j0(wh(),yt);var A0;(function(t){t.all={__brand:"features",languages:zC.InlineCompletionFeature}})(A0||(yt.ProposedFeatures=A0={}))});var $0=p(or=>{"use strict";var YC=or&&or.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),k0=or&&or.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&YC(e,t,r)};Object.defineProperty(or,"__esModule",{value:!0});or.createConnection=or.Files=void 0;var L0=require("node:util"),Th=za(),KC=wh(),Ss=q0(),_i=Oh();k0(Oh(),or);k0(N0(),or);var x0;(function(t){t.uriToFilePath=Ss.uriToFilePath,t.resolveGlobalNodePath=Ss.resolveGlobalNodePath,t.resolveGlobalYarnPath=Ss.resolveGlobalYarnPath,t.resolve=Ss.resolve,t.resolveModulePath=Ss.resolveModulePath})(x0||(or.Files=x0={}));var I0;function oc(){if(I0!==void 0)try{I0.end()}catch{}}var mo=!1,F0;function XC(){let t="--clientProcessId";function e(r){try{let n=parseInt(r);isNaN(n)||(F0=setInterval(()=>{try{process.kill(n,0)}catch{oc(),process.exit(mo?0:1)}},3e3))}catch{}}for(let r=2;r<process.argv.length;r++){let n=process.argv[r];if(n===t&&r+1<process.argv.length){e(process.argv[r+1]);return}else{let i=n.split("=");i[0]===t&&e(i[1])}}}XC();var JC={initialize:t=>{let e=t.processId;Th.number(e)&&F0===void 0&&setInterval(()=>{try{process.kill(e,0)}catch{process.exit(mo?0:1)}},3e3)},get shutdownReceived(){return mo},set shutdownReceived(t){mo=t},exit:t=>{oc(),process.exit(t)}};function QC(t,e,r,n){let i,o,s,a;return t!==void 0&&t.__brand==="features"&&(i=t,t=e,e=r,r=n),_i.ConnectionStrategy.is(t)||_i.ConnectionOptions.is(t)?a=t:(o=t,s=e,a=r),ZC(o,s,a,i)}or.createConnection=QC;function ZC(t,e,r,n){let i=!1;if(!t&&!e&&process.argv.length>2){let u,c,h=process.argv.slice(2);for(let d=0;d<h.length;d++){let g=h[d];if(g==="--node-ipc"){t=new _i.IPCMessageReader(process),e=new _i.IPCMessageWriter(process);break}else if(g==="--stdio"){i=!0,t=process.stdin,e=process.stdout;break}else if(g==="--socket"){u=parseInt(h[d+1]);break}else if(g==="--pipe"){c=h[d+1];break}else{var o=g.split("=");if(o[0]==="--socket"){u=parseInt(o[1]);break}else if(o[0]==="--pipe"){c=o[1];break}}}if(u){let d=(0,_i.createServerSocketTransport)(u);t=d[0],e=d[1]}else if(c){let d=(0,_i.createServerPipeTransport)(c);t=d[0],e=d[1]}}var s="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!t)throw new Error("Connection input stream is not set. "+s);if(!e)throw new Error("Connection output stream is not set. "+s);if(Th.func(t.read)&&Th.func(t.on)){let u=t;u.on("end",()=>{oc(),process.exit(mo?0:1)}),u.on("close",()=>{oc(),process.exit(mo?0:1)})}let a=u=>{let c=(0,_i.createProtocolConnection)(t,e,u,r);return i&&eA(u),c};return(0,KC.createConnection)(a,JC,n)}function eA(t){function e(n){return n.map(i=>typeof i=="string"?i:(0,L0.inspect)(i)).join(" ")}let r=new Map;console.assert=function(i,...o){if(!i)if(o.length===0)t.error("Assertion failed");else{let[s,...a]=o;t.error(`Assertion failed: ${s} ${e(a)}`)}},console.count=function(i="default"){let o=String(i),s=r.get(o)??0;s+=1,r.set(o,s),t.log(`${o}: ${o}`)},console.countReset=function(i){i===void 0?r.clear():r.delete(String(i))},console.debug=function(...i){t.log(e(i))},console.dir=function(i,o){t.log((0,L0.inspect)(i,o))},console.log=function(...i){t.log(e(i))},console.error=function(...i){t.error(e(i))},console.trace=function(...i){let o=new Error().stack.replace(/(.+\n){2}/,""),s="Trace";i.length!==0&&(s+=`: ${e(i)}`),t.log(`${s}
${o}`)},console.warn=function(...i){t.warn(e(i))}}});var sc=p((ZH,W0)=>{"use strict";W0.exports=$0()});var kt=p((eU,H0)=>{"use strict";var qh=class t extends Error{constructor(e){super(`Format functions must be synchronous taking a two arguments: (info, opts)
Found: ${e.toString().split(`
`)[0]}
`),Error.captureStackTrace(this,t)}};H0.exports=t=>{if(t.length>2)throw new qh(t);function e(n={}){this.options=n}e.prototype.transform=t;function r(n){return new e(n)}return r.Format=e,r}});var V0=p((tU,z0)=>{var B0={};z0.exports=B0;var U0={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],brightRed:[91,39],brightGreen:[92,39],brightYellow:[93,39],brightBlue:[94,39],brightMagenta:[95,39],brightCyan:[96,39],brightWhite:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgGray:[100,49],bgGrey:[100,49],bgBrightRed:[101,49],bgBrightGreen:[102,49],bgBrightYellow:[103,49],bgBrightBlue:[104,49],bgBrightMagenta:[105,49],bgBrightCyan:[106,49],bgBrightWhite:[107,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(U0).forEach(function(t){var e=U0[t],r=B0[t]=[];r.open="\x1B["+e[0]+"m",r.close="\x1B["+e[1]+"m"})});var Y0=p((rU,G0)=>{"use strict";G0.exports=function(t,e){e=e||process.argv||[];var r=e.indexOf("--"),n=/^-{1,2}/.test(t)?"":"--",i=e.indexOf(n+t);return i!==-1&&(r===-1?!0:i<r)}});var X0=p((nU,K0)=>{"use strict";var tA=require("os"),Rr=Y0(),wt=process.env,yo=void 0;Rr("no-color")||Rr("no-colors")||Rr("color=false")?yo=!1:(Rr("color")||Rr("colors")||Rr("color=true")||Rr("color=always"))&&(yo=!0);"FORCE_COLOR"in wt&&(yo=wt.FORCE_COLOR.length===0||parseInt(wt.FORCE_COLOR,10)!==0);function rA(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function nA(t){if(yo===!1)return 0;if(Rr("color=16m")||Rr("color=full")||Rr("color=truecolor"))return 3;if(Rr("color=256"))return 2;if(t&&!t.isTTY&&yo!==!0)return 0;var e=yo?1:0;if(process.platform==="win32"){var r=tA.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(r[0])>=10&&Number(r[2])>=10586?Number(r[2])>=14931?3:2:1}if("CI"in wt)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(function(i){return i in wt})||wt.CI_NAME==="codeship"?1:e;if("TEAMCITY_VERSION"in wt)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(wt.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in wt){var n=parseInt((wt.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(wt.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(wt.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(wt.TERM)||"COLORTERM"in wt?1:(wt.TERM==="dumb",e)}function Mh(t){var e=nA(t);return rA(e)}K0.exports={supportsColor:Mh,stdout:Mh(process.stdout),stderr:Mh(process.stderr)}});var Q0=p((iU,J0)=>{J0.exports=function(e,r){var n="";e=e||"Run the trap, drop the bass",e=e.split("");var i={a:["@","\u0104","\u023A","\u0245","\u0394","\u039B","\u0414"],b:["\xDF","\u0181","\u0243","\u026E","\u03B2","\u0E3F"],c:["\xA9","\u023B","\u03FE"],d:["\xD0","\u018A","\u0500","\u0501","\u0502","\u0503"],e:["\xCB","\u0115","\u018E","\u0258","\u03A3","\u03BE","\u04BC","\u0A6C"],f:["\u04FA"],g:["\u0262"],h:["\u0126","\u0195","\u04A2","\u04BA","\u04C7","\u050A"],i:["\u0F0F"],j:["\u0134"],k:["\u0138","\u04A0","\u04C3","\u051E"],l:["\u0139"],m:["\u028D","\u04CD","\u04CE","\u0520","\u0521","\u0D69"],n:["\xD1","\u014B","\u019D","\u0376","\u03A0","\u048A"],o:["\xD8","\xF5","\xF8","\u01FE","\u0298","\u047A","\u05DD","\u06DD","\u0E4F"],p:["\u01F7","\u048E"],q:["\u09CD"],r:["\xAE","\u01A6","\u0210","\u024C","\u0280","\u042F"],s:["\xA7","\u03DE","\u03DF","\u03E8"],t:["\u0141","\u0166","\u0373"],u:["\u01B1","\u054D"],v:["\u05D8"],w:["\u0428","\u0460","\u047C","\u0D70"],x:["\u04B2","\u04FE","\u04FC","\u04FD"],y:["\xA5","\u04B0","\u04CB"],z:["\u01B5","\u0240"]};return e.forEach(function(o){o=o.toLowerCase();var s=i[o]||[" "],a=Math.floor(Math.random()*s.length);typeof i[o]<"u"?n+=i[o][a]:n+=o}),n}});var ew=p((oU,Z0)=>{Z0.exports=function(e,r){e=e||"   he is here   ";var n={up:["\u030D","\u030E","\u0304","\u0305","\u033F","\u0311","\u0306","\u0310","\u0352","\u0357","\u0351","\u0307","\u0308","\u030A","\u0342","\u0313","\u0308","\u034A","\u034B","\u034C","\u0303","\u0302","\u030C","\u0350","\u0300","\u0301","\u030B","\u030F","\u0312","\u0313","\u0314","\u033D","\u0309","\u0363","\u0364","\u0365","\u0366","\u0367","\u0368","\u0369","\u036A","\u036B","\u036C","\u036D","\u036E","\u036F","\u033E","\u035B","\u0346","\u031A"],down:["\u0316","\u0317","\u0318","\u0319","\u031C","\u031D","\u031E","\u031F","\u0320","\u0324","\u0325","\u0326","\u0329","\u032A","\u032B","\u032C","\u032D","\u032E","\u032F","\u0330","\u0331","\u0332","\u0333","\u0339","\u033A","\u033B","\u033C","\u0345","\u0347","\u0348","\u0349","\u034D","\u034E","\u0353","\u0354","\u0355","\u0356","\u0359","\u035A","\u0323"],mid:["\u0315","\u031B","\u0300","\u0301","\u0358","\u0321","\u0322","\u0327","\u0328","\u0334","\u0335","\u0336","\u035C","\u035D","\u035E","\u035F","\u0360","\u0362","\u0338","\u0337","\u0361"," \u0489"]},i=[].concat(n.up,n.down,n.mid);function o(u){var c=Math.floor(Math.random()*u);return c}function s(u){var c=!1;return i.filter(function(h){c=h===u}),c}function a(u,c){var h="",d,g;c=c||{},c.up=typeof c.up<"u"?c.up:!0,c.mid=typeof c.mid<"u"?c.mid:!0,c.down=typeof c.down<"u"?c.down:!0,c.size=typeof c.size<"u"?c.size:"maxi",u=u.split("");for(g in u)if(!s(g)){switch(h=h+u[g],d={up:0,down:0,mid:0},c.size){case"mini":d.up=o(8),d.mid=o(2),d.down=o(8);break;case"maxi":d.up=o(16)+3,d.mid=o(4)+1,d.down=o(64)+3;break;default:d.up=o(8)+1,d.mid=o(6)/2,d.down=o(8)+1;break}var _=["up","mid","down"];for(var y in _)for(var E=_[y],C=0;C<=d[E];C++)c[E]&&(h=h+n[E][o(n[E].length)])}return h}return a(e,r)}});var rw=p((sU,tw)=>{tw.exports=function(t){return function(e,r,n){if(e===" ")return e;switch(r%3){case 0:return t.red(e);case 1:return t.white(e);case 2:return t.blue(e)}}}});var iw=p((aU,nw)=>{nw.exports=function(t){return function(e,r,n){return r%2===0?e:t.inverse(e)}}});var sw=p((uU,ow)=>{ow.exports=function(t){var e=["red","yellow","green","blue","magenta"];return function(r,n,i){return r===" "?r:t[e[n++%e.length]](r)}}});var uw=p((cU,aw)=>{aw.exports=function(t){var e=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta","brightYellow","brightRed","brightGreen","brightBlue","brightWhite","brightCyan","brightMagenta"];return function(r,n,i){return r===" "?r:t[e[Math.round(Math.random()*(e.length-2))]](r)}}});var gw=p((fU,hw)=>{var ye={};hw.exports=ye;ye.themes={};var iA=require("util"),wi=ye.styles=V0(),lw=Object.defineProperties,oA=new RegExp(/[\r\n]+/g);ye.supportsColor=X0().supportsColor;typeof ye.enabled>"u"&&(ye.enabled=ye.supportsColor()!==!1);ye.enable=function(){ye.enabled=!0};ye.disable=function(){ye.enabled=!1};ye.stripColors=ye.strip=function(t){return(""+t).replace(/\x1B\[\d+m/g,"")};var lU=ye.stylize=function(e,r){if(!ye.enabled)return e+"";var n=wi[r];return!n&&r in ye?ye[r](e):n.open+e+n.close},sA=/[|\\{}()[\]^$+*?.]/g,aA=function(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(sA,"\\$&")};function fw(t){var e=function r(){return cA.apply(r,arguments)};return e._styles=t,e.__proto__=uA,e}var dw=function(){var t={};return wi.grey=wi.gray,Object.keys(wi).forEach(function(e){wi[e].closeRe=new RegExp(aA(wi[e].close),"g"),t[e]={get:function(){return fw(this._styles.concat(e))}}}),t}(),uA=lw(function(){},dw);function cA(){var t=Array.prototype.slice.call(arguments),e=t.map(function(s){return s!=null&&s.constructor===String?s:iA.inspect(s)}).join(" ");if(!ye.enabled||!e)return e;for(var r=e.indexOf(`
`)!=-1,n=this._styles,i=n.length;i--;){var o=wi[n[i]];e=o.open+e.replace(o.closeRe,o.open)+o.close,r&&(e=e.replace(oA,function(s){return o.close+s+o.open}))}return e}ye.setTheme=function(t){if(typeof t=="string"){console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));");return}for(var e in t)(function(r){ye[r]=function(n){if(typeof t[r]=="object"){var i=n;for(var o in t[r])i=ye[t[r][o]](i);return i}return ye[t[r]](n)}})(e)};function lA(){var t={};return Object.keys(dw).forEach(function(e){t[e]={get:function(){return fw([e])}}}),t}var fA=function(e,r){var n=r.split("");return n=n.map(e),n.join("")};ye.trap=Q0();ye.zalgo=ew();ye.maps={};ye.maps.america=rw()(ye);ye.maps.zebra=iw()(ye);ye.maps.rainbow=sw()(ye);ye.maps.random=uw()(ye);for(cw in ye.maps)(function(t){ye[t]=function(e){return fA(ye.maps[t],e)}})(cw);var cw;lw(ye,lA())});var Ch=p((dU,pw)=>{var dA=gw();pw.exports=dA});var mw=p(Ah=>{"use strict";Ah.levels={error:0,warn:1,help:2,data:3,info:4,debug:5,prompt:6,verbose:7,input:8,silly:9};Ah.colors={error:"red",warn:"yellow",help:"cyan",data:"grey",info:"green",debug:"blue",prompt:"grey",verbose:"cyan",input:"grey",silly:"magenta"}});var yw=p(jh=>{"use strict";jh.levels={error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6};jh.colors={error:"red",warn:"yellow",info:"green",http:"green",verbose:"cyan",debug:"blue",silly:"magenta"}});var vw=p(Nh=>{"use strict";Nh.levels={emerg:0,alert:1,crit:2,error:3,warning:4,notice:5,info:6,debug:7};Nh.colors={emerg:"red",alert:"yellow",crit:"red",error:"red",warning:"red",notice:"yellow",info:"green",debug:"blue"}});var bw=p(ac=>{"use strict";Object.defineProperty(ac,"cli",{value:mw()});Object.defineProperty(ac,"npm",{value:yw()});Object.defineProperty(ac,"syslog",{value:vw()})});var ze=p(Es=>{"use strict";Object.defineProperty(Es,"LEVEL",{value:Symbol.for("level")});Object.defineProperty(Es,"MESSAGE",{value:Symbol.for("message")});Object.defineProperty(Es,"SPLAT",{value:Symbol.for("splat")});Object.defineProperty(Es,"configs",{value:bw()})});var lc=p((vU,cc)=>{"use strict";var Ih=Ch(),{LEVEL:Lh,MESSAGE:xh}=ze();Ih.enabled=!0;var _w=/\s+/,uc=class t{constructor(e={}){e.colors&&this.addColors(e.colors),this.options=e}static addColors(e){let r=Object.keys(e).reduce((n,i)=>(n[i]=_w.test(e[i])?e[i].split(_w):e[i],n),{});return t.allColors=Object.assign({},t.allColors||{},r),t.allColors}addColors(e){return t.addColors(e)}colorize(e,r,n){if(typeof n>"u"&&(n=r),!Array.isArray(t.allColors[e]))return Ih[t.allColors[e]](n);for(let i=0,o=t.allColors[e].length;i<o;i++)n=Ih[t.allColors[e][i]](n);return n}transform(e,r){return r.all&&typeof e[xh]=="string"&&(e[xh]=this.colorize(e[Lh],e.level,e[xh])),(r.level||r.all||!r.message)&&(e.level=this.colorize(e[Lh],e.level)),(r.all||r.message)&&(e.message=this.colorize(e[Lh],e.level,e.message)),e}};cc.exports=t=>new uc(t);cc.exports.Colorizer=cc.exports.Format=uc});var Rw=p((bU,ww)=>{"use strict";var{Colorizer:hA}=lc();ww.exports=t=>(hA.addColors(t.colors||t),t)});var Ew=p((_U,Sw)=>{"use strict";var gA=kt();Sw.exports=gA(t=>(t.message=`	${t.message}`,t))});var Ow=p((wU,Pw)=>{"use strict";var pA=kt(),{LEVEL:Dw,MESSAGE:kh}=ze();Pw.exports=pA((t,{stack:e,cause:r})=>{if(t instanceof Error){let i=Object.assign({},t,{level:t.level,[Dw]:t[Dw]||t.level,message:t.message,[kh]:t[kh]||t.message});return e&&(i.stack=t.stack),r&&(i.cause=t.cause),i}if(!(t.message instanceof Error))return t;let n=t.message;return Object.assign(t,n),t.message=n.message,t[kh]=n.message,e&&(t.stack=n.stack),r&&(t.cause=n.cause),t})});var $h=p((RU,dc)=>{"use strict";var{configs:mA,LEVEL:Tw,MESSAGE:Fh}=ze(),fc=class t{constructor(e={levels:mA.npm.levels}){this.paddings=t.paddingForLevels(e.levels,e.filler),this.options=e}static getLongestLevel(e){let r=Object.keys(e).map(n=>n.length);return Math.max(...r)}static paddingForLevel(e,r,n){let i=n+1-e.length,o=Math.floor(i/r.length);return`${r}${r.repeat(o)}`.slice(0,i)}static paddingForLevels(e,r=" "){let n=t.getLongestLevel(e);return Object.keys(e).reduce((i,o)=>(i[o]=t.paddingForLevel(o,r,n),i),{})}transform(e,r){return e.message=`${this.paddings[e[Tw]]}${e.message}`,e[Fh]&&(e[Fh]=`${this.paddings[e[Tw]]}${e[Fh]}`),e}};dc.exports=t=>new fc(t);dc.exports.Padder=dc.exports.Format=fc});var qw=p((SU,Wh)=>{"use strict";var{Colorizer:yA}=lc(),{Padder:vA}=$h(),{configs:bA,MESSAGE:_A}=ze(),hc=class{constructor(e={}){e.levels||(e.levels=bA.cli.levels),this.colorizer=new yA(e),this.padder=new vA(e),this.options=e}transform(e,r){return this.colorizer.transform(this.padder.transform(e,r),r),e[_A]=`${e.level}:${e.message}`,e}};Wh.exports=t=>new hc(t);Wh.exports.Format=hc});var Cw=p((EU,Hh)=>{"use strict";var wA=kt();function Mw(t){if(t.every(RA))return e=>{let r=e;for(let n=0;n<t.length;n++)if(r=t[n].transform(r,t[n].options),!r)return!1;return r}}function RA(t){if(typeof t.transform!="function")throw new Error(["No transform function found on format. Did you create a format instance?","const myFormat = format(formatFn);","const instance = myFormat();"].join(`
`));return!0}Hh.exports=(...t)=>{let e=wA(Mw(t)),r=e();return r.Format=e.Format,r};Hh.exports.cascade=Mw});var Ps=p((Vh,Nw)=>{"use strict";var{hasOwnProperty:Ds}=Object.prototype,Si=zh();Si.configure=zh;Si.stringify=Si;Si.default=Si;Vh.stringify=Si;Vh.configure=zh;Nw.exports=Si;var SA=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]/;function In(t){return t.length<5e3&&!SA.test(t)?`"${t}"`:JSON.stringify(t)}function Uh(t,e){if(t.length>200||e)return t.sort(e);for(let r=1;r<t.length;r++){let n=t[r],i=r;for(;i!==0&&t[i-1]>n;)t[i]=t[i-1],i--;t[i]=n}return t}var EA=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function Bh(t){return EA.call(t)!==void 0&&t.length!==0}function Aw(t,e,r){t.length<r&&(r=t.length);let n=e===","?"":" ",i=`"0":${n}${t[0]}`;for(let o=1;o<r;o++)i+=`${e}"${o}":${n}${t[o]}`;return i}function DA(t){if(Ds.call(t,"circularValue")){let e=t.circularValue;if(typeof e=="string")return`"${e}"`;if(e==null)return e;if(e===Error||e===TypeError)return{toString(){throw new TypeError("Converting circular structure to JSON")}};throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}function PA(t){let e;if(Ds.call(t,"deterministic")&&(e=t.deterministic,typeof e!="boolean"&&typeof e!="function"))throw new TypeError('The "deterministic" argument must be of type boolean or comparator function');return e===void 0?!0:e}function OA(t,e){let r;if(Ds.call(t,e)&&(r=t[e],typeof r!="boolean"))throw new TypeError(`The "${e}" argument must be of type boolean`);return r===void 0?!0:r}function jw(t,e){let r;if(Ds.call(t,e)){if(r=t[e],typeof r!="number")throw new TypeError(`The "${e}" argument must be of type number`);if(!Number.isInteger(r))throw new TypeError(`The "${e}" argument must be an integer`);if(r<1)throw new RangeError(`The "${e}" argument must be >= 1`)}return r===void 0?1/0:r}function Ri(t){return t===1?"1 item":`${t} items`}function TA(t){let e=new Set;for(let r of t)(typeof r=="string"||typeof r=="number")&&e.add(String(r));return e}function qA(t){if(Ds.call(t,"strict")){let e=t.strict;if(typeof e!="boolean")throw new TypeError('The "strict" argument must be of type boolean');if(e)return r=>{let n=`Object can not safely be stringified. Received type ${typeof r}`;throw typeof r!="function"&&(n+=` (${r.toString()})`),new Error(n)}}}function zh(t){t={...t};let e=qA(t);e&&(t.bigint===void 0&&(t.bigint=!1),"circularValue"in t||(t.circularValue=Error));let r=DA(t),n=OA(t,"bigint"),i=PA(t),o=typeof i=="function"?i:void 0,s=jw(t,"maximumDepth"),a=jw(t,"maximumBreadth");function u(_,y,E,C,O,w){let v=y[_];switch(typeof v=="object"&&v!==null&&typeof v.toJSON=="function"&&(v=v.toJSON(_)),v=C.call(y,_,v),typeof v){case"string":return In(v);case"object":{if(v===null)return"null";if(E.indexOf(v)!==-1)return r;let M="",I=",",W=w;if(Array.isArray(v)){if(v.length===0)return"[]";if(s<E.length+1)return'"[Array]"';E.push(v),O!==""&&(w+=O,M+=`
${w}`,I=`,
${w}`);let H=Math.min(v.length,a),z=0;for(;z<H-1;z++){let le=u(String(z),v,E,C,O,w);M+=le!==void 0?le:"null",M+=I}let ie=u(String(z),v,E,C,O,w);if(M+=ie!==void 0?ie:"null",v.length-1>a){let le=v.length-a-1;M+=`${I}"... ${Ri(le)} not stringified"`}return O!==""&&(M+=`
${W}`),E.pop(),`[${M}]`}let V=Object.keys(v),ee=V.length;if(ee===0)return"{}";if(s<E.length+1)return'"[Object]"';let re="",F="";O!==""&&(w+=O,I=`,
${w}`,re=" ");let x=Math.min(ee,a);i&&!Bh(v)&&(V=Uh(V,o)),E.push(v);for(let H=0;H<x;H++){let z=V[H],ie=u(z,v,E,C,O,w);ie!==void 0&&(M+=`${F}${In(z)}:${re}${ie}`,F=I)}if(ee>a){let H=ee-a;M+=`${F}"...":${re}"${Ri(H)} not stringified"`,F=I}return O!==""&&F.length>1&&(M=`
${w}${M}
${W}`),E.pop(),`{${M}}`}case"number":return isFinite(v)?String(v):e?e(v):"null";case"boolean":return v===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(v);default:return e?e(v):void 0}}function c(_,y,E,C,O,w){switch(typeof y=="object"&&y!==null&&typeof y.toJSON=="function"&&(y=y.toJSON(_)),typeof y){case"string":return In(y);case"object":{if(y===null)return"null";if(E.indexOf(y)!==-1)return r;let v=w,M="",I=",";if(Array.isArray(y)){if(y.length===0)return"[]";if(s<E.length+1)return'"[Array]"';E.push(y),O!==""&&(w+=O,M+=`
${w}`,I=`,
${w}`);let ee=Math.min(y.length,a),re=0;for(;re<ee-1;re++){let x=c(String(re),y[re],E,C,O,w);M+=x!==void 0?x:"null",M+=I}let F=c(String(re),y[re],E,C,O,w);if(M+=F!==void 0?F:"null",y.length-1>a){let x=y.length-a-1;M+=`${I}"... ${Ri(x)} not stringified"`}return O!==""&&(M+=`
${v}`),E.pop(),`[${M}]`}E.push(y);let W="";O!==""&&(w+=O,I=`,
${w}`,W=" ");let V="";for(let ee of C){let re=c(ee,y[ee],E,C,O,w);re!==void 0&&(M+=`${V}${In(ee)}:${W}${re}`,V=I)}return O!==""&&V.length>1&&(M=`
${w}${M}
${v}`),E.pop(),`{${M}}`}case"number":return isFinite(y)?String(y):e?e(y):"null";case"boolean":return y===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(y);default:return e?e(y):void 0}}function h(_,y,E,C,O){switch(typeof y){case"string":return In(y);case"object":{if(y===null)return"null";if(typeof y.toJSON=="function"){if(y=y.toJSON(_),typeof y!="object")return h(_,y,E,C,O);if(y===null)return"null"}if(E.indexOf(y)!==-1)return r;let w=O;if(Array.isArray(y)){if(y.length===0)return"[]";if(s<E.length+1)return'"[Array]"';E.push(y),O+=C;let re=`
${O}`,F=`,
${O}`,x=Math.min(y.length,a),H=0;for(;H<x-1;H++){let ie=h(String(H),y[H],E,C,O);re+=ie!==void 0?ie:"null",re+=F}let z=h(String(H),y[H],E,C,O);if(re+=z!==void 0?z:"null",y.length-1>a){let ie=y.length-a-1;re+=`${F}"... ${Ri(ie)} not stringified"`}return re+=`
${w}`,E.pop(),`[${re}]`}let v=Object.keys(y),M=v.length;if(M===0)return"{}";if(s<E.length+1)return'"[Object]"';O+=C;let I=`,
${O}`,W="",V="",ee=Math.min(M,a);Bh(y)&&(W+=Aw(y,I,a),v=v.slice(y.length),ee-=y.length,V=I),i&&(v=Uh(v,o)),E.push(y);for(let re=0;re<ee;re++){let F=v[re],x=h(F,y[F],E,C,O);x!==void 0&&(W+=`${V}${In(F)}: ${x}`,V=I)}if(M>a){let re=M-a;W+=`${V}"...": "${Ri(re)} not stringified"`,V=I}return V!==""&&(W=`
${O}${W}
${w}`),E.pop(),`{${W}}`}case"number":return isFinite(y)?String(y):e?e(y):"null";case"boolean":return y===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(y);default:return e?e(y):void 0}}function d(_,y,E){switch(typeof y){case"string":return In(y);case"object":{if(y===null)return"null";if(typeof y.toJSON=="function"){if(y=y.toJSON(_),typeof y!="object")return d(_,y,E);if(y===null)return"null"}if(E.indexOf(y)!==-1)return r;let C="",O=y.length!==void 0;if(O&&Array.isArray(y)){if(y.length===0)return"[]";if(s<E.length+1)return'"[Array]"';E.push(y);let W=Math.min(y.length,a),V=0;for(;V<W-1;V++){let re=d(String(V),y[V],E);C+=re!==void 0?re:"null",C+=","}let ee=d(String(V),y[V],E);if(C+=ee!==void 0?ee:"null",y.length-1>a){let re=y.length-a-1;C+=`,"... ${Ri(re)} not stringified"`}return E.pop(),`[${C}]`}let w=Object.keys(y),v=w.length;if(v===0)return"{}";if(s<E.length+1)return'"[Object]"';let M="",I=Math.min(v,a);O&&Bh(y)&&(C+=Aw(y,",",a),w=w.slice(y.length),I-=y.length,M=","),i&&(w=Uh(w,o)),E.push(y);for(let W=0;W<I;W++){let V=w[W],ee=d(V,y[V],E);ee!==void 0&&(C+=`${M}${In(V)}:${ee}`,M=",")}if(v>a){let W=v-a;C+=`${M}"...":"${Ri(W)} not stringified"`}return E.pop(),`{${C}}`}case"number":return isFinite(y)?String(y):e?e(y):"null";case"boolean":return y===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(y);default:return e?e(y):void 0}}function g(_,y,E){if(arguments.length>1){let C="";if(typeof E=="number"?C=" ".repeat(Math.min(E,10)):typeof E=="string"&&(C=E.slice(0,10)),y!=null){if(typeof y=="function")return u("",{"":_},[],y,C,"");if(Array.isArray(y))return c("",_,[],TA(y),C,"")}if(C.length!==0)return h("",_,[],C,"")}return d("",_,[])}return g}});var Gh=p((DU,Lw)=>{"use strict";var MA=kt(),{MESSAGE:CA}=ze(),AA=Ps();function jA(t,e){return typeof e=="bigint"?e.toString():e}Lw.exports=MA((t,e)=>{let r=AA.configure(e);return t[CA]=r(t,e.replacer||jA,e.space),t})});var Iw=p((PU,xw)=>{"use strict";var NA=kt();xw.exports=NA((t,e)=>e.message?(t.message=`[${e.label}] ${t.message}`,t):(t.label=e.label,t))});var Fw=p((OU,kw)=>{"use strict";var LA=kt(),{MESSAGE:xA}=ze(),IA=Ps();kw.exports=LA(t=>{let e={};return t.message&&(e["@message"]=t.message,delete t.message),t.timestamp&&(e["@timestamp"]=t.timestamp,delete t.timestamp),e["@fields"]=t,t[xA]=IA(e),t})});var Ww=p((TU,$w)=>{"use strict";var kA=kt();function FA(t,e,r){let n=e.reduce((o,s)=>(o[s]=t[s],delete t[s],o),{}),i=Object.keys(t).reduce((o,s)=>(o[s]=t[s],delete t[s],o),{});return Object.assign(t,n,{[r]:i}),t}function $A(t,e,r){return t[r]=e.reduce((n,i)=>(n[i]=t[i],delete t[i],n),{}),t}$w.exports=kA((t,e={})=>{let r="metadata";e.key&&(r=e.key);let n=[];return!e.fillExcept&&!e.fillWith&&(n.push("level"),n.push("message")),e.fillExcept&&(n=e.fillExcept),n.length>0?FA(t,n,r):e.fillWith?$A(t,e.fillWith,r):t})});var Uw=p((qU,Hw)=>{var vo=1e3,bo=vo*60,_o=bo*60,Ei=_o*24,WA=Ei*7,HA=Ei*365.25;Hw.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return UA(t);if(r==="number"&&isFinite(t))return e.long?zA(t):BA(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function UA(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*HA;case"weeks":case"week":case"w":return r*WA;case"days":case"day":case"d":return r*Ei;case"hours":case"hour":case"hrs":case"hr":case"h":return r*_o;case"minutes":case"minute":case"mins":case"min":case"m":return r*bo;case"seconds":case"second":case"secs":case"sec":case"s":return r*vo;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function BA(t){var e=Math.abs(t);return e>=Ei?Math.round(t/Ei)+"d":e>=_o?Math.round(t/_o)+"h":e>=bo?Math.round(t/bo)+"m":e>=vo?Math.round(t/vo)+"s":t+"ms"}function zA(t){var e=Math.abs(t);return e>=Ei?gc(t,e,Ei,"day"):e>=_o?gc(t,e,_o,"hour"):e>=bo?gc(t,e,bo,"minute"):e>=vo?gc(t,e,vo,"second"):t+" ms"}function gc(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var zw=p((Os,Bw)=>{"use strict";var VA=kt(),GA=Uw();Bw.exports=VA(t=>{let e=+new Date;return Os.diff=e-(Os.prevTime||e),Os.prevTime=e,t.ms=`+${GA(Os.diff)}`,t})});var Yw=p((MU,Gw)=>{"use strict";var YA=require("util").inspect,KA=kt(),{LEVEL:XA,MESSAGE:Vw,SPLAT:JA}=ze();Gw.exports=KA((t,e={})=>{let r=Object.assign({},t);return delete r[XA],delete r[Vw],delete r[JA],t[Vw]=YA(r,!1,e.depth||null,e.colorize),t})});var Kw=p((CU,mc)=>{"use strict";var{MESSAGE:QA}=ze(),pc=class{constructor(e){this.template=e}transform(e){return e[QA]=this.template(e),e}};mc.exports=t=>new pc(t);mc.exports.Printf=mc.exports.Format=pc});var Qw=p((AU,Jw)=>{"use strict";var ZA=kt(),{MESSAGE:Xw}=ze(),ej=Ps();Jw.exports=ZA(t=>{let e=ej(Object.assign({},t,{level:void 0,message:void 0,splat:void 0})),r=t.padding&&t.padding[t.level]||"";return e!=="{}"?t[Xw]=`${t.level}:${r} ${t.message} ${e}`:t[Xw]=`${t.level}:${r} ${t.message}`,t})});var tR=p((jU,eR)=>{"use strict";var tj=require("util"),{SPLAT:Zw}=ze(),rj=/%[scdjifoO%]/g,nj=/%%/g,Yh=class{constructor(e){this.options=e}_splat(e,r){let n=e.message,i=e[Zw]||e.splat||[],o=n.match(nj),s=o&&o.length||0,u=r.length-s-i.length,c=u<0?i.splice(u,-1*u):[],h=c.length;if(h)for(let d=0;d<h;d++)Object.assign(e,c[d]);return e.message=tj.format(n,...i),e}transform(e){let r=e.message,n=e[Zw]||e.splat;if(!n||!n.length)return e;let i=r&&r.match&&r.match(rj);if(!i&&(n||n.length)){let o=n.length>1?n.splice(0):n,s=o.length;if(s)for(let a=0;a<s;a++)Object.assign(e,o[a]);return e}return i?this._splat(e,i):e}};eR.exports=t=>new Yh(t)});var nR=p((yc,rR)=>{(function(t,e){typeof yc=="object"&&typeof rR<"u"?e(yc):typeof define=="function"&&define.amd?define(["exports"],e):e(t.fecha={})})(yc,function(t){"use strict";var e=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,r="\\d\\d?",n="\\d\\d",i="\\d{3}",o="\\d{4}",s="[^\\s]+",a=/\[([^]*?)\]/gm;function u(q,U){for(var ne=[],fe=0,J=q.length;fe<J;fe++)ne.push(q[fe].substr(0,U));return ne}var c=function(q){return function(U,ne){var fe=ne[q].map(function(st){return st.toLowerCase()}),J=fe.indexOf(U.toLowerCase());return J>-1?J:null}};function h(q){for(var U=[],ne=1;ne<arguments.length;ne++)U[ne-1]=arguments[ne];for(var fe=0,J=U;fe<J.length;fe++){var st=J[fe];for(var _t in st)q[_t]=st[_t]}return q}var d=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],g=["January","February","March","April","May","June","July","August","September","October","November","December"],_=u(g,3),y=u(d,3),E={dayNamesShort:y,dayNames:d,monthNamesShort:_,monthNames:g,amPm:["am","pm"],DoFn:function(q){return q+["th","st","nd","rd"][q%10>3?0:(q-q%10!==10?1:0)*q%10]}},C=h({},E),O=function(q){return C=h(C,q)},w=function(q){return q.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},v=function(q,U){for(U===void 0&&(U=2),q=String(q);q.length<U;)q="0"+q;return q},M={D:function(q){return String(q.getDate())},DD:function(q){return v(q.getDate())},Do:function(q,U){return U.DoFn(q.getDate())},d:function(q){return String(q.getDay())},dd:function(q){return v(q.getDay())},ddd:function(q,U){return U.dayNamesShort[q.getDay()]},dddd:function(q,U){return U.dayNames[q.getDay()]},M:function(q){return String(q.getMonth()+1)},MM:function(q){return v(q.getMonth()+1)},MMM:function(q,U){return U.monthNamesShort[q.getMonth()]},MMMM:function(q,U){return U.monthNames[q.getMonth()]},YY:function(q){return v(String(q.getFullYear()),4).substr(2)},YYYY:function(q){return v(q.getFullYear(),4)},h:function(q){return String(q.getHours()%12||12)},hh:function(q){return v(q.getHours()%12||12)},H:function(q){return String(q.getHours())},HH:function(q){return v(q.getHours())},m:function(q){return String(q.getMinutes())},mm:function(q){return v(q.getMinutes())},s:function(q){return String(q.getSeconds())},ss:function(q){return v(q.getSeconds())},S:function(q){return String(Math.round(q.getMilliseconds()/100))},SS:function(q){return v(Math.round(q.getMilliseconds()/10),2)},SSS:function(q){return v(q.getMilliseconds(),3)},a:function(q,U){return q.getHours()<12?U.amPm[0]:U.amPm[1]},A:function(q,U){return q.getHours()<12?U.amPm[0].toUpperCase():U.amPm[1].toUpperCase()},ZZ:function(q){var U=q.getTimezoneOffset();return(U>0?"-":"+")+v(Math.floor(Math.abs(U)/60)*100+Math.abs(U)%60,4)},Z:function(q){var U=q.getTimezoneOffset();return(U>0?"-":"+")+v(Math.floor(Math.abs(U)/60),2)+":"+v(Math.abs(U)%60,2)}},I=function(q){return+q-1},W=[null,r],V=[null,s],ee=["isPm",s,function(q,U){var ne=q.toLowerCase();return ne===U.amPm[0]?0:ne===U.amPm[1]?1:null}],re=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(q){var U=(q+"").match(/([+-]|\d\d)/gi);if(U){var ne=+U[1]*60+parseInt(U[2],10);return U[0]==="+"?ne:-ne}return 0}],F={D:["day",r],DD:["day",n],Do:["day",r+s,function(q){return parseInt(q,10)}],M:["month",r,I],MM:["month",n,I],YY:["year",n,function(q){var U=new Date,ne=+(""+U.getFullYear()).substr(0,2);return+(""+(+q>68?ne-1:ne)+q)}],h:["hour",r,void 0,"isPm"],hh:["hour",n,void 0,"isPm"],H:["hour",r],HH:["hour",n],m:["minute",r],mm:["minute",n],s:["second",r],ss:["second",n],YYYY:["year",o],S:["millisecond","\\d",function(q){return+q*100}],SS:["millisecond",n,function(q){return+q*10}],SSS:["millisecond",i],d:W,dd:W,ddd:V,dddd:V,MMM:["month",s,c("monthNamesShort")],MMMM:["month",s,c("monthNames")],a:ee,A:ee,ZZ:re,Z:re},x={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},H=function(q){return h(x,q)},z=function(q,U,ne){if(U===void 0&&(U=x.default),ne===void 0&&(ne={}),typeof q=="number"&&(q=new Date(q)),Object.prototype.toString.call(q)!=="[object Date]"||isNaN(q.getTime()))throw new Error("Invalid Date pass to format");U=x[U]||U;var fe=[];U=U.replace(a,function(st,_t){return fe.push(_t),"@@@"});var J=h(h({},C),ne);return U=U.replace(e,function(st){return M[st](q,J)}),U.replace(/@@@/g,function(){return fe.shift()})};function ie(q,U,ne){if(ne===void 0&&(ne={}),typeof U!="string")throw new Error("Invalid format in fecha parse");if(U=x[U]||U,q.length>1e3)return null;var fe=new Date,J={year:fe.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},st=[],_t=[],Nr=U.replace(a,function(xr,Gt){return _t.push(w(Gt)),"@@@"}),Lr={},Sn={};Nr=w(Nr).replace(e,function(xr){var Gt=F[xr],En=Gt[0],pr=Gt[1],mr=Gt[3];if(Lr[En])throw new Error("Invalid format. "+En+" specified twice in format");return Lr[En]=!0,mr&&(Sn[mr]=!0),st.push(Gt),"("+pr+")"}),Object.keys(Sn).forEach(function(xr){if(!Lr[xr])throw new Error("Invalid format. "+xr+" is required in specified format")}),Nr=Nr.replace(/@@@/g,function(){return _t.shift()});var nn=q.match(new RegExp(Nr,"i"));if(!nn)return null;for(var Bi=h(h({},C),ne),ht=1;ht<nn.length;ht++){var di=st[ht-1],zi=di[0],on=di[2],At=on?on(nn[ht],Bi):+nn[ht];if(At==null)return null;J[zi]=At}J.isPm===1&&J.hour!=null&&+J.hour!=12?J.hour=+J.hour+12:J.isPm===0&&+J.hour==12&&(J.hour=0);var sn;if(J.timezoneOffset==null){sn=new Date(J.year,J.month,J.day,J.hour,J.minute,J.second,J.millisecond);for(var an=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],ht=0,un=an.length;ht<un;ht++)if(Lr[an[ht][0]]&&J[an[ht][0]]!==sn[an[ht][1]]())return null}else if(sn=new Date(Date.UTC(J.year,J.month,J.day,J.hour,J.minute-J.timezoneOffset,J.second,J.millisecond)),J.month>11||J.month<0||J.day>31||J.day<1||J.hour>23||J.hour<0||J.minute>59||J.minute<0||J.second>59||J.second<0)return null;return sn}var le={format:z,parse:ie,defaultI18n:E,setGlobalDateI18n:O,setGlobalDateMasks:H};t.assign=h,t.default=le,t.format=z,t.parse=ie,t.defaultI18n=E,t.setGlobalDateI18n=O,t.setGlobalDateMasks=H,Object.defineProperty(t,"__esModule",{value:!0})})});var oR=p((NU,iR)=>{"use strict";var ij=nR(),oj=kt();iR.exports=oj((t,e={})=>(e.format&&(t.timestamp=typeof e.format=="function"?e.format():ij.format(new Date,e.format)),t.timestamp||(t.timestamp=new Date().toISOString()),e.alias&&(t[e.alias]=t.timestamp),t))});var aR=p((LU,sR)=>{"use strict";var Kh=Ch(),sj=kt(),{MESSAGE:Xh}=ze();sR.exports=sj((t,e)=>(e.level!==!1&&(t.level=Kh.strip(t.level)),e.message!==!1&&(t.message=Kh.strip(String(t.message))),e.raw!==!1&&t[Xh]&&(t[Xh]=Kh.strip(String(t[Xh]))),t))});var Qh=p(Jh=>{"use strict";var aj=Jh.format=kt();Jh.levels=Rw();function ut(t,e){Object.defineProperty(aj,t,{get(){return e()},configurable:!0})}ut("align",function(){return Ew()});ut("errors",function(){return Ow()});ut("cli",function(){return qw()});ut("combine",function(){return Cw()});ut("colorize",function(){return lc()});ut("json",function(){return Gh()});ut("label",function(){return Iw()});ut("logstash",function(){return Fw()});ut("metadata",function(){return Ww()});ut("ms",function(){return zw()});ut("padLevels",function(){return $h()});ut("prettyPrint",function(){return Yw()});ut("printf",function(){return Kw()});ut("simple",function(){return Qw()});ut("splat",function(){return tR()});ut("timestamp",function(){return oR()});ut("uncolorize",function(){return aR()})});var Zh=p(vc=>{"use strict";var{format:uR}=require("util");vc.warn={deprecated(t){return()=>{throw new Error(uR("{ %s } was removed in winston@3.0.0.",t))}},useFormat(t){return()=>{throw new Error([uR("{ %s } was removed in winston@3.0.0.",t),"Use a custom winston.format = winston.format(function) instead."].join(`
`))}},forFunctions(t,e,r){r.forEach(n=>{t[n]=vc.warn[e](n)})},forProperties(t,e,r){r.forEach(n=>{let i=vc.warn[e](n);Object.defineProperty(t,n,{get:i,set:i})})}}});var cR=p((kU,uj)=>{uj.exports={name:"winston",description:"A logger for just about everything.",version:"3.17.0",author:"Charlie Robbins <charlie.robbins@gmail.com>",maintainers:["David Hyde <dabh@alumni.stanford.edu>"],repository:{type:"git",url:"https://github.com/winstonjs/winston.git"},keywords:["winston","logger","logging","logs","sysadmin","bunyan","pino","loglevel","tools","json","stream"],dependencies:{"@dabh/diagnostics":"^2.0.2","@colors/colors":"^1.6.0",async:"^3.2.3","is-stream":"^2.0.0",logform:"^2.7.0","one-time":"^1.0.0","readable-stream":"^3.4.0","safe-stable-stringify":"^2.3.1","stack-trace":"0.0.x","triple-beam":"^1.3.0","winston-transport":"^4.9.0"},devDependencies:{"@babel/cli":"^7.23.9","@babel/core":"^7.24.0","@babel/preset-env":"^7.24.0","@dabh/eslint-config-populist":"^4.4.0","@types/node":"^20.11.24","abstract-winston-transport":"^0.5.1",assume:"^2.2.0","cross-spawn-async":"^2.2.5",eslint:"^8.57.0",hock:"^1.4.1",mocha:"^10.3.0",nyc:"^17.1.0",rimraf:"5.0.1",split2:"^4.1.0","std-mocks":"^2.0.0",through2:"^4.0.2","winston-compat":"^0.1.5"},main:"./lib/winston.js",browser:"./dist/winston",types:"./index.d.ts",scripts:{lint:"eslint lib/*.js lib/winston/*.js lib/winston/**/*.js --resolve-plugins-relative-to ./node_modules/@dabh/eslint-config-populist",test:"rimraf test/fixtures/logs/* && mocha","test:coverage":"nyc npm run test:unit","test:unit":"mocha test/unit","test:integration":"mocha test/integration",build:"rimraf dist && babel lib -d dist",prepublishOnly:"npm run build"},engines:{node:">= 12.0.0"},license:"MIT"}});var eg=p((FU,lR)=>{lR.exports=require("util").deprecate});var tg=p(($U,fR)=>{fR.exports=require("stream")});var ng=p((WU,hR)=>{"use strict";function cj(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(rg,this,t)):process.nextTick(rg,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?r._writableState?r._writableState.errorEmitted?process.nextTick(bc,r):(r._writableState.errorEmitted=!0,process.nextTick(dR,r,o)):process.nextTick(dR,r,o):e?(process.nextTick(bc,r),e(o)):process.nextTick(bc,r)}),this)}function dR(t,e){rg(t,e),bc(t)}function bc(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function lj(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function rg(t,e){t.emit("error",e)}function fj(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}hR.exports={destroy:cj,undestroy:lj,errorOrDestroy:fj}});var wo=p((HU,mR)=>{"use strict";var pR={};function sr(t,e,r){r||(r=Error);function n(o,s,a){return typeof e=="string"?e:e(o,s,a)}class i extends r{constructor(s,a,u){super(n(s,a,u))}}i.prototype.name=r.name,i.prototype.code=t,pR[t]=i}function gR(t,e){if(Array.isArray(t)){let r=t.length;return t=t.map(n=>String(n)),r>2?`one of ${e} ${t.slice(0,r-1).join(", ")}, or `+t[r-1]:r===2?`one of ${e} ${t[0]} or ${t[1]}`:`of ${e} ${t[0]}`}else return`of ${e} ${String(t)}`}function dj(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function hj(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function gj(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}sr("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);sr("ERR_INVALID_ARG_TYPE",function(t,e,r){let n;typeof e=="string"&&dj(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";let i;if(hj(t," argument"))i=`The ${t} ${n} ${gR(e,"type")}`;else{let o=gj(t,".")?"property":"argument";i=`The "${t}" ${o} ${n} ${gR(e,"type")}`}return i+=`. Received type ${typeof r}`,i},TypeError);sr("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");sr("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});sr("ERR_STREAM_PREMATURE_CLOSE","Premature close");sr("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});sr("ERR_MULTIPLE_CALLBACK","Callback called multiple times");sr("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");sr("ERR_STREAM_WRITE_AFTER_END","write after end");sr("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);sr("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);sr("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");mR.exports.codes=pR});var ig=p((UU,yR)=>{"use strict";var pj=wo().codes.ERR_INVALID_OPT_VALUE;function mj(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function yj(t,e,r,n){var i=mj(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var o=n?r:"highWaterMark";throw new pj(o,i)}return Math.floor(i)}return t.objectMode?16:16*1024}yR.exports={getHighWaterMark:yj}});var vR=p((BU,og)=>{typeof Object.create=="function"?og.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:og.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var hn=p((zU,ag)=>{try{if(sg=require("util"),typeof sg.inherits!="function")throw"";ag.exports=sg.inherits}catch{ag.exports=vR()}var sg});var ER=p((VU,SR)=>{"use strict";function bR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _R(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bR(Object(r),!0).forEach(function(n){vj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vj(t,e,r){return e=RR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RR(n.key),n)}}function _j(t,e,r){return e&&wR(t.prototype,e),r&&wR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function RR(t){var e=wj(t,"string");return typeof e=="symbol"?e:String(e)}function wj(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rj=require("buffer"),_c=Rj.Buffer,Sj=require("util"),ug=Sj.inspect,Ej=ug&&ug.custom||"inspect";function Dj(t,e,r){_c.prototype.copy.call(t,e,r)}SR.exports=function(){function t(){bj(this,t),this.head=null,this.tail=null,this.length=0}return _j(t,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i}},{key:"concat",value:function(r){if(this.length===0)return _c.alloc(0);for(var n=_c.allocUnsafe(r>>>0),i=this.head,o=0;i;)Dj(i.data,n,o),o+=i.data.length,i=i.next;return n}},{key:"consume",value:function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,i=1,o=n.data;for(r-=o.length;n=n.next;){var s=n.data,a=r>s.length?s.length:r;if(a===s.length?o+=s:o+=s.slice(0,r),r-=a,r===0){a===s.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=s.slice(a));break}++i}return this.length-=i,o}},{key:"_getBuffer",value:function(r){var n=_c.allocUnsafe(r),i=this.head,o=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var s=i.data,a=r>s.length?s.length:r;if(s.copy(n,n.length-r,0,a),r-=a,r===0){a===s.length?(++o,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=s.slice(a));break}++o}return this.length-=o,n}},{key:Ej,value:function(r,n){return ug(this,_R(_R({},n),{},{depth:0,customInspect:!1}))}}]),t}()});var OR=p((cg,PR)=>{var wc=require("buffer"),gn=wc.Buffer;function DR(t,e){for(var r in t)e[r]=t[r]}gn.from&&gn.alloc&&gn.allocUnsafe&&gn.allocUnsafeSlow?PR.exports=wc:(DR(wc,cg),cg.Buffer=Ro);function Ro(t,e,r){return gn(t,e,r)}DR(gn,Ro);Ro.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return gn(t,e,r)};Ro.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=gn(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};Ro.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return gn(t)};Ro.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return wc.SlowBuffer(t)}});var qs=p(qR=>{"use strict";var fg=OR().Buffer,TR=fg.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Pj(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function Oj(t){var e=Pj(t);if(typeof e!="string"&&(fg.isEncoding===TR||!TR(t)))throw new Error("Unknown encoding: "+t);return e||t}qR.StringDecoder=Ts;function Ts(t){this.encoding=Oj(t);var e;switch(this.encoding){case"utf16le":this.text=jj,this.end=Nj,e=4;break;case"utf8":this.fillLast=Mj,e=4;break;case"base64":this.text=Lj,this.end=xj,e=3;break;default:this.write=Ij,this.end=kj;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=fg.allocUnsafe(e)}Ts.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};Ts.prototype.end=Aj;Ts.prototype.text=Cj;Ts.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function lg(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function Tj(t,e,r){var n=e.length-1;if(n<r)return 0;var i=lg(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=lg(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=lg(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function qj(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function Mj(t){var e=this.lastTotal-this.lastNeed,r=qj(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function Cj(t,e){var r=Tj(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function Aj(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function jj(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function Nj(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function Lj(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function xj(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function Ij(t){return t.toString(this.encoding)}function kj(t){return t&&t.length?this.write(t):""}});var jR=p((YU,AR)=>{"use strict";var MR=wo().codes.ERR_STREAM_PREMATURE_CLOSE;function Fj(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function $j(){}function Wj(t){return t.setHeader&&typeof t.abort=="function"}function CR(t,e,r){if(typeof e=="function")return CR(t,null,e);e||(e={}),r=Fj(r||$j);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,o=function(){t.writable||a()},s=t._writableState&&t._writableState.finished,a=function(){i=!1,s=!0,n||r.call(t)},u=t._readableState&&t._readableState.endEmitted,c=function(){n=!1,u=!0,i||r.call(t)},h=function(y){r.call(t,y)},d=function(){var y;if(n&&!u)return(!t._readableState||!t._readableState.ended)&&(y=new MR),r.call(t,y);if(i&&!s)return(!t._writableState||!t._writableState.ended)&&(y=new MR),r.call(t,y)},g=function(){t.req.on("finish",a)};return Wj(t)?(t.on("complete",a),t.on("abort",d),t.req?g():t.on("request",g)):i&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",c),t.on("finish",a),e.error!==!1&&t.on("error",h),t.on("close",d),function(){t.removeListener("complete",a),t.removeListener("abort",d),t.removeListener("request",g),t.req&&t.req.removeListener("finish",a),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",a),t.removeListener("end",c),t.removeListener("error",h),t.removeListener("close",d)}}AR.exports=CR});var LR=p((KU,NR)=>{"use strict";var Rc;function kn(t,e,r){return e=Hj(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hj(t){var e=Uj(t,"string");return typeof e=="symbol"?e:String(e)}function Uj(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bj=jR(),Fn=Symbol("lastResolve"),Di=Symbol("lastReject"),Ms=Symbol("error"),Sc=Symbol("ended"),Pi=Symbol("lastPromise"),dg=Symbol("handlePromise"),Oi=Symbol("stream");function $n(t,e){return{value:t,done:e}}function zj(t){var e=t[Fn];if(e!==null){var r=t[Oi].read();r!==null&&(t[Pi]=null,t[Fn]=null,t[Di]=null,e($n(r,!1)))}}function Vj(t){process.nextTick(zj,t)}function Gj(t,e){return function(r,n){t.then(function(){if(e[Sc]){r($n(void 0,!0));return}e[dg](r,n)},n)}}var Yj=Object.getPrototypeOf(function(){}),Kj=Object.setPrototypeOf((Rc={get stream(){return this[Oi]},next:function(){var e=this,r=this[Ms];if(r!==null)return Promise.reject(r);if(this[Sc])return Promise.resolve($n(void 0,!0));if(this[Oi].destroyed)return new Promise(function(s,a){process.nextTick(function(){e[Ms]?a(e[Ms]):s($n(void 0,!0))})});var n=this[Pi],i;if(n)i=new Promise(Gj(n,this));else{var o=this[Oi].read();if(o!==null)return Promise.resolve($n(o,!1));i=new Promise(this[dg])}return this[Pi]=i,i}},kn(Rc,Symbol.asyncIterator,function(){return this}),kn(Rc,"return",function(){var e=this;return new Promise(function(r,n){e[Oi].destroy(null,function(i){if(i){n(i);return}r($n(void 0,!0))})})}),Rc),Yj),Xj=function(e){var r,n=Object.create(Kj,(r={},kn(r,Oi,{value:e,writable:!0}),kn(r,Fn,{value:null,writable:!0}),kn(r,Di,{value:null,writable:!0}),kn(r,Ms,{value:null,writable:!0}),kn(r,Sc,{value:e._readableState.endEmitted,writable:!0}),kn(r,dg,{value:function(o,s){var a=n[Oi].read();a?(n[Pi]=null,n[Fn]=null,n[Di]=null,o($n(a,!1))):(n[Fn]=o,n[Di]=s)},writable:!0}),r));return n[Pi]=null,Bj(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var o=n[Di];o!==null&&(n[Pi]=null,n[Fn]=null,n[Di]=null,o(i)),n[Ms]=i;return}var s=n[Fn];s!==null&&(n[Pi]=null,n[Fn]=null,n[Di]=null,s($n(void 0,!0))),n[Sc]=!0}),e.on("readable",Vj.bind(null,n)),n};NR.exports=Xj});var FR=p((XU,kR)=>{"use strict";function xR(t,e,r,n,i,o,s){try{var a=t[o](s),u=a.value}catch(c){r(c);return}a.done?e(u):Promise.resolve(u).then(n,i)}function Jj(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function s(u){xR(o,n,i,s,a,"next",u)}function a(u){xR(o,n,i,s,a,"throw",u)}s(void 0)})}}function IR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IR(Object(r),!0).forEach(function(n){Zj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zj(t,e,r){return e=eN(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eN(t){var e=tN(t,"string");return typeof e=="symbol"?e:String(e)}function tN(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rN=wo().codes.ERR_INVALID_ARG_TYPE;function nN(t,e,r){var n;if(e&&typeof e.next=="function")n=e;else if(e&&e[Symbol.asyncIterator])n=e[Symbol.asyncIterator]();else if(e&&e[Symbol.iterator])n=e[Symbol.iterator]();else throw new rN("iterable",["Iterable"],e);var i=new t(Qj({objectMode:!0},r)),o=!1;i._read=function(){o||(o=!0,s())};function s(){return a.apply(this,arguments)}function a(){return a=Jj(function*(){try{var u=yield n.next(),c=u.value,h=u.done;h?i.push(null):i.push(yield c)?s():o=!1}catch(d){i.destroy(d)}}),a.apply(this,arguments)}return i}kR.exports=nN});var XR=p((QU,KR)=>{"use strict";KR.exports=_e;var So;_e.ReadableState=UR;var JU=require("events").EventEmitter,HR=function(e,r){return e.listeners(r).length},As=tg(),Ec=require("buffer").Buffer,iN=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function oN(t){return Ec.from(t)}function sN(t){return Ec.isBuffer(t)||t instanceof iN}var hg=require("util"),ge;hg&&hg.debuglog?ge=hg.debuglog("stream"):ge=function(){};var aN=ER(),_g=ng(),uN=ig(),cN=uN.getHighWaterMark,Dc=wo().codes,lN=Dc.ERR_INVALID_ARG_TYPE,fN=Dc.ERR_STREAM_PUSH_AFTER_EOF,dN=Dc.ERR_METHOD_NOT_IMPLEMENTED,hN=Dc.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Eo,gg,pg;hn()(_e,As);var Cs=_g.errorOrDestroy,mg=["error","close","destroy","pause","resume"];function gN(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function UR(t,e,r){So=So||js(),t=t||{},typeof r!="boolean"&&(r=e instanceof So),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=cN(this,t,"readableHighWaterMark",r),this.buffer=new aN,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Eo||(Eo=qs().StringDecoder),this.decoder=new Eo(t.encoding),this.encoding=t.encoding)}function _e(t){if(So=So||js(),!(this instanceof _e))return new _e(t);var e=this instanceof So;this._readableState=new UR(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),As.call(this)}Object.defineProperty(_e.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});_e.prototype.destroy=_g.destroy;_e.prototype._undestroy=_g.undestroy;_e.prototype._destroy=function(t,e){e(t)};_e.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=Ec.from(t,e),e=""),n=!0),BR(this,t,e,!1,n)};_e.prototype.unshift=function(t){return BR(this,t,null,!0,!1)};function BR(t,e,r,n,i){ge("readableAddChunk",e);var o=t._readableState;if(e===null)o.reading=!1,yN(t,o);else{var s;if(i||(s=pN(o,e)),s)Cs(t,s);else if(o.objectMode||e&&e.length>0)if(typeof e!="string"&&!o.objectMode&&Object.getPrototypeOf(e)!==Ec.prototype&&(e=oN(e)),n)o.endEmitted?Cs(t,new hN):yg(t,o,e,!0);else if(o.ended)Cs(t,new fN);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||e.length!==0?yg(t,o,e,!1):bg(t,o)):yg(t,o,e,!1)}else n||(o.reading=!1,bg(t,o))}return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function yg(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&Pc(t)),bg(t,e)}function pN(t,e){var r;return!sN(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new lN("chunk",["string","Buffer","Uint8Array"],e)),r}_e.prototype.isPaused=function(){return this._readableState.flowing===!1};_e.prototype.setEncoding=function(t){Eo||(Eo=qs().StringDecoder);var e=new Eo(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var $R=1073741824;function mN(t){return t>=$R?t=$R:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function WR(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=mN(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}_e.prototype.read=function(t){ge("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return ge("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?vg(this):Pc(this),null;if(t=WR(t,e),t===0&&e.ended)return e.length===0&&vg(this),null;var n=e.needReadable;ge("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,ge("length less than watermark",n)),e.ended||e.reading?(n=!1,ge("reading or ended",n)):n&&(ge("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=WR(r,e)));var i;return t>0?i=GR(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&vg(this)),i!==null&&this.emit("data",i),i};function yN(t,e){if(ge("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?Pc(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,zR(t)))}}function Pc(t){var e=t._readableState;ge("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(ge("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(zR,t))}function zR(t){var e=t._readableState;ge("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,wg(t)}function bg(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(vN,t,e))}function vN(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(ge("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}_e.prototype._read=function(t){Cs(this,new dN("_read()"))};_e.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,ge("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,o=i?a:E;n.endEmitted?process.nextTick(o):r.once("end",o),t.on("unpipe",s);function s(C,O){ge("onunpipe"),C===r&&O&&O.hasUnpiped===!1&&(O.hasUnpiped=!0,h())}function a(){ge("onend"),t.end()}var u=bN(r);t.on("drain",u);var c=!1;function h(){ge("cleanup"),t.removeListener("close",_),t.removeListener("finish",y),t.removeListener("drain",u),t.removeListener("error",g),t.removeListener("unpipe",s),r.removeListener("end",a),r.removeListener("end",E),r.removeListener("data",d),c=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&u()}r.on("data",d);function d(C){ge("ondata");var O=t.write(C);ge("dest.write",O),O===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&YR(n.pipes,t)!==-1)&&!c&&(ge("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function g(C){ge("onerror",C),E(),t.removeListener("error",g),HR(t,"error")===0&&Cs(t,C)}gN(t,"error",g);function _(){t.removeListener("finish",y),E()}t.once("close",_);function y(){ge("onfinish"),t.removeListener("close",_),E()}t.once("finish",y);function E(){ge("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(ge("pipe resume"),r.resume()),t};function bN(t){return function(){var r=t._readableState;ge("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&HR(t,"data")&&(r.flowing=!0,wg(t))}}_e.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=YR(e.pipes,t);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};_e.prototype.on=function(t,e){var r=As.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,ge("on readable",n.length,n.reading),n.length?Pc(this):n.reading||process.nextTick(_N,this)),r};_e.prototype.addListener=_e.prototype.on;_e.prototype.removeListener=function(t,e){var r=As.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(VR,this),r};_e.prototype.removeAllListeners=function(t){var e=As.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(VR,this),e};function VR(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function _N(t){ge("readable nexttick read 0"),t.read(0)}_e.prototype.resume=function(){var t=this._readableState;return t.flowing||(ge("resume"),t.flowing=!t.readableListening,wN(this,t)),t.paused=!1,this};function wN(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(RN,t,e))}function RN(t,e){ge("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),wg(t),e.flowing&&!e.reading&&t.read(0)}_e.prototype.pause=function(){return ge("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(ge("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function wg(t){var e=t._readableState;for(ge("flow",e.flowing);e.flowing&&t.read()!==null;);}_e.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(ge("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&e.push(s)}e.push(null)}),t.on("data",function(s){if(ge("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var a=e.push(s);a||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(a){return function(){return t[a].apply(t,arguments)}}(i));for(var o=0;o<mg.length;o++)t.on(mg[o],this.emit.bind(this,mg[o]));return this._read=function(s){ge("wrapped _read",s),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(_e.prototype[Symbol.asyncIterator]=function(){return gg===void 0&&(gg=LR()),gg(this)});Object.defineProperty(_e.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(_e.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(_e.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});_e._fromList=GR;Object.defineProperty(_e.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function GR(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function vg(t){var e=t._readableState;ge("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(SN,e,t))}function SN(t,e){if(ge("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(_e.from=function(t,e){return pg===void 0&&(pg=FR()),pg(_e,t,e)});function YR(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var js=p((ZU,QR)=>{"use strict";var EN=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};QR.exports=Hr;var JR=XR(),Sg=Eg();hn()(Hr,JR);for(Rg=EN(Sg.prototype),Oc=0;Oc<Rg.length;Oc++)Tc=Rg[Oc],Hr.prototype[Tc]||(Hr.prototype[Tc]=Sg.prototype[Tc]);var Rg,Tc,Oc;function Hr(t){if(!(this instanceof Hr))return new Hr(t);JR.call(this,t),Sg.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",DN)))}Object.defineProperty(Hr.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(Hr.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(Hr.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function DN(){this._writableState.ended||process.nextTick(PN,this)}function PN(t){t.end()}Object.defineProperty(Hr.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var Eg=p((e6,iS)=>{"use strict";iS.exports=Ve;function eS(t){var e=this;this.next=null,this.entry=null,this.finish=function(){ZN(e,t)}}var Do;Ve.WritableState=Ls;var ON={deprecate:eg()},tS=tg(),Mc=require("buffer").Buffer,TN=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function qN(t){return Mc.from(t)}function MN(t){return Mc.isBuffer(t)||t instanceof TN}var Pg=ng(),CN=ig(),AN=CN.getHighWaterMark,Wn=wo().codes,jN=Wn.ERR_INVALID_ARG_TYPE,NN=Wn.ERR_METHOD_NOT_IMPLEMENTED,LN=Wn.ERR_MULTIPLE_CALLBACK,xN=Wn.ERR_STREAM_CANNOT_PIPE,IN=Wn.ERR_STREAM_DESTROYED,kN=Wn.ERR_STREAM_NULL_VALUES,FN=Wn.ERR_STREAM_WRITE_AFTER_END,$N=Wn.ERR_UNKNOWN_ENCODING,Po=Pg.errorOrDestroy;hn()(Ve,tS);function WN(){}function Ls(t,e,r){Do=Do||js(),t=t||{},typeof r!="boolean"&&(r=e instanceof Do),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=AN(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){YN(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new eS(this)}Ls.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(Ls.prototype,"buffer",{get:ON.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var qc;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(qc=Function.prototype[Symbol.hasInstance],Object.defineProperty(Ve,Symbol.hasInstance,{value:function(e){return qc.call(this,e)?!0:this!==Ve?!1:e&&e._writableState instanceof Ls}})):qc=function(e){return e instanceof this};function Ve(t){Do=Do||js();var e=this instanceof Do;if(!e&&!qc.call(Ve,this))return new Ve(t);this._writableState=new Ls(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),tS.call(this)}Ve.prototype.pipe=function(){Po(this,new xN)};function HN(t,e){var r=new FN;Po(t,r),process.nextTick(e,r)}function UN(t,e,r,n){var i;return r===null?i=new kN:typeof r!="string"&&!e.objectMode&&(i=new jN("chunk",["string","Buffer"],r)),i?(Po(t,i),process.nextTick(n,i),!1):!0}Ve.prototype.write=function(t,e,r){var n=this._writableState,i=!1,o=!n.objectMode&&MN(t);return o&&!Mc.isBuffer(t)&&(t=qN(t)),typeof e=="function"&&(r=e,e=null),o?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=WN),n.ending?HN(this,r):(o||UN(this,n,t,r))&&(n.pendingcb++,i=zN(this,n,o,t,e,r)),i};Ve.prototype.cork=function(){this._writableState.corked++};Ve.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&rS(this,t))};Ve.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new $N(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(Ve.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function BN(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=Mc.from(e,r)),e}Object.defineProperty(Ve.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function zN(t,e,r,n,i,o){if(!r){var s=BN(e,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=e.objectMode?1:n.length;e.length+=a;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else Dg(t,e,!1,a,n,i,o);return u}function Dg(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new IN("write")):r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function VN(t,e,r,n,i){--e.pendingcb,r?(process.nextTick(i,n),process.nextTick(Ns,t,e),t._writableState.errorEmitted=!0,Po(t,n)):(i(n),t._writableState.errorEmitted=!0,Po(t,n),Ns(t,e))}function GN(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function YN(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new LN;if(GN(r),e)VN(t,r,n,e,i);else{var o=nS(r)||t.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&rS(t,r),n?process.nextTick(ZR,t,r,o,i):ZR(t,r,o,i)}}function ZR(t,e,r,n){r||KN(t,e),e.pendingcb--,n(),Ns(t,e)}function KN(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function rS(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var s=0,a=!0;r;)i[s]=r,r.isBuf||(a=!1),r=r.next,s+=1;i.allBuffers=a,Dg(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new eS(e),e.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,c=r.encoding,h=r.callback,d=e.objectMode?1:u.length;if(Dg(t,e,!1,d,u,c,h),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}Ve.prototype._write=function(t,e,r){r(new NN("_write()"))};Ve.prototype._writev=null;Ve.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||QN(this,n,r),this};Object.defineProperty(Ve.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function nS(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function XN(t,e){t._final(function(r){e.pendingcb--,r&&Po(t,r),e.prefinished=!0,t.emit("prefinish"),Ns(t,e)})}function JN(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(XN,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Ns(t,e){var r=nS(e);if(r&&(JN(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function QN(t,e,r){e.ending=!0,Ns(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function ZN(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(Ve.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});Ve.prototype.destroy=Pg.destroy;Ve.prototype._undestroy=Pg.undestroy;Ve.prototype._destroy=function(t,e){e(t)}});var Og=p((t6,aS)=>{"use strict";var eL=require("util"),oS=Eg(),{LEVEL:sS}=ze(),xs=aS.exports=function(e={}){oS.call(this,{objectMode:!0,highWaterMark:e.highWaterMark}),this.format=e.format,this.level=e.level,this.handleExceptions=e.handleExceptions,this.handleRejections=e.handleRejections,this.silent=e.silent,e.log&&(this.log=e.log),e.logv&&(this.logv=e.logv),e.close&&(this.close=e.close),this.once("pipe",r=>{this.levels=r.levels,this.parent=r}),this.once("unpipe",r=>{r===this.parent&&(this.parent=null,this.close&&this.close())})};eL.inherits(xs,oS);xs.prototype._write=function(e,r,n){if(this.silent||e.exception===!0&&!this.handleExceptions)return n(null);let i=this.level||this.parent&&this.parent.level;if(!i||this.levels[i]>=this.levels[e[sS]]){if(e&&!this.format)return this.log(e,n);let o,s;try{s=this.format.transform(Object.assign({},e),this.format.options)}catch(a){o=a}if(o||!s){if(n(),o)throw o;return}return this.log(s,n)}return this._writableState.sync=!1,n(null)};xs.prototype._writev=function(e,r){if(this.logv){let n=e.filter(this._accept,this);return n.length?this.logv(n,r):r(null)}for(let n=0;n<e.length;n++){if(!this._accept(e[n]))continue;if(e[n].chunk&&!this.format){this.log(e[n].chunk,e[n].callback);continue}let i,o;try{o=this.format.transform(Object.assign({},e[n].chunk),this.format.options)}catch(s){i=s}if(i||!o){if(e[n].callback(),i)throw r(null),i}else this.log(o,e[n].callback)}return r(null)};xs.prototype._accept=function(e){let r=e.chunk;if(this.silent)return!1;let n=this.level||this.parent&&this.parent.level;return!!((r.exception===!0||!n||this.levels[n]>=this.levels[r[sS]])&&(this.handleExceptions||r.exception!==!0))};xs.prototype._nop=function(){}});var qg=p((r6,cS)=>{"use strict";var tL=require("util"),{LEVEL:Tg}=ze(),uS=Og(),Is=cS.exports=function(e={}){if(uS.call(this,e),!e.transport||typeof e.transport.log!="function")throw new Error("Invalid transport, must be an object with a log method.");this.transport=e.transport,this.level=this.level||e.transport.level,this.handleExceptions=this.handleExceptions||e.transport.handleExceptions,this._deprecated();function r(n){this.emit("error",n,this.transport)}this.transport.__winstonError||(this.transport.__winstonError=r.bind(this),this.transport.on("error",this.transport.__winstonError))};tL.inherits(Is,uS);Is.prototype._write=function(e,r,n){if(this.silent||e.exception===!0&&!this.handleExceptions)return n(null);(!this.level||this.levels[this.level]>=this.levels[e[Tg]])&&this.transport.log(e[Tg],e.message,e,this._nop),n(null)};Is.prototype._writev=function(e,r){for(let n=0;n<e.length;n++)this._accept(e[n])&&(this.transport.log(e[n].chunk[Tg],e[n].chunk.message,e[n].chunk,this._nop),e[n].callback());return r(null)};Is.prototype._deprecated=function(){console.error([`${this.transport.name} is a legacy winston transport. Consider upgrading: `,"- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join(`
`))};Is.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)}});var Ti=p((n6,Mg)=>{"use strict";Mg.exports=Og();Mg.exports.LegacyTransportStream=qg()});var dS=p((o6,fS)=>{"use strict";var rL=require("os"),{LEVEL:lS,MESSAGE:Oo}=ze(),nL=Ti();fS.exports=class extends nL{constructor(e={}){super(e),this.name=e.name||"console",this.stderrLevels=this._stringArrayToSet(e.stderrLevels),this.consoleWarnLevels=this._stringArrayToSet(e.consoleWarnLevels),this.eol=typeof e.eol=="string"?e.eol:rL.EOL,this.forceConsole=e.forceConsole||!1,this._consoleLog=console.log.bind(console),this._consoleWarn=console.warn.bind(console),this._consoleError=console.error.bind(console),this.setMaxListeners(30)}log(e,r){if(setImmediate(()=>this.emit("logged",e)),this.stderrLevels[e[lS]]){console._stderr&&!this.forceConsole?console._stderr.write(`${e[Oo]}${this.eol}`):this._consoleError(e[Oo]),r&&r();return}else if(this.consoleWarnLevels[e[lS]]){console._stderr&&!this.forceConsole?console._stderr.write(`${e[Oo]}${this.eol}`):this._consoleWarn(e[Oo]),r&&r();return}console._stdout&&!this.forceConsole?console._stdout.write(`${e[Oo]}${this.eol}`):this._consoleLog(e[Oo]),r&&r()}_stringArrayToSet(e,r){if(!e)return{};if(r=r||"Cannot make set from type other than Array of string elements",!Array.isArray(e))throw new Error(r);return e.reduce((n,i)=>{if(typeof i!="string")throw new Error(r);return n[i]=!0,n},{})}}});var Ac=p((Cc,hS)=>{"use strict";Object.defineProperty(Cc,"__esModule",{value:!0});Cc.default=iL;function iL(t){return t&&typeof t.length=="number"&&t.length>=0&&t.length%1===0}hS.exports=Cc.default});var pS=p((jc,gS)=>{"use strict";Object.defineProperty(jc,"__esModule",{value:!0});jc.default=function(t){return function(...e){var r=e.pop();return t.call(this,e,r)}};gS.exports=jc.default});var vS=p(Hn=>{"use strict";Object.defineProperty(Hn,"__esModule",{value:!0});Hn.fallback=mS;Hn.wrap=yS;var oL=Hn.hasQueueMicrotask=typeof queueMicrotask=="function"&&queueMicrotask,sL=Hn.hasSetImmediate=typeof setImmediate=="function"&&setImmediate,aL=Hn.hasNextTick=typeof process=="object"&&typeof process.nextTick=="function";function mS(t){setTimeout(t,0)}function yS(t){return(e,...r)=>t(()=>e(...r))}var ks;oL?ks=queueMicrotask:sL?ks=setImmediate:aL?ks=process.nextTick:ks=mS;Hn.default=yS(ks)});var SS=p((Nc,RS)=>{"use strict";Object.defineProperty(Nc,"__esModule",{value:!0});Nc.default=hL;var uL=pS(),cL=wS(uL),lL=vS(),fL=wS(lL),dL=qi();function wS(t){return t&&t.__esModule?t:{default:t}}function hL(t){return(0,dL.isAsync)(t)?function(...e){let r=e.pop(),n=t.apply(this,e);return bS(n,r)}:(0,cL.default)(function(e,r){var n;try{n=t.apply(this,e)}catch(i){return r(i)}if(n&&typeof n.then=="function")return bS(n,r);r(null,n)})}function bS(t,e){return t.then(r=>{_S(e,null,r)},r=>{_S(e,r&&(r instanceof Error||r.message)?r:new Error(r))})}function _S(t,e,r){try{t(e,r)}catch(n){(0,fL.default)(i=>{throw i},n)}}RS.exports=Nc.default});var qi=p(pn=>{"use strict";Object.defineProperty(pn,"__esModule",{value:!0});pn.isAsyncIterable=pn.isAsyncGenerator=pn.isAsync=void 0;var gL=SS(),pL=mL(gL);function mL(t){return t&&t.__esModule?t:{default:t}}function ES(t){return t[Symbol.toStringTag]==="AsyncFunction"}function yL(t){return t[Symbol.toStringTag]==="AsyncGenerator"}function vL(t){return typeof t[Symbol.asyncIterator]=="function"}function bL(t){if(typeof t!="function")throw new Error("expected a function");return ES(t)?(0,pL.default)(t):t}pn.default=bL;pn.isAsync=ES;pn.isAsyncGenerator=yL;pn.isAsyncIterable=vL});var To=p((Lc,DS)=>{"use strict";Object.defineProperty(Lc,"__esModule",{value:!0});Lc.default=_L;function _L(t,e){if(e||(e=t.length),!e)throw new Error("arity is undefined");function r(...n){return typeof n[e-1]=="function"?t.apply(this,n):new Promise((i,o)=>{n[e-1]=(s,...a)=>{if(s)return o(s);i(a.length>1?a:a[0])},t.apply(this,n)})}return r}DS.exports=Lc.default});var OS=p((xc,PS)=>{"use strict";Object.defineProperty(xc,"__esModule",{value:!0});var wL=Ac(),RL=Cg(wL),SL=qi(),EL=Cg(SL),DL=To(),PL=Cg(DL);function Cg(t){return t&&t.__esModule?t:{default:t}}xc.default=(0,PL.default)((t,e,r)=>{var n=(0,RL.default)(e)?[]:{};t(e,(i,o,s)=>{(0,EL.default)(i)((a,...u)=>{u.length<2&&([u]=u),n[o]=u,s(a)})},i=>r(i,n))},3);PS.exports=xc.default});var Ag=p((Ic,TS)=>{"use strict";Object.defineProperty(Ic,"__esModule",{value:!0});Ic.default=OL;function OL(t){function e(...r){if(t!==null){var n=t;t=null,n.apply(this,r)}}return Object.assign(e,t),e}TS.exports=Ic.default});var MS=p((kc,qS)=>{"use strict";Object.defineProperty(kc,"__esModule",{value:!0});kc.default=function(t){return t[Symbol.iterator]&&t[Symbol.iterator]()};qS.exports=kc.default});var jS=p((Fc,AS)=>{"use strict";Object.defineProperty(Fc,"__esModule",{value:!0});Fc.default=LL;var TL=Ac(),qL=CS(TL),ML=MS(),CL=CS(ML);function CS(t){return t&&t.__esModule?t:{default:t}}function AL(t){var e=-1,r=t.length;return function(){return++e<r?{value:t[e],key:e}:null}}function jL(t){var e=-1;return function(){var n=t.next();return n.done?null:(e++,{value:n.value,key:e})}}function NL(t){var e=t?Object.keys(t):[],r=-1,n=e.length;return function i(){var o=e[++r];return o==="__proto__"?i():r<n?{value:t[o],key:o}:null}}function LL(t){if((0,qL.default)(t))return AL(t);var e=(0,CL.default)(t);return e?jL(e):NL(t)}AS.exports=Fc.default});var jg=p(($c,NS)=>{"use strict";Object.defineProperty($c,"__esModule",{value:!0});$c.default=xL;function xL(t){return function(...e){if(t===null)throw new Error("Callback was already called.");var r=t;t=null,r.apply(this,e)}}NS.exports=$c.default});var Hc=p((Wc,LS)=>{"use strict";Object.defineProperty(Wc,"__esModule",{value:!0});var IL={};Wc.default=IL;LS.exports=Wc.default});var IS=p((Uc,xS)=>{"use strict";Object.defineProperty(Uc,"__esModule",{value:!0});Uc.default=WL;var kL=Hc(),FL=$L(kL);function $L(t){return t&&t.__esModule?t:{default:t}}function WL(t,e,r,n){let i=!1,o=!1,s=!1,a=0,u=0;function c(){a>=e||s||i||(s=!0,t.next().then(({value:g,done:_})=>{if(!(o||i)){if(s=!1,_){i=!0,a<=0&&n(null);return}a++,r(g,u,h),u++,c()}}).catch(d))}function h(g,_){if(a-=1,!o){if(g)return d(g);if(g===!1){i=!0,o=!0;return}if(_===FL.default||i&&a<=0)return i=!0,n(null);c()}}function d(g){o||(s=!1,i=!0,n(g))}c()}xS.exports=Uc.default});var WS=p((Bc,$S)=>{"use strict";Object.defineProperty(Bc,"__esModule",{value:!0});var HL=Ag(),UL=Fs(HL),BL=jS(),zL=Fs(BL),VL=jg(),GL=Fs(VL),kS=qi(),YL=IS(),FS=Fs(YL),KL=Hc(),XL=Fs(KL);function Fs(t){return t&&t.__esModule?t:{default:t}}Bc.default=t=>(e,r,n)=>{if(n=(0,UL.default)(n),t<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!e)return n(null);if((0,kS.isAsyncGenerator)(e))return(0,FS.default)(e,t,r,n);if((0,kS.isAsyncIterable)(e))return(0,FS.default)(e[Symbol.asyncIterator](),t,r,n);var i=(0,zL.default)(e),o=!1,s=!1,a=0,u=!1;function c(d,g){if(!s)if(a-=1,d)o=!0,n(d);else if(d===!1)o=!0,s=!0;else{if(g===XL.default||o&&a<=0)return o=!0,n(null);u||h()}}function h(){for(u=!0;a<t&&!o;){var d=i();if(d===null){o=!0,a<=0&&n(null);return}a+=1,r(d.value,d.key,(0,GL.default)(c))}u=!1}h()};$S.exports=Bc.default});var Lg=p((zc,HS)=>{"use strict";Object.defineProperty(zc,"__esModule",{value:!0});var JL=WS(),QL=Ng(JL),ZL=qi(),ex=Ng(ZL),tx=To(),rx=Ng(tx);function Ng(t){return t&&t.__esModule?t:{default:t}}function nx(t,e,r,n){return(0,QL.default)(e)(t,(0,ex.default)(r),n)}zc.default=(0,rx.default)(nx,4);HS.exports=zc.default});var zS=p((Vc,BS)=>{"use strict";Object.defineProperty(Vc,"__esModule",{value:!0});var ix=Lg(),ox=US(ix),sx=To(),ax=US(sx);function US(t){return t&&t.__esModule?t:{default:t}}function ux(t,e,r){return(0,ox.default)(t,1,e,r)}Vc.default=(0,ax.default)(ux,3);BS.exports=Vc.default});var YS=p((Gc,GS)=>{"use strict";Object.defineProperty(Gc,"__esModule",{value:!0});Gc.default=hx;var cx=OS(),lx=VS(cx),fx=zS(),dx=VS(fx);function VS(t){return t&&t.__esModule?t:{default:t}}function hx(t,e){return(0,lx.default)(dx.default,t,e)}GS.exports=Gc.default});var xg=p((u6,KS)=>{KS.exports=require("stream")});var ZS=p((c6,QS)=>{"use strict";function XS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XS(Object(r),!0).forEach(function(n){px(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function px(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mx(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function yx(t,e,r){return e&&JS(t.prototype,e),r&&JS(t,r),t}var vx=require("buffer"),Yc=vx.Buffer,bx=require("util"),Ig=bx.inspect,_x=Ig&&Ig.custom||"inspect";function wx(t,e,r){Yc.prototype.copy.call(t,e,r)}QS.exports=function(){function t(){mx(this,t),this.head=null,this.tail=null,this.length=0}return yx(t,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i}},{key:"concat",value:function(r){if(this.length===0)return Yc.alloc(0);for(var n=Yc.allocUnsafe(r>>>0),i=this.head,o=0;i;)wx(i.data,n,o),o+=i.data.length,i=i.next;return n}},{key:"consume",value:function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,i=1,o=n.data;for(r-=o.length;n=n.next;){var s=n.data,a=r>s.length?s.length:r;if(a===s.length?o+=s:o+=s.slice(0,r),r-=a,r===0){a===s.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=s.slice(a));break}++i}return this.length-=i,o}},{key:"_getBuffer",value:function(r){var n=Yc.allocUnsafe(r),i=this.head,o=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var s=i.data,a=r>s.length?s.length:r;if(s.copy(n,n.length-r,0,a),r-=a,r===0){a===s.length?(++o,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=s.slice(a));break}++o}return this.length-=o,n}},{key:_x,value:function(r,n){return Ig(this,gx({},n,{depth:0,customInspect:!1}))}}]),t}()});var Fg=p((l6,tE)=>{"use strict";function Rx(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(kg,this,t)):process.nextTick(kg,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?r._writableState?r._writableState.errorEmitted?process.nextTick(Kc,r):(r._writableState.errorEmitted=!0,process.nextTick(eE,r,o)):process.nextTick(eE,r,o):e?(process.nextTick(Kc,r),e(o)):process.nextTick(Kc,r)}),this)}function eE(t,e){kg(t,e),Kc(t)}function Kc(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function Sx(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function kg(t,e){t.emit("error",e)}function Ex(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}tE.exports={destroy:Rx,undestroy:Sx,errorOrDestroy:Ex}});var Un=p((f6,iE)=>{"use strict";var nE={};function ar(t,e,r){r||(r=Error);function n(o,s,a){return typeof e=="string"?e:e(o,s,a)}class i extends r{constructor(s,a,u){super(n(s,a,u))}}i.prototype.name=r.name,i.prototype.code=t,nE[t]=i}function rE(t,e){if(Array.isArray(t)){let r=t.length;return t=t.map(n=>String(n)),r>2?`one of ${e} ${t.slice(0,r-1).join(", ")}, or `+t[r-1]:r===2?`one of ${e} ${t[0]} or ${t[1]}`:`of ${e} ${t[0]}`}else return`of ${e} ${String(t)}`}function Dx(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function Px(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function Ox(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}ar("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);ar("ERR_INVALID_ARG_TYPE",function(t,e,r){let n;typeof e=="string"&&Dx(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";let i;if(Px(t," argument"))i=`The ${t} ${n} ${rE(e,"type")}`;else{let o=Ox(t,".")?"property":"argument";i=`The "${t}" ${o} ${n} ${rE(e,"type")}`}return i+=`. Received type ${typeof r}`,i},TypeError);ar("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");ar("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});ar("ERR_STREAM_PREMATURE_CLOSE","Premature close");ar("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});ar("ERR_MULTIPLE_CALLBACK","Callback called multiple times");ar("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");ar("ERR_STREAM_WRITE_AFTER_END","write after end");ar("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);ar("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);ar("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");iE.exports.codes=nE});var $g=p((d6,oE)=>{"use strict";var Tx=Un().codes.ERR_INVALID_OPT_VALUE;function qx(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function Mx(t,e,r,n){var i=qx(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var o=n?r:"highWaterMark";throw new Tx(o,i)}return Math.floor(i)}return t.objectMode?16:16*1024}oE.exports={getHighWaterMark:Mx}});var Ug=p((h6,fE)=>{"use strict";fE.exports=Ge;function aE(t){var e=this;this.next=null,this.entry=null,this.finish=function(){nI(e,t)}}var qo;Ge.WritableState=Ws;var Cx={deprecate:eg()},uE=xg(),Jc=require("buffer").Buffer,Ax=global.Uint8Array||function(){};function jx(t){return Jc.from(t)}function Nx(t){return Jc.isBuffer(t)||t instanceof Ax}var Hg=Fg(),Lx=$g(),xx=Lx.getHighWaterMark,Bn=Un().codes,Ix=Bn.ERR_INVALID_ARG_TYPE,kx=Bn.ERR_METHOD_NOT_IMPLEMENTED,Fx=Bn.ERR_MULTIPLE_CALLBACK,$x=Bn.ERR_STREAM_CANNOT_PIPE,Wx=Bn.ERR_STREAM_DESTROYED,Hx=Bn.ERR_STREAM_NULL_VALUES,Ux=Bn.ERR_STREAM_WRITE_AFTER_END,Bx=Bn.ERR_UNKNOWN_ENCODING,Mo=Hg.errorOrDestroy;hn()(Ge,uE);function zx(){}function Ws(t,e,r){qo=qo||Mi(),t=t||{},typeof r!="boolean"&&(r=e instanceof qo),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=xx(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){Qx(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new aE(this)}Ws.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(Ws.prototype,"buffer",{get:Cx.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Xc;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Xc=Function.prototype[Symbol.hasInstance],Object.defineProperty(Ge,Symbol.hasInstance,{value:function(e){return Xc.call(this,e)?!0:this!==Ge?!1:e&&e._writableState instanceof Ws}})):Xc=function(e){return e instanceof this};function Ge(t){qo=qo||Mi();var e=this instanceof qo;if(!e&&!Xc.call(Ge,this))return new Ge(t);this._writableState=new Ws(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),uE.call(this)}Ge.prototype.pipe=function(){Mo(this,new $x)};function Vx(t,e){var r=new Ux;Mo(t,r),process.nextTick(e,r)}function Gx(t,e,r,n){var i;return r===null?i=new Hx:typeof r!="string"&&!e.objectMode&&(i=new Ix("chunk",["string","Buffer"],r)),i?(Mo(t,i),process.nextTick(n,i),!1):!0}Ge.prototype.write=function(t,e,r){var n=this._writableState,i=!1,o=!n.objectMode&&Nx(t);return o&&!Jc.isBuffer(t)&&(t=jx(t)),typeof e=="function"&&(r=e,e=null),o?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=zx),n.ending?Vx(this,r):(o||Gx(this,n,t,r))&&(n.pendingcb++,i=Kx(this,n,o,t,e,r)),i};Ge.prototype.cork=function(){this._writableState.corked++};Ge.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&cE(this,t))};Ge.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new Bx(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(Ge.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Yx(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=Jc.from(e,r)),e}Object.defineProperty(Ge.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Kx(t,e,r,n,i,o){if(!r){var s=Yx(e,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=e.objectMode?1:n.length;e.length+=a;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else Wg(t,e,!1,a,n,i,o);return u}function Wg(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new Wx("write")):r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function Xx(t,e,r,n,i){--e.pendingcb,r?(process.nextTick(i,n),process.nextTick($s,t,e),t._writableState.errorEmitted=!0,Mo(t,n)):(i(n),t._writableState.errorEmitted=!0,Mo(t,n),$s(t,e))}function Jx(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function Qx(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new Fx;if(Jx(r),e)Xx(t,r,n,e,i);else{var o=lE(r)||t.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&cE(t,r),n?process.nextTick(sE,t,r,o,i):sE(t,r,o,i)}}function sE(t,e,r,n){r||Zx(t,e),e.pendingcb--,n(),$s(t,e)}function Zx(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function cE(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var s=0,a=!0;r;)i[s]=r,r.isBuf||(a=!1),r=r.next,s+=1;i.allBuffers=a,Wg(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new aE(e),e.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,c=r.encoding,h=r.callback,d=e.objectMode?1:u.length;if(Wg(t,e,!1,d,u,c,h),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}Ge.prototype._write=function(t,e,r){r(new kx("_write()"))};Ge.prototype._writev=null;Ge.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||rI(this,n,r),this};Object.defineProperty(Ge.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function lE(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function eI(t,e){t._final(function(r){e.pendingcb--,r&&Mo(t,r),e.prefinished=!0,t.emit("prefinish"),$s(t,e)})}function tI(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(eI,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function $s(t,e){var r=lE(e);if(r&&(tI(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function rI(t,e,r){e.ending=!0,$s(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function nI(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(Ge.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});Ge.prototype.destroy=Hg.destroy;Ge.prototype._undestroy=Hg.undestroy;Ge.prototype._destroy=function(t,e){e(t)}});var Mi=p((g6,hE)=>{"use strict";var iI=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};hE.exports=Ur;var dE=Vg(),zg=Ug();hn()(Ur,dE);for(Bg=iI(zg.prototype),Qc=0;Qc<Bg.length;Qc++)Zc=Bg[Qc],Ur.prototype[Zc]||(Ur.prototype[Zc]=zg.prototype[Zc]);var Bg,Zc,Qc;function Ur(t){if(!(this instanceof Ur))return new Ur(t);dE.call(this,t),zg.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",oI)))}Object.defineProperty(Ur.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(Ur.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(Ur.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function oI(){this._writableState.ended||process.nextTick(sI,this)}function sI(t){t.end()}Object.defineProperty(Ur.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var el=p((p6,mE)=>{"use strict";var gE=Un().codes.ERR_STREAM_PREMATURE_CLOSE;function aI(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function uI(){}function cI(t){return t.setHeader&&typeof t.abort=="function"}function pE(t,e,r){if(typeof e=="function")return pE(t,null,e);e||(e={}),r=aI(r||uI);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,o=function(){t.writable||a()},s=t._writableState&&t._writableState.finished,a=function(){i=!1,s=!0,n||r.call(t)},u=t._readableState&&t._readableState.endEmitted,c=function(){n=!1,u=!0,i||r.call(t)},h=function(y){r.call(t,y)},d=function(){var y;if(n&&!u)return(!t._readableState||!t._readableState.ended)&&(y=new gE),r.call(t,y);if(i&&!s)return(!t._writableState||!t._writableState.ended)&&(y=new gE),r.call(t,y)},g=function(){t.req.on("finish",a)};return cI(t)?(t.on("complete",a),t.on("abort",d),t.req?g():t.on("request",g)):i&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",c),t.on("finish",a),e.error!==!1&&t.on("error",h),t.on("close",d),function(){t.removeListener("complete",a),t.removeListener("abort",d),t.removeListener("request",g),t.req&&t.req.removeListener("finish",a),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",a),t.removeListener("end",c),t.removeListener("error",h),t.removeListener("close",d)}}mE.exports=pE});var vE=p((m6,yE)=>{"use strict";var tl;function zn(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var lI=el(),Vn=Symbol("lastResolve"),Ci=Symbol("lastReject"),Hs=Symbol("error"),rl=Symbol("ended"),Ai=Symbol("lastPromise"),Gg=Symbol("handlePromise"),ji=Symbol("stream");function Gn(t,e){return{value:t,done:e}}function fI(t){var e=t[Vn];if(e!==null){var r=t[ji].read();r!==null&&(t[Ai]=null,t[Vn]=null,t[Ci]=null,e(Gn(r,!1)))}}function dI(t){process.nextTick(fI,t)}function hI(t,e){return function(r,n){t.then(function(){if(e[rl]){r(Gn(void 0,!0));return}e[Gg](r,n)},n)}}var gI=Object.getPrototypeOf(function(){}),pI=Object.setPrototypeOf((tl={get stream(){return this[ji]},next:function(){var e=this,r=this[Hs];if(r!==null)return Promise.reject(r);if(this[rl])return Promise.resolve(Gn(void 0,!0));if(this[ji].destroyed)return new Promise(function(s,a){process.nextTick(function(){e[Hs]?a(e[Hs]):s(Gn(void 0,!0))})});var n=this[Ai],i;if(n)i=new Promise(hI(n,this));else{var o=this[ji].read();if(o!==null)return Promise.resolve(Gn(o,!1));i=new Promise(this[Gg])}return this[Ai]=i,i}},zn(tl,Symbol.asyncIterator,function(){return this}),zn(tl,"return",function(){var e=this;return new Promise(function(r,n){e[ji].destroy(null,function(i){if(i){n(i);return}r(Gn(void 0,!0))})})}),tl),gI),mI=function(e){var r,n=Object.create(pI,(r={},zn(r,ji,{value:e,writable:!0}),zn(r,Vn,{value:null,writable:!0}),zn(r,Ci,{value:null,writable:!0}),zn(r,Hs,{value:null,writable:!0}),zn(r,rl,{value:e._readableState.endEmitted,writable:!0}),zn(r,Gg,{value:function(o,s){var a=n[ji].read();a?(n[Ai]=null,n[Vn]=null,n[Ci]=null,o(Gn(a,!1))):(n[Vn]=o,n[Ci]=s)},writable:!0}),r));return n[Ai]=null,lI(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var o=n[Ci];o!==null&&(n[Ai]=null,n[Vn]=null,n[Ci]=null,o(i)),n[Hs]=i;return}var s=n[Vn];s!==null&&(n[Ai]=null,n[Vn]=null,n[Ci]=null,s(Gn(void 0,!0))),n[rl]=!0}),e.on("readable",dI.bind(null,n)),n};yE.exports=mI});var RE=p((y6,wE)=>{"use strict";function bE(t,e,r,n,i,o,s){try{var a=t[o](s),u=a.value}catch(c){r(c);return}a.done?e(u):Promise.resolve(u).then(n,i)}function yI(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function s(u){bE(o,n,i,s,a,"next",u)}function a(u){bE(o,n,i,s,a,"throw",u)}s(void 0)})}}function _E(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_E(Object(r),!0).forEach(function(n){bI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_E(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bI(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var _I=Un().codes.ERR_INVALID_ARG_TYPE;function wI(t,e,r){var n;if(e&&typeof e.next=="function")n=e;else if(e&&e[Symbol.asyncIterator])n=e[Symbol.asyncIterator]();else if(e&&e[Symbol.iterator])n=e[Symbol.iterator]();else throw new _I("iterable",["Iterable"],e);var i=new t(vI({objectMode:!0},r)),o=!1;i._read=function(){o||(o=!0,s())};function s(){return a.apply(this,arguments)}function a(){return a=yI(function*(){try{var u=yield n.next(),c=u.value,h=u.done;h?i.push(null):i.push(yield c)?s():o=!1}catch(d){i.destroy(d)}}),a.apply(this,arguments)}return i}wE.exports=wI});var Vg=p((b6,AE)=>{"use strict";AE.exports=we;var Co;we.ReadableState=PE;var v6=require("events").EventEmitter,DE=function(e,r){return e.listeners(r).length},Bs=xg(),nl=require("buffer").Buffer,RI=global.Uint8Array||function(){};function SI(t){return nl.from(t)}function EI(t){return nl.isBuffer(t)||t instanceof RI}var Yg=require("util"),pe;Yg&&Yg.debuglog?pe=Yg.debuglog("stream"):pe=function(){};var DI=ZS(),tp=Fg(),PI=$g(),OI=PI.getHighWaterMark,il=Un().codes,TI=il.ERR_INVALID_ARG_TYPE,qI=il.ERR_STREAM_PUSH_AFTER_EOF,MI=il.ERR_METHOD_NOT_IMPLEMENTED,CI=il.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Ao,Kg,Xg;hn()(we,Bs);var Us=tp.errorOrDestroy,Jg=["error","close","destroy","pause","resume"];function AI(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function PE(t,e,r){Co=Co||Mi(),t=t||{},typeof r!="boolean"&&(r=e instanceof Co),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=OI(this,t,"readableHighWaterMark",r),this.buffer=new DI,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Ao||(Ao=qs().StringDecoder),this.decoder=new Ao(t.encoding),this.encoding=t.encoding)}function we(t){if(Co=Co||Mi(),!(this instanceof we))return new we(t);var e=this instanceof Co;this._readableState=new PE(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),Bs.call(this)}Object.defineProperty(we.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});we.prototype.destroy=tp.destroy;we.prototype._undestroy=tp.undestroy;we.prototype._destroy=function(t,e){e(t)};we.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=nl.from(t,e),e=""),n=!0),OE(this,t,e,!1,n)};we.prototype.unshift=function(t){return OE(this,t,null,!0,!1)};function OE(t,e,r,n,i){pe("readableAddChunk",e);var o=t._readableState;if(e===null)o.reading=!1,LI(t,o);else{var s;if(i||(s=jI(o,e)),s)Us(t,s);else if(o.objectMode||e&&e.length>0)if(typeof e!="string"&&!o.objectMode&&Object.getPrototypeOf(e)!==nl.prototype&&(e=SI(e)),n)o.endEmitted?Us(t,new CI):Qg(t,o,e,!0);else if(o.ended)Us(t,new qI);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||e.length!==0?Qg(t,o,e,!1):ep(t,o)):Qg(t,o,e,!1)}else n||(o.reading=!1,ep(t,o))}return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function Qg(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&ol(t)),ep(t,e)}function jI(t,e){var r;return!EI(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new TI("chunk",["string","Buffer","Uint8Array"],e)),r}we.prototype.isPaused=function(){return this._readableState.flowing===!1};we.prototype.setEncoding=function(t){Ao||(Ao=qs().StringDecoder);var e=new Ao(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var SE=1073741824;function NI(t){return t>=SE?t=SE:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function EE(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=NI(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}we.prototype.read=function(t){pe("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return pe("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?Zg(this):ol(this),null;if(t=EE(t,e),t===0&&e.ended)return e.length===0&&Zg(this),null;var n=e.needReadable;pe("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,pe("length less than watermark",n)),e.ended||e.reading?(n=!1,pe("reading or ended",n)):n&&(pe("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=EE(r,e)));var i;return t>0?i=ME(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&Zg(this)),i!==null&&this.emit("data",i),i};function LI(t,e){if(pe("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?ol(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,TE(t)))}}function ol(t){var e=t._readableState;pe("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(pe("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(TE,t))}function TE(t){var e=t._readableState;pe("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,rp(t)}function ep(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(xI,t,e))}function xI(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(pe("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}we.prototype._read=function(t){Us(this,new MI("_read()"))};we.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,pe("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,o=i?a:E;n.endEmitted?process.nextTick(o):r.once("end",o),t.on("unpipe",s);function s(C,O){pe("onunpipe"),C===r&&O&&O.hasUnpiped===!1&&(O.hasUnpiped=!0,h())}function a(){pe("onend"),t.end()}var u=II(r);t.on("drain",u);var c=!1;function h(){pe("cleanup"),t.removeListener("close",_),t.removeListener("finish",y),t.removeListener("drain",u),t.removeListener("error",g),t.removeListener("unpipe",s),r.removeListener("end",a),r.removeListener("end",E),r.removeListener("data",d),c=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&u()}r.on("data",d);function d(C){pe("ondata");var O=t.write(C);pe("dest.write",O),O===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&CE(n.pipes,t)!==-1)&&!c&&(pe("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function g(C){pe("onerror",C),E(),t.removeListener("error",g),DE(t,"error")===0&&Us(t,C)}AI(t,"error",g);function _(){t.removeListener("finish",y),E()}t.once("close",_);function y(){pe("onfinish"),t.removeListener("close",_),E()}t.once("finish",y);function E(){pe("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(pe("pipe resume"),r.resume()),t};function II(t){return function(){var r=t._readableState;pe("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&DE(t,"data")&&(r.flowing=!0,rp(t))}}we.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=CE(e.pipes,t);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};we.prototype.on=function(t,e){var r=Bs.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,pe("on readable",n.length,n.reading),n.length?ol(this):n.reading||process.nextTick(kI,this)),r};we.prototype.addListener=we.prototype.on;we.prototype.removeListener=function(t,e){var r=Bs.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(qE,this),r};we.prototype.removeAllListeners=function(t){var e=Bs.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(qE,this),e};function qE(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function kI(t){pe("readable nexttick read 0"),t.read(0)}we.prototype.resume=function(){var t=this._readableState;return t.flowing||(pe("resume"),t.flowing=!t.readableListening,FI(this,t)),t.paused=!1,this};function FI(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick($I,t,e))}function $I(t,e){pe("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),rp(t),e.flowing&&!e.reading&&t.read(0)}we.prototype.pause=function(){return pe("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(pe("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function rp(t){var e=t._readableState;for(pe("flow",e.flowing);e.flowing&&t.read()!==null;);}we.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(pe("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&e.push(s)}e.push(null)}),t.on("data",function(s){if(pe("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var a=e.push(s);a||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(a){return function(){return t[a].apply(t,arguments)}}(i));for(var o=0;o<Jg.length;o++)t.on(Jg[o],this.emit.bind(this,Jg[o]));return this._read=function(s){pe("wrapped _read",s),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(we.prototype[Symbol.asyncIterator]=function(){return Kg===void 0&&(Kg=vE()),Kg(this)});Object.defineProperty(we.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(we.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(we.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});we._fromList=ME;Object.defineProperty(we.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ME(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function Zg(t){var e=t._readableState;pe("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(WI,e,t))}function WI(t,e){if(pe("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(we.from=function(t,e){return Xg===void 0&&(Xg=RE()),Xg(we,t,e)});function CE(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var np=p((_6,NE)=>{"use strict";NE.exports=mn;var sl=Un().codes,HI=sl.ERR_METHOD_NOT_IMPLEMENTED,UI=sl.ERR_MULTIPLE_CALLBACK,BI=sl.ERR_TRANSFORM_ALREADY_TRANSFORMING,zI=sl.ERR_TRANSFORM_WITH_LENGTH_0,al=Mi();hn()(mn,al);function VI(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new UI);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function mn(t){if(!(this instanceof mn))return new mn(t);al.call(this,t),this._transformState={afterTransform:VI.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",GI)}function GI(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){jE(t,e,r)}):jE(this,null,null)}mn.prototype.push=function(t,e){return this._transformState.needTransform=!1,al.prototype.push.call(this,t,e)};mn.prototype._transform=function(t,e,r){r(new HI("_transform()"))};mn.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};mn.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};mn.prototype._destroy=function(t,e){al.prototype._destroy.call(this,t,function(r){e(r)})};function jE(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new zI;if(t._transformState.transforming)throw new BI;return t.push(null)}});var IE=p((w6,xE)=>{"use strict";xE.exports=zs;var LE=np();hn()(zs,LE);function zs(t){if(!(this instanceof zs))return new zs(t);LE.call(this,t)}zs.prototype._transform=function(t,e,r){r(null,t)}});var HE=p((R6,WE)=>{"use strict";var ip;function YI(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var $E=Un().codes,KI=$E.ERR_MISSING_ARGS,XI=$E.ERR_STREAM_DESTROYED;function kE(t){if(t)throw t}function JI(t){return t.setHeader&&typeof t.abort=="function"}function QI(t,e,r,n){n=YI(n);var i=!1;t.on("close",function(){i=!0}),ip===void 0&&(ip=el()),ip(t,{readable:e,writable:r},function(s){if(s)return n(s);i=!0,n()});var o=!1;return function(s){if(!i&&!o){if(o=!0,JI(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(s||new XI("pipe"))}}}function FE(t){t()}function ZI(t,e){return t.pipe(e)}function ek(t){return!t.length||typeof t[t.length-1]!="function"?kE:t.pop()}function tk(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=ek(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new KI("streams");var i,o=e.map(function(s,a){var u=a<e.length-1,c=a>0;return QI(s,u,c,function(h){i||(i=h),h&&o.forEach(FE),!u&&(o.forEach(FE),n(i))})});return e.reduce(ZI)}WE.exports=tk});var Ni=p((ur,Gs)=>{var Vs=require("stream");process.env.READABLE_STREAM==="disable"&&Vs?(Gs.exports=Vs.Readable,Object.assign(Gs.exports,Vs),Gs.exports.Stream=Vs):(ur=Gs.exports=Vg(),ur.Stream=Vs||ur,ur.Readable=ur,ur.Writable=Ug(),ur.Duplex=Mi(),ur.Transform=np(),ur.PassThrough=IE(),ur.finished=el(),ur.pipeline=HE())});var fp=p((S6,BE)=>{var jo=[],Ys=[],op=function(){};function ap(t){return~jo.indexOf(t)?!1:(jo.push(t),!0)}function up(t){op=t}function rk(t){for(var e=[],r=0;r<jo.length;r++){if(jo[r].async){e.push(jo[r]);continue}if(jo[r](t))return!0}return e.length?new Promise(function(i){Promise.all(e.map(function(s){return s(t)})).then(function(s){i(s.some(Boolean))})}):!1}function cp(t){return~Ys.indexOf(t)?!1:(Ys.push(t),!0)}function sp(){op.apply(op,arguments)}function UE(t){for(var e=0;e<Ys.length;e++)t=Ys[e].apply(Ys[e],arguments);return t}function lp(t,e){var r=Object.prototype.hasOwnProperty;for(var n in e)r.call(e,n)&&(t[n]=e[n]);return t}function nk(t){return t.enabled=!1,t.modify=cp,t.set=up,t.use=ap,lp(function(){return!1},t)}function ik(t){function e(){var r=Array.prototype.slice.call(arguments,0);return sp.call(sp,t,UE(r,t)),!0}return t.enabled=!0,t.modify=cp,t.set=up,t.use=ap,lp(e,t)}BE.exports=function(e){return e.introduce=lp,e.enabled=rk,e.process=UE,e.modify=cp,e.write=sp,e.nope=nk,e.yep=ik,e.set=up,e.use=ap,e}});var VE=p((E6,zE)=>{var ok=fp(),sk=ok(function t(e,r){return r=r||{},r.namespace=e,r.prod=!0,r.dev=!1,r.force||t.force?t.yep(r):t.nope(r)});zE.exports=sk});var dp=p((D6,GE)=>{"use strict";GE.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var KE=p((P6,YE)=>{YE.exports=function(e){return!e||typeof e=="string"?!1:e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&e.constructor.name!=="String")}});var QE=p((O6,JE)=>{"use strict";var ak=KE(),uk=Array.prototype.concat,ck=Array.prototype.slice,XE=JE.exports=function(e){for(var r=[],n=0,i=e.length;n<i;n++){var o=e[n];ak(o)?r=uk.call(r,ck.call(o)):r.push(o)}return r};XE.wrap=function(t){return function(){return t(XE(arguments))}}});var t1=p((T6,e1)=>{var ll=dp(),Ks=QE(),ZE={};for(ul in ll)ll.hasOwnProperty(ul)&&(ZE[ll[ul]]=ul);var ul,Jt=e1.exports={to:{},get:{}};Jt.get=function(t){var e=t.substring(0,3).toLowerCase(),r,n;switch(e){case"hsl":r=Jt.get.hsl(t),n="hsl";break;case"hwb":r=Jt.get.hwb(t),n="hwb";break;default:r=Jt.get.rgb(t),n="rgb";break}return r?{model:n,value:r}:null};Jt.get.rgb=function(t){if(!t)return null;var e=/^#([a-f0-9]{3,4})$/i,r=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,n=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,i=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,o=/(\D+)/,s=[0,0,0,1],a,u,c;if(a=t.match(r)){for(c=a[2],a=a[1],u=0;u<3;u++){var h=u*2;s[u]=parseInt(a.slice(h,h+2),16)}c&&(s[3]=parseInt(c,16)/255)}else if(a=t.match(e)){for(a=a[1],c=a[3],u=0;u<3;u++)s[u]=parseInt(a[u]+a[u],16);c&&(s[3]=parseInt(c+c,16)/255)}else if(a=t.match(n)){for(u=0;u<3;u++)s[u]=parseInt(a[u+1],0);a[4]&&(s[3]=parseFloat(a[4]))}else if(a=t.match(i)){for(u=0;u<3;u++)s[u]=Math.round(parseFloat(a[u+1])*2.55);a[4]&&(s[3]=parseFloat(a[4]))}else return(a=t.match(o))?a[1]==="transparent"?[0,0,0,0]:(s=ll[a[1]],s?(s[3]=1,s):null):null;for(u=0;u<3;u++)s[u]=Yn(s[u],0,255);return s[3]=Yn(s[3],0,1),s};Jt.get.hsl=function(t){if(!t)return null;var e=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?[\d\.]+)\s*)?\)$/,r=t.match(e);if(r){var n=parseFloat(r[4]),i=(parseFloat(r[1])+360)%360,o=Yn(parseFloat(r[2]),0,100),s=Yn(parseFloat(r[3]),0,100),a=Yn(isNaN(n)?1:n,0,1);return[i,o,s,a]}return null};Jt.get.hwb=function(t){if(!t)return null;var e=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,r=t.match(e);if(r){var n=parseFloat(r[4]),i=(parseFloat(r[1])%360+360)%360,o=Yn(parseFloat(r[2]),0,100),s=Yn(parseFloat(r[3]),0,100),a=Yn(isNaN(n)?1:n,0,1);return[i,o,s,a]}return null};Jt.to.hex=function(){var t=Ks(arguments);return"#"+cl(t[0])+cl(t[1])+cl(t[2])+(t[3]<1?cl(Math.round(t[3]*255)):"")};Jt.to.rgb=function(){var t=Ks(arguments);return t.length<4||t[3]===1?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"};Jt.to.rgb.percent=function(){var t=Ks(arguments),e=Math.round(t[0]/255*100),r=Math.round(t[1]/255*100),n=Math.round(t[2]/255*100);return t.length<4||t[3]===1?"rgb("+e+"%, "+r+"%, "+n+"%)":"rgba("+e+"%, "+r+"%, "+n+"%, "+t[3]+")"};Jt.to.hsl=function(){var t=Ks(arguments);return t.length<4||t[3]===1?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"};Jt.to.hwb=function(){var t=Ks(arguments),e="";return t.length>=4&&t[3]!==1&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"};Jt.to.keyword=function(t){return ZE[t.slice(0,3)]};function Yn(t,e,r){return Math.min(Math.max(e,t),r)}function cl(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}});var hp=p((q6,o1)=>{var Li=dp(),i1={};for(fl in Li)Li.hasOwnProperty(fl)&&(i1[Li[fl]]=fl);var fl,Q=o1.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(Rt in Q)if(Q.hasOwnProperty(Rt)){if(!("channels"in Q[Rt]))throw new Error("missing channels property: "+Rt);if(!("labels"in Q[Rt]))throw new Error("missing channel labels property: "+Rt);if(Q[Rt].labels.length!==Q[Rt].channels)throw new Error("channel and label counts mismatch: "+Rt);r1=Q[Rt].channels,n1=Q[Rt].labels,delete Q[Rt].channels,delete Q[Rt].labels,Object.defineProperty(Q[Rt],"channels",{value:r1}),Object.defineProperty(Q[Rt],"labels",{value:n1})}var r1,n1,Rt;Q.rgb.hsl=function(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(e,r,n),o=Math.max(e,r,n),s=o-i,a,u,c;return o===i?a=0:e===o?a=(r-n)/s:r===o?a=2+(n-e)/s:n===o&&(a=4+(e-r)/s),a=Math.min(a*60,360),a<0&&(a+=360),c=(i+o)/2,o===i?u=0:c<=.5?u=s/(o+i):u=s/(2-o-i),[a,u*100,c*100]};Q.rgb.hsv=function(t){var e,r,n,i,o,s=t[0]/255,a=t[1]/255,u=t[2]/255,c=Math.max(s,a,u),h=c-Math.min(s,a,u),d=function(g){return(c-g)/6/h+1/2};return h===0?i=o=0:(o=h/c,e=d(s),r=d(a),n=d(u),s===c?i=n-r:a===c?i=1/3+e-n:u===c&&(i=2/3+r-e),i<0?i+=1:i>1&&(i-=1)),[i*360,o*100,c*100]};Q.rgb.hwb=function(t){var e=t[0],r=t[1],n=t[2],i=Q.rgb.hsl(t)[0],o=1/255*Math.min(e,Math.min(r,n));return n=1-1/255*Math.max(e,Math.max(r,n)),[i,o*100,n*100]};Q.rgb.cmyk=function(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,i,o,s,a;return a=Math.min(1-e,1-r,1-n),i=(1-e-a)/(1-a)||0,o=(1-r-a)/(1-a)||0,s=(1-n-a)/(1-a)||0,[i*100,o*100,s*100,a*100]};function lk(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2)}Q.rgb.keyword=function(t){var e=i1[t];if(e)return e;var r=1/0,n;for(var i in Li)if(Li.hasOwnProperty(i)){var o=Li[i],s=lk(t,o);s<r&&(r=s,n=i)}return n};Q.keyword.rgb=function(t){return Li[t]};Q.rgb.xyz=function(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255;e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92;var i=e*.4124+r*.3576+n*.1805,o=e*.2126+r*.7152+n*.0722,s=e*.0193+r*.1192+n*.9505;return[i*100,o*100,s*100]};Q.rgb.lab=function(t){var e=Q.rgb.xyz(t),r=e[0],n=e[1],i=e[2],o,s,a;return r/=95.047,n/=100,i/=108.883,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,o=116*n-16,s=500*(r-n),a=200*(n-i),[o,s,a]};Q.hsl.rgb=function(t){var e=t[0]/360,r=t[1]/100,n=t[2]/100,i,o,s,a,u;if(r===0)return u=n*255,[u,u,u];n<.5?o=n*(1+r):o=n+r-n*r,i=2*n-o,a=[0,0,0];for(var c=0;c<3;c++)s=e+1/3*-(c-1),s<0&&s++,s>1&&s--,6*s<1?u=i+(o-i)*6*s:2*s<1?u=o:3*s<2?u=i+(o-i)*(2/3-s)*6:u=i,a[c]=u*255;return a};Q.hsl.hsv=function(t){var e=t[0],r=t[1]/100,n=t[2]/100,i=r,o=Math.max(n,.01),s,a;return n*=2,r*=n<=1?n:2-n,i*=o<=1?o:2-o,a=(n+r)/2,s=n===0?2*i/(o+i):2*r/(n+r),[e,s*100,a*100]};Q.hsv.rgb=function(t){var e=t[0]/60,r=t[1]/100,n=t[2]/100,i=Math.floor(e)%6,o=e-Math.floor(e),s=255*n*(1-r),a=255*n*(1-r*o),u=255*n*(1-r*(1-o));switch(n*=255,i){case 0:return[n,u,s];case 1:return[a,n,s];case 2:return[s,n,u];case 3:return[s,a,n];case 4:return[u,s,n];case 5:return[n,s,a]}};Q.hsv.hsl=function(t){var e=t[0],r=t[1]/100,n=t[2]/100,i=Math.max(n,.01),o,s,a;return a=(2-r)*n,o=(2-r)*i,s=r*i,s/=o<=1?o:2-o,s=s||0,a/=2,[e,s*100,a*100]};Q.hwb.rgb=function(t){var e=t[0]/360,r=t[1]/100,n=t[2]/100,i=r+n,o,s,a,u;i>1&&(r/=i,n/=i),o=Math.floor(6*e),s=1-n,a=6*e-o,(o&1)!==0&&(a=1-a),u=r+a*(s-r);var c,h,d;switch(o){default:case 6:case 0:c=s,h=u,d=r;break;case 1:c=u,h=s,d=r;break;case 2:c=r,h=s,d=u;break;case 3:c=r,h=u,d=s;break;case 4:c=u,h=r,d=s;break;case 5:c=s,h=r,d=u;break}return[c*255,h*255,d*255]};Q.cmyk.rgb=function(t){var e=t[0]/100,r=t[1]/100,n=t[2]/100,i=t[3]/100,o,s,a;return o=1-Math.min(1,e*(1-i)+i),s=1-Math.min(1,r*(1-i)+i),a=1-Math.min(1,n*(1-i)+i),[o*255,s*255,a*255]};Q.xyz.rgb=function(t){var e=t[0]/100,r=t[1]/100,n=t[2]/100,i,o,s;return i=e*3.2406+r*-1.5372+n*-.4986,o=e*-.9689+r*1.8758+n*.0415,s=e*.0557+r*-.204+n*1.057,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*12.92,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o*12.92,s=s>.0031308?1.055*Math.pow(s,1/2.4)-.055:s*12.92,i=Math.min(Math.max(0,i),1),o=Math.min(Math.max(0,o),1),s=Math.min(Math.max(0,s),1),[i*255,o*255,s*255]};Q.xyz.lab=function(t){var e=t[0],r=t[1],n=t[2],i,o,s;return e/=95.047,r/=100,n/=108.883,e=e>.008856?Math.pow(e,1/3):7.787*e+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,i=116*r-16,o=500*(e-r),s=200*(r-n),[i,o,s]};Q.lab.xyz=function(t){var e=t[0],r=t[1],n=t[2],i,o,s;o=(e+16)/116,i=r/500+o,s=o-n/200;var a=Math.pow(o,3),u=Math.pow(i,3),c=Math.pow(s,3);return o=a>.008856?a:(o-16/116)/7.787,i=u>.008856?u:(i-16/116)/7.787,s=c>.008856?c:(s-16/116)/7.787,i*=95.047,o*=100,s*=108.883,[i,o,s]};Q.lab.lch=function(t){var e=t[0],r=t[1],n=t[2],i,o,s;return i=Math.atan2(n,r),o=i*360/2/Math.PI,o<0&&(o+=360),s=Math.sqrt(r*r+n*n),[e,s,o]};Q.lch.lab=function(t){var e=t[0],r=t[1],n=t[2],i,o,s;return s=n/360*2*Math.PI,i=r*Math.cos(s),o=r*Math.sin(s),[e,i,o]};Q.rgb.ansi16=function(t){var e=t[0],r=t[1],n=t[2],i=1 in arguments?arguments[1]:Q.rgb.hsv(t)[2];if(i=Math.round(i/50),i===0)return 30;var o=30+(Math.round(n/255)<<2|Math.round(r/255)<<1|Math.round(e/255));return i===2&&(o+=60),o};Q.hsv.ansi16=function(t){return Q.rgb.ansi16(Q.hsv.rgb(t),t[2])};Q.rgb.ansi256=function(t){var e=t[0],r=t[1],n=t[2];if(e===r&&r===n)return e<8?16:e>248?231:Math.round((e-8)/247*24)+232;var i=16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5);return i};Q.ansi16.rgb=function(t){var e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];var r=(~~(t>50)+1)*.5,n=(e&1)*r*255,i=(e>>1&1)*r*255,o=(e>>2&1)*r*255;return[n,i,o]};Q.ansi256.rgb=function(t){if(t>=232){var e=(t-232)*10+8;return[e,e,e]}t-=16;var r,n=Math.floor(t/36)/5*255,i=Math.floor((r=t%36)/6)/5*255,o=r%6/5*255;return[n,i,o]};Q.rgb.hex=function(t){var e=((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255),r=e.toString(16).toUpperCase();return"000000".substring(r.length)+r};Q.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var r=e[0];e[0].length===3&&(r=r.split("").map(function(a){return a+a}).join(""));var n=parseInt(r,16),i=n>>16&255,o=n>>8&255,s=n&255;return[i,o,s]};Q.rgb.hcg=function(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.max(Math.max(e,r),n),o=Math.min(Math.min(e,r),n),s=i-o,a,u;return s<1?a=o/(1-s):a=0,s<=0?u=0:i===e?u=(r-n)/s%6:i===r?u=2+(n-e)/s:u=4+(e-r)/s+4,u/=6,u%=1,[u*360,s*100,a*100]};Q.hsl.hcg=function(t){var e=t[1]/100,r=t[2]/100,n=1,i=0;return r<.5?n=2*e*r:n=2*e*(1-r),n<1&&(i=(r-.5*n)/(1-n)),[t[0],n*100,i*100]};Q.hsv.hcg=function(t){var e=t[1]/100,r=t[2]/100,n=e*r,i=0;return n<1&&(i=(r-n)/(1-n)),[t[0],n*100,i*100]};Q.hcg.rgb=function(t){var e=t[0]/360,r=t[1]/100,n=t[2]/100;if(r===0)return[n*255,n*255,n*255];var i=[0,0,0],o=e%1*6,s=o%1,a=1-s,u=0;switch(Math.floor(o)){case 0:i[0]=1,i[1]=s,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=s;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=s,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return u=(1-r)*n,[(r*i[0]+u)*255,(r*i[1]+u)*255,(r*i[2]+u)*255]};Q.hcg.hsv=function(t){var e=t[1]/100,r=t[2]/100,n=e+r*(1-e),i=0;return n>0&&(i=e/n),[t[0],i*100,n*100]};Q.hcg.hsl=function(t){var e=t[1]/100,r=t[2]/100,n=r*(1-e)+.5*e,i=0;return n>0&&n<.5?i=e/(2*n):n>=.5&&n<1&&(i=e/(2*(1-n))),[t[0],i*100,n*100]};Q.hcg.hwb=function(t){var e=t[1]/100,r=t[2]/100,n=e+r*(1-e);return[t[0],(n-e)*100,(1-n)*100]};Q.hwb.hcg=function(t){var e=t[1]/100,r=t[2]/100,n=1-r,i=n-e,o=0;return i<1&&(o=(n-i)/(1-i)),[t[0],i*100,o*100]};Q.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};Q.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};Q.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};Q.gray.hsl=Q.gray.hsv=function(t){return[0,0,t[0]]};Q.gray.hwb=function(t){return[0,100,t[0]]};Q.gray.cmyk=function(t){return[0,0,0,t[0]]};Q.gray.lab=function(t){return[t[0],0,0]};Q.gray.hex=function(t){var e=Math.round(t[0]/100*255)&255,r=(e<<16)+(e<<8)+e,n=r.toString(16).toUpperCase();return"000000".substring(n.length)+n};Q.rgb.gray=function(t){var e=(t[0]+t[1]+t[2])/3;return[e/255*100]}});var a1=p((M6,s1)=>{var dl=hp();function fk(){for(var t={},e=Object.keys(dl),r=e.length,n=0;n<r;n++)t[e[n]]={distance:-1,parent:null};return t}function dk(t){var e=fk(),r=[t];for(e[t].distance=0;r.length;)for(var n=r.pop(),i=Object.keys(dl[n]),o=i.length,s=0;s<o;s++){var a=i[s],u=e[a];u.distance===-1&&(u.distance=e[n].distance+1,u.parent=n,r.unshift(a))}return e}function hk(t,e){return function(r){return e(t(r))}}function gk(t,e){for(var r=[e[t].parent,t],n=dl[e[t].parent][t],i=e[t].parent;e[i].parent;)r.unshift(e[i].parent),n=hk(dl[e[i].parent][i],n),i=e[i].parent;return n.conversion=r,n}s1.exports=function(t){for(var e=dk(t),r={},n=Object.keys(e),i=n.length,o=0;o<i;o++){var s=n[o],a=e[s];a.parent!==null&&(r[s]=gk(s,e))}return r}});var c1=p((C6,u1)=>{var gp=hp(),pk=a1(),No={},mk=Object.keys(gp);function yk(t){var e=function(r){return r==null?r:(arguments.length>1&&(r=Array.prototype.slice.call(arguments)),t(r))};return"conversion"in t&&(e.conversion=t.conversion),e}function vk(t){var e=function(r){if(r==null)return r;arguments.length>1&&(r=Array.prototype.slice.call(arguments));var n=t(r);if(typeof n=="object")for(var i=n.length,o=0;o<i;o++)n[o]=Math.round(n[o]);return n};return"conversion"in t&&(e.conversion=t.conversion),e}mk.forEach(function(t){No[t]={},Object.defineProperty(No[t],"channels",{value:gp[t].channels}),Object.defineProperty(No[t],"labels",{value:gp[t].labels});var e=pk(t),r=Object.keys(e);r.forEach(function(n){var i=e[n];No[t][n]=vk(i),No[t][n].raw=yk(i)})});u1.exports=No});var d1=p((A6,f1)=>{"use strict";var Xs=t1(),Qt=c1(),yp=[].slice,l1=["keyword","gray","hex"],pp={};Object.keys(Qt).forEach(function(t){pp[yp.call(Qt[t].labels).sort().join("")]=t});var hl={};function ct(t,e){if(!(this instanceof ct))return new ct(t,e);if(e&&e in l1&&(e=null),e&&!(e in Qt))throw new Error("Unknown model: "+e);var r,n;if(t==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof ct)this.model=t.model,this.color=t.color.slice(),this.valpha=t.valpha;else if(typeof t=="string"){var i=Xs.get(t);if(i===null)throw new Error("Unable to parse color from string: "+t);this.model=i.model,n=Qt[this.model].channels,this.color=i.value.slice(0,n),this.valpha=typeof i.value[n]=="number"?i.value[n]:1}else if(t.length){this.model=e||"rgb",n=Qt[this.model].channels;var o=yp.call(t,0,n);this.color=mp(o,n),this.valpha=typeof t[n]=="number"?t[n]:1}else if(typeof t=="number")t&=16777215,this.model="rgb",this.color=[t>>16&255,t>>8&255,t&255],this.valpha=1;else{this.valpha=1;var s=Object.keys(t);"alpha"in t&&(s.splice(s.indexOf("alpha"),1),this.valpha=typeof t.alpha=="number"?t.alpha:0);var a=s.sort().join("");if(!(a in pp))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=pp[a];var u=Qt[this.model].labels,c=[];for(r=0;r<u.length;r++)c.push(t[u[r]]);this.color=mp(c)}if(hl[this.model])for(n=Qt[this.model].channels,r=0;r<n;r++){var h=hl[this.model][r];h&&(this.color[r]=h(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}ct.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(t){var e=this.model in Xs.to?this:this.rgb();e=e.round(typeof t=="number"?t:1);var r=e.valpha===1?e.color:e.color.concat(this.valpha);return Xs.to[e.model](r)},percentString:function(t){var e=this.rgb().round(typeof t=="number"?t:1),r=e.valpha===1?e.color:e.color.concat(this.valpha);return Xs.to.rgb.percent(r)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var t={},e=Qt[this.model].channels,r=Qt[this.model].labels,n=0;n<e;n++)t[r[n]]=this.color[n];return this.valpha!==1&&(t.alpha=this.valpha),t},unitArray:function(){var t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,this.valpha!==1&&t.push(this.valpha),t},unitObject:function(){var t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,this.valpha!==1&&(t.alpha=this.valpha),t},round:function(t){return t=Math.max(t||0,0),new ct(this.color.map(_k(t)).concat(this.valpha),this.model)},alpha:function(t){return arguments.length?new ct(this.color.concat(Math.max(0,Math.min(1,t))),this.model):this.valpha},red:Ye("rgb",0,et(255)),green:Ye("rgb",1,et(255)),blue:Ye("rgb",2,et(255)),hue:Ye(["hsl","hsv","hsl","hwb","hcg"],0,function(t){return(t%360+360)%360}),saturationl:Ye("hsl",1,et(100)),lightness:Ye("hsl",2,et(100)),saturationv:Ye("hsv",1,et(100)),value:Ye("hsv",2,et(100)),chroma:Ye("hcg",1,et(100)),gray:Ye("hcg",2,et(100)),white:Ye("hwb",1,et(100)),wblack:Ye("hwb",2,et(100)),cyan:Ye("cmyk",0,et(100)),magenta:Ye("cmyk",1,et(100)),yellow:Ye("cmyk",2,et(100)),black:Ye("cmyk",3,et(100)),x:Ye("xyz",0,et(100)),y:Ye("xyz",1,et(100)),z:Ye("xyz",2,et(100)),l:Ye("lab",0,et(100)),a:Ye("lab",1),b:Ye("lab",2),keyword:function(t){return arguments.length?new ct(t):Qt[this.model].keyword(this.color)},hex:function(t){return arguments.length?new ct(t):Xs.to.hex(this.rgb().round().color)},rgbNumber:function(){var t=this.rgb().color;return(t[0]&255)<<16|(t[1]&255)<<8|t[2]&255},luminosity:function(){for(var t=this.rgb().color,e=[],r=0;r<t.length;r++){var n=t[r]/255;e[r]=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}return .2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),r=t.luminosity();return e>r?(e+.05)/(r+.05):(r+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},isDark:function(){var t=this.rgb().color,e=(t[0]*299+t[1]*587+t[2]*114)/1e3;return e<128},isLight:function(){return!this.isDark()},negate:function(){for(var t=this.rgb(),e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten:function(t){var e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken:function(t){var e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate:function(t){var e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate:function(t){var e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten:function(t){var e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken:function(t){var e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale:function(){var t=this.rgb().color,e=t[0]*.3+t[1]*.59+t[2]*.11;return ct.rgb(e,e,e)},fade:function(t){return this.alpha(this.valpha-this.valpha*t)},opaquer:function(t){return this.alpha(this.valpha+this.valpha*t)},rotate:function(t){var e=this.hsl(),r=e.color[0];return r=(r+t)%360,r=r<0?360+r:r,e.color[0]=r,e},mix:function(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);var r=t.rgb(),n=this.rgb(),i=e===void 0?.5:e,o=2*i-1,s=r.alpha()-n.alpha(),a=((o*s===-1?o:(o+s)/(1+o*s))+1)/2,u=1-a;return ct.rgb(a*r.red()+u*n.red(),a*r.green()+u*n.green(),a*r.blue()+u*n.blue(),r.alpha()*i+n.alpha()*(1-i))}};Object.keys(Qt).forEach(function(t){if(l1.indexOf(t)===-1){var e=Qt[t].channels;ct.prototype[t]=function(){if(this.model===t)return new ct(this);if(arguments.length)return new ct(arguments,t);var r=typeof arguments[e]=="number"?e:this.valpha;return new ct(wk(Qt[this.model][t].raw(this.color)).concat(r),t)},ct[t]=function(r){return typeof r=="number"&&(r=mp(yp.call(arguments),e)),new ct(r,t)}}});function bk(t,e){return Number(t.toFixed(e))}function _k(t){return function(e){return bk(e,t)}}function Ye(t,e,r){return t=Array.isArray(t)?t:[t],t.forEach(function(n){(hl[n]||(hl[n]=[]))[e]=r}),t=t[0],function(n){var i;return arguments.length?(r&&(n=r(n)),i=this[t](),i.color[e]=n,i):(i=this[t]().color[e],r&&(i=r(i)),i)}}function et(t){return function(e){return Math.max(0,Math.min(t,e))}}function wk(t){return Array.isArray(t)?t:[t]}function mp(t,e){for(var r=0;r<e;r++)typeof t[r]!="number"&&(t[r]=0);return t}f1.exports=ct});var g1=p((j6,h1)=>{"use strict";h1.exports=function(e){for(var r=0,n=0;r<e.length;n=e.charCodeAt(r++)+((n<<5)-n));var i=Math.floor(Math.abs(Math.sin(n)*1e4%1*16777216)).toString(16);return"#"+Array(6-i.length+1).join("0")+i}});var v1=p((N6,y1)=>{"use strict";var p1=d1(),m1=g1();y1.exports=function(e,r){var n=e.split(r||":"),i=m1(n[0]);if(!n.length)return i;for(var o=0,s=n.length-1;o<s;o++)i=p1(i).mix(p1(m1(n[o+1]))).saturate(1).hex();return i}});var _1=p((L6,b1)=>{"use strict";function Sr(t,e){if(e)return new Sr(t).style(e);if(!(this instanceof Sr))return new Sr(t);this.text=t}Sr.prototype.prefix="\x1B[";Sr.prototype.suffix="m";Sr.prototype.hex=function(e){e=e[0]==="#"?e.substring(1):e,e.length===3&&(e=e.split(""),e[5]=e[2],e[4]=e[2],e[3]=e[1],e[2]=e[1],e[1]=e[0],e=e.join(""));var r=e.substring(0,2),n=e.substring(2,4),i=e.substring(4,6);return[parseInt(r,16),parseInt(n,16),parseInt(i,16)]};Sr.prototype.rgb=function(e,r,n){var i=e/255*5,o=r/255*5,s=n/255*5;return this.ansi(i,o,s)};Sr.prototype.ansi=function(e,r,n){var i=Math.round(e),o=Math.round(r),s=Math.round(n);return 16+i*36+o*6+s};Sr.prototype.reset=function(){return this.prefix+"39;49"+this.suffix};Sr.prototype.style=function(e){return this.prefix+"38;5;"+this.rgb.apply(this,this.hex(e))+this.suffix+this.text+this.reset()};b1.exports=Sr});var R1=p((x6,w1)=>{var Rk=v1(),Sk=_1();w1.exports=function(e,r){var n=r.namespace,i=r.colors!==!1?Sk(n+":",Rk(n)):n+":";return e[0]=i+" "+e[0],e}});var E1=p((I6,S1)=>{"use strict";S1.exports=function(e,r){if(!r)return!1;for(var n=r.split(/[\s,]+/),i=0;i<n.length;i++){if(r=n[i].replace("*",".*?"),r.charAt(0)==="-"){if(new RegExp("^"+r.substr(1)+"$").test(e))return!1;continue}if(new RegExp("^"+r+"$").test(e))return!0}return!1}});var P1=p((k6,D1)=>{var Ek=E1();D1.exports=function(e){return function(n){try{return Ek(n,e())}catch{}return!1}}});var T1=p((F6,O1)=>{var Dk=P1();O1.exports=Dk(function(){return process.env.DEBUG||process.env.DIAGNOSTICS})});var M1=p(($6,q1)=>{q1.exports=function(t,e){try{Function.prototype.apply.call(console.log,console,e)}catch{}}});var A1=p((W6,C1)=>{var Pk=fp(),Ok=require("tty").isatty(1),gl=Pk(function t(e,r){return r=r||{},r.colors="colors"in r?r.colors:Ok,r.namespace=e,r.prod=!1,r.dev=!0,!t.enabled(e)&&!(r.force||t.force)?t.nope(r):t.yep(r)});gl.modify(R1());gl.use(T1());gl.set(M1());C1.exports=gl});var Js=p((H6,vp)=>{process.env.NODE_ENV==="production"?vp.exports=VE():vp.exports=A1()});var N1=p((U6,j1)=>{"use strict";var bp=require("fs"),{StringDecoder:Tk}=require("string_decoder"),{Stream:qk}=Ni();function Mk(){}j1.exports=(t,e)=>{let r=Buffer.alloc(65536),n=new Tk("utf8"),i=new qk,o="",s=0,a=0;return t.start===-1&&delete t.start,i.readable=!0,i.destroy=()=>{i.destroyed=!0,i.emit("end"),i.emit("close")},bp.open(t.file,"a+","0644",(u,c)=>{if(u){e?e(u):i.emit("error",u),i.destroy();return}(function h(){if(i.destroyed){bp.close(c,Mk);return}return bp.read(c,r,0,r.length,s,(d,g)=>{if(d){e?e(d):i.emit("error",d),i.destroy();return}if(!g)return o&&((t.start==null||a>t.start)&&(e?e(null,o):i.emit("line",o)),a++,o=""),setTimeout(h,1e3);let _=n.write(r.slice(0,g));e||i.emit("data",_),_=(o+_).split(/\n+/);let y=_.length-1,E=0;for(;E<y;E++)(t.start==null||a>t.start)&&(e?e(null,_[E]):i.emit("line",_[E])),a++;return o=_[y],s+=g,h()})})()}),e?i.destroy:i}});var k1=p((z6,I1)=>{"use strict";var Ft=require("fs"),it=require("path"),L1=YS(),Ck=require("zlib"),{MESSAGE:Ak}=ze(),{Stream:jk,PassThrough:x1}=Ni(),Nk=Ti(),Er=Js()("winston:file"),Lk=require("os"),xk=N1();I1.exports=class extends Nk{constructor(e={}){super(e),this.name=e.name||"file";function r(n,...i){i.slice(1).forEach(o=>{if(e[o])throw new Error(`Cannot set ${o} and ${n} together`)})}if(this._stream=new x1,this._stream.setMaxListeners(30),this._onError=this._onError.bind(this),e.filename||e.dirname)r("filename or dirname","stream"),this._basename=this.filename=e.filename?it.basename(e.filename):"winston.log",this.dirname=e.dirname||it.dirname(e.filename),this.options=e.options||{flags:"a"};else if(e.stream)console.warn("options.stream will be removed in winston@4. Use winston.transports.Stream"),r("stream","filename","maxsize"),this._dest=this._stream.pipe(this._setupStream(e.stream)),this.dirname=it.dirname(this._dest.path);else throw new Error("Cannot log to file without filename or stream.");this.maxsize=e.maxsize||null,this.rotationFormat=e.rotationFormat||!1,this.zippedArchive=e.zippedArchive||!1,this.maxFiles=e.maxFiles||null,this.eol=typeof e.eol=="string"?e.eol:Lk.EOL,this.tailable=e.tailable||!1,this.lazy=e.lazy||!1,this._size=0,this._pendingSize=0,this._created=0,this._drain=!1,this._opening=!1,this._ending=!1,this._fileExist=!1,this.dirname&&this._createLogDirIfNotExist(this.dirname),this.lazy||this.open()}finishIfEnding(){this._ending&&(this._opening?this.once("open",()=>{this._stream.once("finish",()=>this.emit("finish")),setImmediate(()=>this._stream.end())}):(this._stream.once("finish",()=>this.emit("finish")),setImmediate(()=>this._stream.end())))}log(e,r=()=>{}){if(this.silent)return r(),!0;if(this._drain){this._stream.once("drain",()=>{this._drain=!1,this.log(e,r)});return}if(this._rotate){this._stream.once("rotate",()=>{this._rotate=!1,this.log(e,r)});return}if(this.lazy){if(!this._fileExist){this._opening||this.open(),this.once("open",()=>{this._fileExist=!0,this.log(e,r)});return}if(this._needsNewFile(this._pendingSize)){this._dest.once("close",()=>{this._opening||this.open(),this.once("open",()=>{this.log(e,r)})});return}}let n=`${e[Ak]}${this.eol}`,i=Buffer.byteLength(n);function o(){if(this._size+=i,this._pendingSize-=i,Er("logged %s %s",this._size,n),this.emit("logged",e),!this._rotate&&!this._opening&&this._needsNewFile()){if(this.lazy){this._endStream(()=>{this.emit("fileclosed")});return}this._rotate=!0,this._endStream(()=>this._rotateFile())}}this._pendingSize+=i,this._opening&&!this.rotatedWhileOpening&&this._needsNewFile(this._size+this._pendingSize)&&(this.rotatedWhileOpening=!0);let s=this._stream.write(n,o.bind(this));return s?r():(this._drain=!0,this._stream.once("drain",()=>{this._drain=!1,r()})),Er("written",s,this._drain),this.finishIfEnding(),s}query(e,r){typeof e=="function"&&(r=e,e={}),e=d(e);let n=it.join(this.dirname,this.filename),i="",o=[],s=0,a=Ft.createReadStream(n,{encoding:"utf8"});a.on("error",g=>{if(a.readable&&a.destroy(),!!r)return g.code!=="ENOENT"?r(g):r(null,o)}),a.on("data",g=>{g=(i+g).split(/\n+/);let _=g.length-1,y=0;for(;y<_;y++)(!e.start||s>=e.start)&&u(g[y]),s++;i=g[_]}),a.on("close",()=>{i&&u(i,!0),e.order==="desc"&&(o=o.reverse()),r&&r(null,o)});function u(g,_){try{let y=JSON.parse(g);h(y)&&c(y)}catch(y){_||a.emit("error",y)}}function c(g){if(e.rows&&o.length>=e.rows&&e.order!=="desc"){a.readable&&a.destroy();return}e.fields&&(g=e.fields.reduce((_,y)=>(_[y]=g[y],_),{})),e.order==="desc"&&o.length>=e.rows&&o.shift(),o.push(g)}function h(g){if(!g||typeof g!="object")return;let _=new Date(g.timestamp);if(!(e.from&&_<e.from||e.until&&_>e.until||e.level&&e.level!==g.level))return!0}function d(g){return g=g||{},g.rows=g.rows||g.limit||10,g.start=g.start||0,g.until=g.until||new Date,typeof g.until!="object"&&(g.until=new Date(g.until)),g.from=g.from||g.until-24*60*60*1e3,typeof g.from!="object"&&(g.from=new Date(g.from)),g.order=g.order||"desc",g}}stream(e={}){let r=it.join(this.dirname,this.filename),n=new jk,i={file:r,start:e.start};return n.destroy=xk(i,(o,s)=>{if(o)return n.emit("error",o);try{n.emit("data",s),s=JSON.parse(s),n.emit("log",s)}catch(a){n.emit("error",a)}}),n}open(){this.filename&&(this._opening||(this._opening=!0,this.stat((e,r)=>{if(e)return this.emit("error",e);Er("stat done: %s { size: %s }",this.filename,r),this._size=r,this._dest=this._createStream(this._stream),this._opening=!1,this.once("open",()=>{this._stream.emit("rotate")||(this._rotate=!1)})})))}stat(e){let r=this._getFile(),n=it.join(this.dirname,r);Ft.stat(n,(i,o)=>{if(i&&i.code==="ENOENT")return Er("ENOENT\xA0ok",n),this.filename=r,e(null,0);if(i)return Er(`err ${i.code} ${n}`),e(i);if(!o||this._needsNewFile(o.size))return this._incFile(()=>this.stat(e));this.filename=r,e(null,o.size)})}close(e){this._stream&&this._stream.end(()=>{e&&e(),this.emit("flush"),this.emit("closed")})}_needsNewFile(e){return e=e||this._size,this.maxsize&&e>=this.maxsize}_onError(e){this.emit("error",e)}_setupStream(e){return e.on("error",this._onError),e}_cleanupStream(e){return e.removeListener("error",this._onError),e.destroy(),e}_rotateFile(){this._incFile(()=>this.open())}_endStream(e=()=>{}){this._dest?(this._stream.unpipe(this._dest),this._dest.end(()=>{this._cleanupStream(this._dest),e()})):e()}_createStream(e){let r=it.join(this.dirname,this.filename);Er("create stream start",r,this.options);let n=Ft.createWriteStream(r,this.options).on("error",i=>Er(i)).on("close",()=>Er("close",n.path,n.bytesWritten)).on("open",()=>{Er("file open ok",r),this.emit("open",r),e.pipe(n),this.rotatedWhileOpening&&(this._stream=new x1,this._stream.setMaxListeners(30),this._rotateFile(),this.rotatedWhileOpening=!1,this._cleanupStream(n),e.end())});return Er("create stream ok",r),n}_incFile(e){Er("_incFile",this.filename);let r=it.extname(this._basename),n=it.basename(this._basename,r),i=[];this.zippedArchive&&i.push(function(o){let s=this._created>0&&!this.tailable?this._created:"";this._compressFile(it.join(this.dirname,`${n}${s}${r}`),it.join(this.dirname,`${n}${s}${r}.gz`),o)}.bind(this)),i.push(function(o){this.tailable?this._checkMaxFilesTailable(r,n,o):(this._created+=1,this._checkMaxFilesIncrementing(r,n,o))}.bind(this)),L1(i,e)}_getFile(){let e=it.extname(this._basename),r=it.basename(this._basename,e),n=this.rotationFormat?this.rotationFormat():this._created;return!this.tailable&&this._created?`${r}${n}${e}`:`${r}${e}`}_checkMaxFilesIncrementing(e,r,n){if(!this.maxFiles||this._created<this.maxFiles)return setImmediate(n);let i=this._created-this.maxFiles,o=i!==0?i:"",s=this.zippedArchive?".gz":"",a=`${r}${o}${e}${s}`,u=it.join(this.dirname,a);Ft.unlink(u,n)}_checkMaxFilesTailable(e,r,n){let i=[];if(!this.maxFiles)return;let o=this.zippedArchive?".gz":"";for(let s=this.maxFiles-1;s>1;s--)i.push(function(a,u){let c=`${r}${a-1}${e}${o}`,h=it.join(this.dirname,c);Ft.exists(h,d=>{if(!d)return u(null);c=`${r}${a}${e}${o}`,Ft.rename(h,it.join(this.dirname,c),u)})}.bind(this,s));L1(i,()=>{Ft.rename(it.join(this.dirname,`${r}${e}${o}`),it.join(this.dirname,`${r}1${e}${o}`),n)})}_compressFile(e,r,n){Ft.access(e,Ft.F_OK,i=>{if(i)return n();var o=Ck.createGzip(),s=Ft.createReadStream(e),a=Ft.createWriteStream(r);a.on("finish",()=>{Ft.unlink(e,n)}),s.pipe(o).pipe(a)})}_createLogDirIfNotExist(e){Ft.existsSync(e)||Ft.mkdirSync(e,{recursive:!0})}}});var $1=p((G6,F1)=>{"use strict";var Ik=require("http"),kk=require("https"),{Stream:Fk}=Ni(),$k=Ti(),{configure:Wk}=Ps();F1.exports=class extends $k{constructor(e={}){super(e),this.options=e,this.name=e.name||"http",this.ssl=!!e.ssl,this.host=e.host||"localhost",this.port=e.port,this.auth=e.auth,this.path=e.path||"",this.maximumDepth=e.maximumDepth,this.agent=e.agent,this.headers=e.headers||{},this.headers["content-type"]="application/json",this.batch=e.batch||!1,this.batchInterval=e.batchInterval||5e3,this.batchCount=e.batchCount||10,this.batchOptions=[],this.batchTimeoutID=-1,this.batchCallback={},this.port||(this.port=this.ssl?443:80)}log(e,r){this._request(e,null,null,(n,i)=>{i&&i.statusCode!==200&&(n=new Error(`Invalid HTTP Status Code: ${i.statusCode}`)),n?this.emit("warn",n):this.emit("logged",e)}),r&&setImmediate(r)}query(e,r){typeof e=="function"&&(r=e,e={}),e={method:"query",params:this.normalizeQuery(e)};let n=e.params.auth||null;delete e.params.auth;let i=e.params.path||null;delete e.params.path,this._request(e,n,i,(o,s,a)=>{if(s&&s.statusCode!==200&&(o=new Error(`Invalid HTTP Status Code: ${s.statusCode}`)),o)return r(o);if(typeof a=="string")try{a=JSON.parse(a)}catch(u){return r(u)}r(null,a)})}stream(e={}){let r=new Fk;e={method:"stream",params:e};let n=e.params.path||null;delete e.params.path;let i=e.params.auth||null;delete e.params.auth;let o="",s=this._request(e,i,n);return r.destroy=()=>s.destroy(),s.on("data",a=>{a=(o+a).split(/\n+/);let u=a.length-1,c=0;for(;c<u;c++)try{r.emit("log",JSON.parse(a[c]))}catch(h){r.emit("error",h)}o=a[u]}),s.on("error",a=>r.emit("error",a)),r}_request(e,r,n,i){e=e||{},r=r||this.auth,n=n||this.path||"",this.batch?this._doBatch(e,i,r,n):this._doRequest(e,i,r,n)}_doBatch(e,r,n,i){if(this.batchOptions.push(e),this.batchOptions.length===1){let o=this;this.batchCallback=r,this.batchTimeoutID=setTimeout(function(){o.batchTimeoutID=-1,o._doBatchRequest(o.batchCallback,n,i)},this.batchInterval)}this.batchOptions.length===this.batchCount&&this._doBatchRequest(this.batchCallback,n,i)}_doBatchRequest(e,r,n){this.batchTimeoutID>0&&(clearTimeout(this.batchTimeoutID),this.batchTimeoutID=-1);let i=this.batchOptions.slice();this.batchOptions=[],this._doRequest(i,e,r,n)}_doRequest(e,r,n,i){let o=Object.assign({},this.headers);n&&n.bearer&&(o.Authorization=`Bearer ${n.bearer}`);let s=(this.ssl?kk:Ik).request({...this.options,method:"POST",host:this.host,port:this.port,path:`/${i.replace(/^\//,"")}`,headers:o,auth:n&&n.username&&n.password?`${n.username}:${n.password}`:"",agent:this.agent});s.on("error",r),s.on("response",u=>u.on("end",()=>r(null,u)).resume());let a=Wk({...this.maximumDepth&&{maximumDepth:this.maximumDepth}});s.end(Buffer.from(a(e,this.options.replacer),"utf8"))}}});var _p=p((Y6,W1)=>{"use strict";var Br=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";Br.writable=t=>Br(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object";Br.readable=t=>Br(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object";Br.duplex=t=>Br.writable(t)&&Br.readable(t);Br.transform=t=>Br.duplex(t)&&typeof t._transform=="function";W1.exports=Br});var U1=p((X6,H1)=>{"use strict";var Hk=_p(),{MESSAGE:Uk}=ze(),Bk=require("os"),zk=Ti();H1.exports=class extends zk{constructor(e={}){if(super(e),!e.stream||!Hk(e.stream))throw new Error("options.stream is required.");this._stream=e.stream,this._stream.setMaxListeners(1/0),this.isObjectMode=e.stream._writableState.objectMode,this.eol=typeof e.eol=="string"?e.eol:Bk.EOL}log(e,r){if(setImmediate(()=>this.emit("logged",e)),this.isObjectMode){this._stream.write(e),r&&r();return}this._stream.write(`${e[Uk]}${this.eol}`),r&&r()}}});var B1=p(Qs=>{"use strict";Object.defineProperty(Qs,"Console",{configurable:!0,enumerable:!0,get(){return dS()}});Object.defineProperty(Qs,"File",{configurable:!0,enumerable:!0,get(){return k1()}});Object.defineProperty(Qs,"Http",{configurable:!0,enumerable:!0,get(){return $1()}});Object.defineProperty(Qs,"Stream",{configurable:!0,enumerable:!0,get(){return U1()}})});var ml=p(Zs=>{"use strict";var pl=Qh(),{configs:wp}=ze();Zs.cli=pl.levels(wp.cli);Zs.npm=pl.levels(wp.npm);Zs.syslog=pl.levels(wp.syslog);Zs.addColors=pl.levels});var V1=p((yl,z1)=>{"use strict";Object.defineProperty(yl,"__esModule",{value:!0});var Vk=Ac(),Gk=xi(Vk),Yk=Hc(),Kk=xi(Yk),Xk=Lg(),Jk=xi(Xk),Qk=Ag(),Zk=xi(Qk),e2=jg(),t2=xi(e2),r2=qi(),n2=xi(r2),i2=To(),o2=xi(i2);function xi(t){return t&&t.__esModule?t:{default:t}}function s2(t,e,r){r=(0,Zk.default)(r);var n=0,i=0,{length:o}=t,s=!1;o===0&&r(null);function a(u,c){u===!1&&(s=!0),s!==!0&&(u?r(u):(++i===o||c===Kk.default)&&r(null))}for(;n<o;n++)e(t[n],n,(0,t2.default)(a))}function a2(t,e,r){return(0,Jk.default)(t,1/0,e,r)}function u2(t,e,r){var n=(0,Gk.default)(t)?s2:a2;return n(t,(0,n2.default)(e),r)}yl.default=(0,o2.default)(u2,3);z1.exports=yl.default});var Y1=p((vl,G1)=>{"use strict";Object.defineProperty(vl,"__esModule",{value:!0});vl.default=c2;function c2(t){return(e,r,n)=>t(e,n)}G1.exports=vl.default});var wl=p((_l,K1)=>{"use strict";Object.defineProperty(_l,"__esModule",{value:!0});var l2=V1(),f2=bl(l2),d2=Y1(),h2=bl(d2),g2=qi(),p2=bl(g2),m2=To(),y2=bl(m2);function bl(t){return t&&t.__esModule?t:{default:t}}function v2(t,e,r){return(0,f2.default)(t,(0,h2.default)((0,p2.default)(e)),r)}_l.default=(0,y2.default)(v2,3);K1.exports=_l.default});var J1=p((Z6,X1)=>{"use strict";var b2=Object.prototype.toString;X1.exports=function(e){if(typeof e.displayName=="string"&&e.constructor.name)return e.displayName;if(typeof e.name=="string"&&e.name)return e.name;if(typeof e=="object"&&e.constructor&&typeof e.constructor.name=="string")return e.constructor.name;var r=e.toString(),n=b2.call(e).slice(8,-1);return n==="Function"?r=r.substring(r.indexOf("(")+1,r.indexOf(")")):r=n,r||"anonymous"}});var Rp=p((e8,Q1)=>{"use strict";var _2=J1();Q1.exports=function(e){var r=0,n;function i(){return r||(r=1,n=e.apply(this,arguments),e=null),n}return i.displayName=_2(e),i}});var Sp=p(ta=>{ta.get=function(t){var e=Error.stackTraceLimit;Error.stackTraceLimit=1/0;var r={},n=Error.prepareStackTrace;Error.prepareStackTrace=function(o,s){return s},Error.captureStackTrace(r,t||ta.get);var i=r.stack;return Error.prepareStackTrace=n,Error.stackTraceLimit=e,i};ta.parse=function(t){if(!t.stack)return[];var e=this,r=t.stack.split(`
`).slice(1);return r.map(function(n){if(n.match(/^\s*[-]{4,}$/))return e._createParsedCallSite({fileName:n,lineNumber:null,functionName:null,typeName:null,methodName:null,columnNumber:null,native:null});var i=n.match(/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(i){var o=null,s=null,a=null,u=null,c=null,h=i[5]==="native";if(i[1]){a=i[1];var d=a.lastIndexOf(".");if(a[d-1]=="."&&d--,d>0){o=a.substr(0,d),s=a.substr(d+1);var g=o.indexOf(".Module");g>0&&(a=a.substr(g+1),o=o.substr(0,g))}u=null}s&&(u=o,c=s),s==="<anonymous>"&&(c=null,a=null);var _={fileName:i[2]||null,lineNumber:parseInt(i[3],10)||null,functionName:a,typeName:u,methodName:c,columnNumber:parseInt(i[4],10)||null,native:h};return e._createParsedCallSite(_)}}).filter(function(n){return!!n})};function ea(t){for(var e in t)this[e]=t[e]}var w2=["this","typeName","functionName","methodName","fileName","lineNumber","columnNumber","function","evalOrigin"],R2=["topLevel","eval","native","constructor"];w2.forEach(function(t){ea.prototype[t]=null,ea.prototype["get"+t[0].toUpperCase()+t.substr(1)]=function(){return this[t]}});R2.forEach(function(t){ea.prototype[t]=!1,ea.prototype["is"+t[0].toUpperCase()+t.substr(1)]=function(){return this[t]}});ta._createParsedCallSite=function(t){return new ea(t)}});var eD=p((n8,Z1)=>{"use strict";var{Writable:S2}=Ni();Z1.exports=class extends S2{constructor(e){if(super({objectMode:!0}),!e)throw new Error("ExceptionStream requires a TransportStream instance.");this.handleExceptions=!0,this.transport=e}_write(e,r,n){return e.exception?this.transport.log(e,n):(n(),!0)}}});var Dp=p((o8,nD)=>{"use strict";var tD=require("os"),E2=wl(),Ep=Js()("winston:exception"),D2=Rp(),rD=Sp(),P2=eD();nD.exports=class{constructor(e){if(!e)throw new Error("Logger is required to handle exceptions");this.logger=e,this.handlers=new Map}handle(...e){e.forEach(r=>{if(Array.isArray(r))return r.forEach(n=>this._addHandler(n));this._addHandler(r)}),this.catcher||(this.catcher=this._uncaughtException.bind(this),process.on("uncaughtException",this.catcher))}unhandle(){this.catcher&&(process.removeListener("uncaughtException",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(e=>this.logger.unpipe(e)))}getAllInfo(e){let r=null;return e&&(r=typeof e=="string"?e:e.message),{error:e,level:"error",message:[`uncaughtException: ${r||"(no error message)"}`,e&&e.stack||"  No stack trace"].join(`
`),stack:e&&e.stack,exception:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(e)}}getProcessInfo(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}}getOsInfo(){return{loadavg:tD.loadavg(),uptime:tD.uptime()}}getTrace(e){return(e?rD.parse(e):rD.get()).map(n=>({column:n.getColumnNumber(),file:n.getFileName(),function:n.getFunctionName(),line:n.getLineNumber(),method:n.getMethodName(),native:n.isNative()}))}_addHandler(e){if(!this.handlers.has(e)){e.handleExceptions=!0;let r=new P2(e);this.handlers.set(e,r),this.logger.pipe(r)}}_uncaughtException(e){let r=this.getAllInfo(e),n=this._getExceptionHandlers(),i=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(e):this.logger.exitOnError,o;!n.length&&i&&(console.warn("winston: exitOnError cannot be true with no exception handlers."),console.warn("winston: not exiting process."),i=!1);function s(){Ep("doExit",i),Ep("process._exiting",process._exiting),i&&!process._exiting&&(o&&clearTimeout(o),process.exit(1))}if(!n||n.length===0)return process.nextTick(s);E2(n,(a,u)=>{let c=D2(u),h=a.transport||a;function d(g){return()=>{Ep(g),c()}}h._ending=!0,h.once("finish",d("finished")),h.once("error",d("error"))},()=>i&&s()),this.logger.log(r),i&&(o=setTimeout(s,3e3))}_getExceptionHandlers(){return this.logger.transports.filter(e=>(e.transport||e).handleExceptions)}}});var oD=p((a8,iD)=>{"use strict";var{Writable:O2}=Ni();iD.exports=class extends O2{constructor(e){if(super({objectMode:!0}),!e)throw new Error("RejectionStream requires a TransportStream instance.");this.handleRejections=!0,this.transport=e}_write(e,r,n){return e.rejection?this.transport.log(e,n):(n(),!0)}}});var Op=p((c8,uD)=>{"use strict";var sD=require("os"),T2=wl(),Pp=Js()("winston:rejection"),q2=Rp(),aD=Sp(),M2=oD();uD.exports=class{constructor(e){if(!e)throw new Error("Logger is required to handle rejections");this.logger=e,this.handlers=new Map}handle(...e){e.forEach(r=>{if(Array.isArray(r))return r.forEach(n=>this._addHandler(n));this._addHandler(r)}),this.catcher||(this.catcher=this._unhandledRejection.bind(this),process.on("unhandledRejection",this.catcher))}unhandle(){this.catcher&&(process.removeListener("unhandledRejection",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(e=>this.logger.unpipe(e)))}getAllInfo(e){let r=null;return e&&(r=typeof e=="string"?e:e.message),{error:e,level:"error",message:[`unhandledRejection: ${r||"(no error message)"}`,e&&e.stack||"  No stack trace"].join(`
`),stack:e&&e.stack,rejection:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(e)}}getProcessInfo(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}}getOsInfo(){return{loadavg:sD.loadavg(),uptime:sD.uptime()}}getTrace(e){return(e?aD.parse(e):aD.get()).map(n=>({column:n.getColumnNumber(),file:n.getFileName(),function:n.getFunctionName(),line:n.getLineNumber(),method:n.getMethodName(),native:n.isNative()}))}_addHandler(e){if(!this.handlers.has(e)){e.handleRejections=!0;let r=new M2(e);this.handlers.set(e,r),this.logger.pipe(r)}}_unhandledRejection(e){let r=this.getAllInfo(e),n=this._getRejectionHandlers(),i=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(e):this.logger.exitOnError,o;!n.length&&i&&(console.warn("winston: exitOnError cannot be true with no rejection handlers."),console.warn("winston: not exiting process."),i=!1);function s(){Pp("doExit",i),Pp("process._exiting",process._exiting),i&&!process._exiting&&(o&&clearTimeout(o),process.exit(1))}if(!n||n.length===0)return process.nextTick(s);T2(n,(a,u)=>{let c=q2(u),h=a.transport||a;function d(g){return()=>{Pp(g),c()}}h._ending=!0,h.once("finish",d("finished")),h.once("error",d("error"))},()=>i&&s()),this.logger.log(r),i&&(o=setTimeout(s,3e3))}_getRejectionHandlers(){return this.logger.transports.filter(e=>(e.transport||e).handleRejections)}}});var lD=p((l8,cD)=>{"use strict";var Tp=class{constructor(e){let r=Rl();if(typeof e!="object"||Array.isArray(e)||!(e instanceof r))throw new Error("Logger is required for profiling");this.logger=e,this.start=Date.now()}done(...e){typeof e[e.length-1]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),e.pop());let r=typeof e[e.length-1]=="object"?e.pop():{};return r.level=r.level||"info",r.durationMs=Date.now()-this.start,this.logger.write(r)}};cD.exports=Tp});var Rl=p((f8,gD)=>{"use strict";var{Stream:C2,Transform:A2}=Ni(),fD=wl(),{LEVEL:zr,SPLAT:dD}=ze(),hD=_p(),j2=Dp(),N2=Op(),L2=qg(),x2=lD(),{warn:I2}=Zh(),k2=ml(),F2=/%[scdjifoO%]/g,Sl=class extends A2{constructor(e){super({objectMode:!0}),this.configure(e)}child(e){let r=this;return Object.create(r,{write:{value:function(n){let i=Object.assign({},e,n);n instanceof Error&&(i.stack=n.stack,i.message=n.message),r.write(i)}}})}configure({silent:e,format:r,defaultMeta:n,levels:i,level:o="info",exitOnError:s=!0,transports:a,colors:u,emitErrs:c,formatters:h,padLevels:d,rewriters:g,stripColors:_,exceptionHandlers:y,rejectionHandlers:E}={}){if(this.transports.length&&this.clear(),this.silent=e,this.format=r||this.format||Gh()(),this.defaultMeta=n||null,this.levels=i||this.levels||k2.npm.levels,this.level=o,this.exceptions&&this.exceptions.unhandle(),this.rejections&&this.rejections.unhandle(),this.exceptions=new j2(this),this.rejections=new N2(this),this.profilers={},this.exitOnError=s,a&&(a=Array.isArray(a)?a:[a],a.forEach(C=>this.add(C))),u||c||h||d||g||_)throw new Error(["{ colors, emitErrs, formatters, padLevels, rewriters, stripColors } were removed in winston@3.0.0.","Use a custom winston.format(function) instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`));y&&this.exceptions.handle(y),E&&this.rejections.handle(E)}isLevelEnabled(e){let r=qp(this.levels,e);if(r===null)return!1;let n=qp(this.levels,this.level);return n===null?!1:!this.transports||this.transports.length===0?n>=r:this.transports.findIndex(o=>{let s=qp(this.levels,o.level);return s===null&&(s=n),s>=r})!==-1}log(e,r,...n){if(arguments.length===1)return e[zr]=e.level,this._addDefaultMeta(e),this.write(e),this;if(arguments.length===2)return r&&typeof r=="object"?(r[zr]=r.level=e,this._addDefaultMeta(r),this.write(r),this):(r={[zr]:e,level:e,message:r},this._addDefaultMeta(r),this.write(r),this);let[i]=n;if(typeof i=="object"&&i!==null&&!(r&&r.match&&r.match(F2))){let s=Object.assign({},this.defaultMeta,i,{[zr]:e,[dD]:n,level:e,message:r});return i.message&&(s.message=`${s.message} ${i.message}`),i.stack&&(s.stack=i.stack),i.cause&&(s.cause=i.cause),this.write(s),this}return this.write(Object.assign({},this.defaultMeta,{[zr]:e,[dD]:n,level:e,message:r})),this}_transform(e,r,n){if(this.silent)return n();e[zr]||(e[zr]=e.level),!this.levels[e[zr]]&&this.levels[e[zr]]!==0&&console.error("[winston] Unknown logger level: %s",e[zr]),this._readableState.pipes||console.error("[winston] Attempt to write logs with no transports, which can increase memory usage: %j",e);try{this.push(this.format.transform(e,this.format.options))}finally{this._writableState.sync=!1,n()}}_final(e){let r=this.transports.slice();fD(r,(n,i)=>{if(!n||n.finished)return setImmediate(i);n.once("finish",i),n.end()},e)}add(e){let r=!hD(e)||e.log.length>2?new L2({transport:e}):e;if(!r._writableState||!r._writableState.objectMode)throw new Error("Transports must WritableStreams in objectMode. Set { objectMode: true }.");return this._onEvent("error",r),this._onEvent("warn",r),this.pipe(r),e.handleExceptions&&this.exceptions.handle(),e.handleRejections&&this.rejections.handle(),this}remove(e){if(!e)return this;let r=e;return(!hD(e)||e.log.length>2)&&(r=this.transports.filter(n=>n.transport===e)[0]),r&&this.unpipe(r),this}clear(){return this.unpipe(),this}close(){return this.exceptions.unhandle(),this.rejections.unhandle(),this.clear(),this.emit("close"),this}setLevels(){I2.deprecated("setLevels")}query(e,r){typeof e=="function"&&(r=e,e={}),e=e||{};let n={},i=Object.assign({},e.query||{});function o(a,u){e.query&&typeof a.formatQuery=="function"&&(e.query=a.formatQuery(i)),a.query(e,(c,h)=>{if(c)return u(c);typeof a.formatResults=="function"&&(h=a.formatResults(h,e.format)),u(null,h)})}function s(a,u){o(a,(c,h)=>{u&&(h=c||h,h&&(n[a.name]=h),u()),u=null})}fD(this.transports.filter(a=>!!a.query),s,()=>r(null,n))}stream(e={}){let r=new C2,n=[];return r._streams=n,r.destroy=()=>{let i=n.length;for(;i--;)n[i].destroy()},this.transports.filter(i=>!!i.stream).forEach(i=>{let o=i.stream(e);o&&(n.push(o),o.on("log",s=>{s.transport=s.transport||[],s.transport.push(i.name),r.emit("log",s)}),o.on("error",s=>{s.transport=s.transport||[],s.transport.push(i.name),r.emit("error",s)}))}),r}startTimer(){return new x2(this)}profile(e,...r){let n=Date.now();if(this.profilers[e]){let i=this.profilers[e];delete this.profilers[e],typeof r[r.length-2]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),r.pop());let o=typeof r[r.length-1]=="object"?r.pop():{};return o.level=o.level||"info",o.durationMs=n-i,o.message=o.message||e,this.write(o)}return this.profilers[e]=n,this}handleExceptions(...e){console.warn("Deprecated: .handleExceptions() will be removed in winston@4. Use .exceptions.handle()"),this.exceptions.handle(...e)}unhandleExceptions(...e){console.warn("Deprecated: .unhandleExceptions() will be removed in winston@4. Use .exceptions.unhandle()"),this.exceptions.unhandle(...e)}cli(){throw new Error(["Logger.cli() was removed in winston@3.0.0","Use a custom winston.formats.cli() instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`))}_onEvent(e,r){function n(i){e==="error"&&!this.transports.includes(r)&&this.add(r),this.emit(e,i,r)}r["__winston"+e]||(r["__winston"+e]=n.bind(this),r.on(e,r["__winston"+e]))}_addDefaultMeta(e){this.defaultMeta&&Object.assign(e,this.defaultMeta)}};function qp(t,e){let r=t[e];return!r&&r!==0?null:r}Object.defineProperty(Sl.prototype,"transports",{configurable:!1,enumerable:!0,get(){let{pipes:t}=this._readableState;return Array.isArray(t)?t:[t].filter(Boolean)}});gD.exports=Sl});var Mp=p((d8,pD)=>{"use strict";var{LEVEL:$2}=ze(),W2=ml(),H2=Rl(),U2=Js()("winston:create-logger");function B2(t){return"is"+t.charAt(0).toUpperCase()+t.slice(1)+"Enabled"}pD.exports=function(t={}){t.levels=t.levels||W2.npm.levels;class e extends H2{constructor(i){super(i)}}let r=new e(t);return Object.keys(t.levels).forEach(function(n){if(U2('Define prototype method for "%s"',n),n==="log"){console.warn('Level "log" not defined: conflicts with the method "log". Use a different level name.');return}e.prototype[n]=function(...i){let o=this||r;if(i.length===1){let[s]=i,a=s&&s.message&&s||{message:s};return a.level=a[$2]=n,o._addDefaultMeta(a),o.write(a),this||r}return i.length===0?(o.log(n,""),o):o.log(n,...i)},e.prototype[B2(n)]=function(){return(this||r).isLevelEnabled(n)}}),r}});var yD=p((g8,mD)=>{"use strict";var z2=Mp();mD.exports=class{constructor(e={}){this.loggers=new Map,this.options=e}add(e,r){if(!this.loggers.has(e)){r=Object.assign({},r||this.options);let n=r.transports||this.options.transports;n?r.transports=Array.isArray(n)?n.slice():[n]:r.transports=[];let i=z2(r);i.on("close",()=>this._delete(e)),this.loggers.set(e,i)}return this.loggers.get(e)}get(e,r){return this.add(e,r)}has(e){return!!this.loggers.has(e)}close(e){if(e)return this._removeLogger(e);this.loggers.forEach((r,n)=>this._removeLogger(n))}_removeLogger(e){if(!this.loggers.has(e))return;this.loggers.get(e).close(),this._delete(e)}_delete(e){this.loggers.delete(e)}}});var bD=p(Ae=>{"use strict";var vD=Qh(),{warn:ra}=Zh();Ae.version=cR().version;Ae.transports=B1();Ae.config=ml();Ae.addColors=vD.levels;Ae.format=vD.format;Ae.createLogger=Mp();Ae.Logger=Rl();Ae.ExceptionHandler=Dp();Ae.RejectionHandler=Op();Ae.Container=yD();Ae.Transport=Ti();Ae.loggers=new Ae.Container;var Vr=Ae.createLogger();Object.keys(Ae.config.npm.levels).concat(["log","query","stream","add","remove","clear","profile","startTimer","handleExceptions","unhandleExceptions","handleRejections","unhandleRejections","configure","child"]).forEach(t=>Ae[t]=(...e)=>Vr[t](...e));Object.defineProperty(Ae,"level",{get(){return Vr.level},set(t){Vr.level=t}});Object.defineProperty(Ae,"exceptions",{get(){return Vr.exceptions}});Object.defineProperty(Ae,"rejections",{get(){return Vr.rejections}});["exitOnError"].forEach(t=>{Object.defineProperty(Ae,t,{get(){return Vr[t]},set(e){Vr[t]=e}})});Object.defineProperty(Ae,"default",{get(){return{exceptionHandlers:Vr.exceptionHandlers,rejectionHandlers:Vr.rejectionHandlers,transports:Vr.transports}}});ra.deprecated(Ae,"setLevels");ra.forFunctions(Ae,"useFormat",["cli"]);ra.forProperties(Ae,"useFormat",["padLevels","stripColors"]);ra.forFunctions(Ae,"deprecated",["addRewriter","addFilter","clone","extend"]);ra.forProperties(Ae,"deprecated",["emitErrs","levelLength"])});var wD=p((m8,_D)=>{"use strict";var Cp=class t extends Error{constructor(e){super(t._prepareSuperMessage(e)),Object.defineProperty(this,"name",{value:"NonError",configurable:!0,writable:!0}),Error.captureStackTrace&&Error.captureStackTrace(this,t)}static _prepareSuperMessage(e){try{return JSON.stringify(e)}catch{return String(e)}}},V2=[{property:"name",enumerable:!1},{property:"message",enumerable:!1},{property:"stack",enumerable:!1},{property:"code",enumerable:!0}],Ap=Symbol(".toJSON called"),G2=t=>{t[Ap]=!0;let e=t.toJSON();return delete t[Ap],e},jp=({from:t,seen:e,to_:r,forceEnumerable:n,maxDepth:i,depth:o})=>{let s=r||(Array.isArray(t)?[]:{});if(e.push(t),o>=i)return s;if(typeof t.toJSON=="function"&&t[Ap]!==!0)return G2(t);for(let[a,u]of Object.entries(t)){if(typeof Buffer=="function"&&Buffer.isBuffer(u)){s[a]="[object Buffer]";continue}if(typeof u!="function"){if(!u||typeof u!="object"){s[a]=u;continue}if(!e.includes(t[a])){o++,s[a]=jp({from:t[a],seen:e.slice(),forceEnumerable:n,maxDepth:i,depth:o});continue}s[a]="[Circular]"}}for(let{property:a,enumerable:u}of V2)typeof t[a]=="string"&&Object.defineProperty(s,a,{value:t[a],enumerable:n?!0:u,configurable:!0,writable:!0});return s},Y2=(t,e={})=>{let{maxDepth:r=Number.POSITIVE_INFINITY}=e;return typeof t=="object"&&t!==null?jp({from:t,seen:[],forceEnumerable:!0,maxDepth:r,depth:0}):typeof t=="function"?`[Function: ${t.name||"anonymous"}]`:t},K2=(t,e={})=>{let{maxDepth:r=Number.POSITIVE_INFINITY}=e;if(t instanceof Error)return t;if(typeof t=="object"&&t!==null&&!Array.isArray(t)){let n=new Error;return jp({from:t,seen:[],to_:n,maxDepth:r,depth:0}),n}return new Cp(t)};_D.exports={serializeError:Y2,deserializeError:K2}});var Np=p(El=>{"use strict";Object.defineProperty(El,"__esModule",{value:!0});El.isIterable=RD;El.isIterableObject=X2;function RD(t){return t!=null&&typeof t[Symbol.iterator]=="function"}function X2(t){return RD(t)&&typeof t=="object"}});var Dl=p(Lp=>{"use strict";Object.defineProperty(Lp,"__esModule",{value:!0});Lp.isObject=J2;function J2(t){return typeof t=="object"&&t!==null}});var ED=p(xp=>{"use strict";Object.defineProperty(xp,"__esModule",{value:!0});xp.mergeAssign=SD;var Q2=Dl();function SD(t,e,r){let n=t;for(let i of[e,r])if(i)for(let o of Object.getOwnPropertyNames(i)){if(o==="__proto__"||o==="constructor")continue;let s=i[o];if((0,Q2.isObject)(s)){if(Array.isArray(s)){let a=n[o];n[o]=Array.isArray(a)?a.concat(s):s;continue}n[o]||(n[o]={}),n[o]=SD(n[o],s)}else n[o]=s}return n}});var PD=p((_8,DD)=>{"use strict";DD.exports=Z2;function Lo(t){return t instanceof Buffer?Buffer.from(t):new t.constructor(t.buffer.slice(),t.byteOffset,t.length)}function Z2(t){if(t=t||{},t.circles)return eF(t);let e=new Map;if(e.set(Date,s=>new Date(s)),e.set(Map,(s,a)=>new Map(n(Array.from(s),a))),e.set(Set,(s,a)=>new Set(n(Array.from(s),a))),t.constructorHandlers)for(let s of t.constructorHandlers)e.set(s[0],s[1]);let r=null;return t.proto?o:i;function n(s,a){let u=Object.keys(s),c=new Array(u.length);for(let h=0;h<u.length;h++){let d=u[h],g=s[d];typeof g!="object"||g===null?c[d]=g:g.constructor!==Object&&(r=e.get(g.constructor))?c[d]=r(g,a):ArrayBuffer.isView(g)?c[d]=Lo(g):c[d]=a(g)}return c}function i(s){if(typeof s!="object"||s===null)return s;if(Array.isArray(s))return n(s,i);if(s.constructor!==Object&&(r=e.get(s.constructor)))return r(s,i);let a={};for(let u in s){if(Object.hasOwnProperty.call(s,u)===!1)continue;let c=s[u];typeof c!="object"||c===null?a[u]=c:c.constructor!==Object&&(r=e.get(c.constructor))?a[u]=r(c,i):ArrayBuffer.isView(c)?a[u]=Lo(c):a[u]=i(c)}return a}function o(s){if(typeof s!="object"||s===null)return s;if(Array.isArray(s))return n(s,o);if(s.constructor!==Object&&(r=e.get(s.constructor)))return r(s,o);let a={};for(let u in s){let c=s[u];typeof c!="object"||c===null?a[u]=c:c.constructor!==Object&&(r=e.get(c.constructor))?a[u]=r(c,o):ArrayBuffer.isView(c)?a[u]=Lo(c):a[u]=o(c)}return a}}function eF(t){let e=[],r=[],n=new Map;if(n.set(Date,u=>new Date(u)),n.set(Map,(u,c)=>new Map(o(Array.from(u),c))),n.set(Set,(u,c)=>new Set(o(Array.from(u),c))),t.constructorHandlers)for(let u of t.constructorHandlers)n.set(u[0],u[1]);let i=null;return t.proto?a:s;function o(u,c){let h=Object.keys(u),d=new Array(h.length);for(let g=0;g<h.length;g++){let _=h[g],y=u[_];if(typeof y!="object"||y===null)d[_]=y;else if(y.constructor!==Object&&(i=n.get(y.constructor)))d[_]=i(y,c);else if(ArrayBuffer.isView(y))d[_]=Lo(y);else{let E=e.indexOf(y);E!==-1?d[_]=r[E]:d[_]=c(y)}}return d}function s(u){if(typeof u!="object"||u===null)return u;if(Array.isArray(u))return o(u,s);if(u.constructor!==Object&&(i=n.get(u.constructor)))return i(u,s);let c={};e.push(u),r.push(c);for(let h in u){if(Object.hasOwnProperty.call(u,h)===!1)continue;let d=u[h];if(typeof d!="object"||d===null)c[h]=d;else if(d.constructor!==Object&&(i=n.get(d.constructor)))c[h]=i(d,s);else if(ArrayBuffer.isView(d))c[h]=Lo(d);else{let g=e.indexOf(d);g!==-1?c[h]=r[g]:c[h]=s(d)}}return e.pop(),r.pop(),c}function a(u){if(typeof u!="object"||u===null)return u;if(Array.isArray(u))return o(u,a);if(u.constructor!==Object&&(i=n.get(u.constructor)))return i(u,a);let c={};e.push(u),r.push(c);for(let h in u){let d=u[h];if(typeof d!="object"||d===null)c[h]=d;else if(d.constructor!==Object&&(i=n.get(d.constructor)))c[h]=i(d,a);else if(ArrayBuffer.isView(d))c[h]=Lo(d);else{let g=e.indexOf(d);g!==-1?c[h]=r[g]:c[h]=a(d)}}return e.pop(),r.pop(),c}}});var TD=p(na=>{"use strict";var tF=na&&na.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(na,"__esModule",{value:!0});na.mergeOptionsWithDefaults=nF;var rF=tF(PD()),Ip=Dl(),Pl=(0,rF.default)();function OD(t,e,r,n,i){if(!(0,Ip.isObject)(t))return Pl(e);let o={};for(let s of Object.keys(e)){let a=e[s],u=t[s];if(u!==void 0){if((0,Ip.isObject)(u)){if(r.has(u)){i.add([u,o,s]);continue}r.add(u);let c=Array.isArray(u)?u.map(h=>Pl(h)):(0,Ip.isObject)(a)&&!Array.isArray(a)?OD(u,a,r,n,i):Pl(u);n.set(u,c),o[s]=c;continue}o[s]=u;continue}o[s]=Pl(a)}return o}function nF(t,e){let r=new WeakSet,n=new WeakMap,i=new Set,o=OD(t,e,r,n,i);for(let[s,a,u]of i)a[u]=n.get(s);return o}});var Fp=p(yn=>{"use strict";var iF=yn&&yn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),kp=yn&&yn.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&iF(e,t,r)};Object.defineProperty(yn,"__esModule",{value:!0});kp(Dl(),yn);kp(ED(),yn);kp(TD(),yn)});var MD=p($p=>{"use strict";Object.defineProperty($p,"__esModule",{value:!0});$p.serializeErrors=sF;var qD=wD(),oF=Np(),Ol=Fp();function sF(t){let e=(r,n)=>{if(!r||typeof r!="object")return r;if(n.has(r))return n.get(r);if(r instanceof Error){let o=(0,qD.serializeError)(r);return n.set(r,o),o}if(r instanceof Map){let o=new Map;n.set(r,o);for(let[s,a]of r){let u=e(s,n),c=e(a,n);(0,Ol.isObject)(s)&&n.set(s,u),(0,Ol.isObject)(a)&&n.set(a,c),o.set(u,c)}return o}if(r instanceof Set){let o=new Set;n.set(r,o);for(let s of r){if(!(0,Ol.isObject)(s)){o.add(s);continue}let a=e(s,n);n.set(s,a),o.add(a)}return o}if((0,oF.isIterable)(r)){let o=[];n.set(r,o);for(let s of r)o.push(e(s,n));return o}n.set(r,"[Circular]");let i=Object.fromEntries(Object.entries(r).map(([o,s])=>{if(!(0,Ol.isObject)(s))return[o,s];if(n.has(s))return[o,n.get(s)];if(s instanceof Error){let u=(0,qD.serializeError)(s);return n.set(s,u),[o,u]}let a=e(s,n);return n.set(s,a),[o,a]}));return n.set(r,i),i};return e(t,new WeakMap)}});var CD=p(Tl=>{"use strict";Object.defineProperty(Tl,"__esModule",{value:!0});Tl.ErrorFormatter=void 0;var aF=MD(),Wp=class{transform(e){let r=(0,aF.serializeErrors)({...e});for(let n of Object.keys(r))e[n]=r[n];return e}};Tl.ErrorFormatter=Wp});var Ml=p(ql=>{"use strict";Object.defineProperty(ql,"__esModule",{value:!0});ql.getLogFunction=void 0;var uF=(t,e)=>{let r=t[e];if(typeof r=="function")return r};ql.getLogFunction=uF});var AD=p(Kn=>{"use strict";Object.defineProperty(Kn,"__esModule",{value:!0});Kn.padNumber=Kn.padString=Kn.upperCaseFirstChar=void 0;var cF=t=>t.charAt(0).toUpperCase()+t.slice(1);Kn.upperCaseFirstChar=cF;var lF=(t,e)=>t+" ".repeat(e-t.length);Kn.padString=lF;var fF=(t,e)=>{let r=String(t);return"0".repeat(e-r.length)+r};Kn.padNumber=fF});var ND=p(Al=>{"use strict";Object.defineProperty(Al,"__esModule",{value:!0});Al.LanguageServerFormatter=void 0;var jD=ze(),dF=Ml(),Cl=AD(),Hp=class{constructor(e){this.options=e}transform(e){let r=new Date,n=`${r.getHours()%12||12}:${(0,Cl.padNumber)(r.getMinutes(),2)}:${(0,Cl.padNumber)(r.getSeconds(),2)} ${r.getHours()<12?"a.m.":"p.m."}`,i=[],o=String(e[jD.LEVEL]);(0,dF.getLogFunction)(this.options.connection.console,o)||i.push(`[${(0,Cl.padString)((0,Cl.upperCaseFirstChar)(o),5)} - ${n}]`),e.component&&i.push(`[${String(e.component)}]`),i.push(e.message),delete e.component,delete e.timestamp;let s=new Set(Object.keys({...e})),a=[];if(this.options.preferredKeyOrder)for(let c of this.options.preferredKeyOrder)s.has(c)&&(a.push(`${c}: ${JSON.stringify(e[c])}`),s.delete(c),delete e[c]);for(let c of s)c==="level"||c==="message"||(a.push(`${c}: ${JSON.stringify(e[c])}`),delete e[c]);let u=a.length>0?`${i.join(" ")} | ${a.join(" ")}`:i.join(" ");return e[jD.MESSAGE]=u,e.message=u,e}};Al.LanguageServerFormatter=Hp});var LD=p(Gr=>{"use strict";var hF=Gr&&Gr.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},Up=Gr&&Gr.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},gF=Gr&&Gr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},xo;Object.defineProperty(Gr,"__esModule",{value:!0});Gr.LanguageServerTransport=void 0;var pF=gF(Ti()),Bp=ze(),mF=Ml(),zp=class extends pF.default{constructor(e){super(e),xo.set(this,void 0),hF(this,xo,e.connection.console,"f")}log(e,r){setImmediate(()=>{this.emit("logged",e)});try{let n=(0,mF.getLogFunction)(Up(this,xo,"f"),String(e[Bp.LEVEL]));typeof n=="function"?n.call(Up(this,xo,"f"),String(e[Bp.MESSAGE])):Up(this,xo,"f").log(String(e[Bp.MESSAGE]))}catch(n){(!(n instanceof Error)||!n.message.includes("Connection is disposed"))&&this.emit("error",n)}r()}};Gr.LanguageServerTransport=zp;xo=new WeakMap});var xD=p(Yr=>{"use strict";var yF=Yr&&Yr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),jl=Yr&&Yr.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&yF(e,t,r)};Object.defineProperty(Yr,"__esModule",{value:!0});jl(CD(),Yr);jl(Ml(),Yr);jl(ND(),Yr);jl(LD(),Yr)});var Vp=p(ia=>{"use strict";var vF=ia&&ia.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ia,"__esModule",{value:!0});ia.createLogger=bF;var Io=vF(bD()),Nl=xD();function bF(t,e="info",r){let n=[new Nl.LanguageServerTransport({connection:t,format:Io.default.format.combine(new Nl.ErrorFormatter,new Nl.LanguageServerFormatter({connection:t,preferredKeyOrder:["module","uri","command"]}))})];return r&&n.push(new Io.default.transports.File({filename:r,format:Io.default.format.combine(new Nl.ErrorFormatter,Io.default.format.timestamp(),Io.default.format.json())})),Io.default.createLogger({level:e,transports:n,levels:{error:0,warn:1,info:2,debug:3}})}});var ko=p(Xn=>{"use strict";Object.defineProperty(Xn,"__esModule",{value:!0});Xn.Notification=Xn.CodeActionKind=Xn.CommandId=void 0;var _F=kr(),ID;(function(t){t.ApplyAutoFix="stylelint.applyAutoFix",t.OpenRuleDoc="stylelint.openRuleDoc"})(ID||(Xn.CommandId=ID={}));Xn.CodeActionKind={StylelintSourceFixAll:`${_F.CodeActionKind.SourceFixAll}.stylelint`};var kD;(function(t){t.DidRegisterCodeActionRequestHandler="stylelint/didRegisterCodeActionRequestHandler",t.DidRegisterDocumentFormattingEditProvider="stylelint/didRegisterDocumentFormattingEditProvider",t.DidResetConfiguration="stylelint/didResetConfiguration"})(kD||(Xn.Notification=kD={}))});var HD=p(Qn=>{"use strict";var FD=Qn&&Qn.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},lt=Qn&&Qn.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Gp,Jn,Dr,oa,WD;Object.defineProperty(Qn,"__esModule",{value:!0});Qn.AutoFixModule=void 0;var wF=Oe(),$D=ko(),Ll=class{constructor({context:e,logger:r}){Gp.add(this),Jn.set(this,void 0),Dr.set(this,void 0),oa.set(this,[]),FD(this,Jn,e,"f"),FD(this,Dr,r,"f")}onInitialize(){return{capabilities:{executeCommandProvider:{commands:[$D.CommandId.ApplyAutoFix]}}}}dispose(){lt(this,oa,"f").forEach(e=>e.dispose()),lt(this,oa,"f").length=0}onDidRegisterHandlers(){lt(this,Dr,"f")?.debug("Registering onExecuteCommand handler"),lt(this,oa,"f").push(lt(this,Jn,"f").commands.on($D.CommandId.ApplyAutoFix,async({arguments:e})=>{if(!e)return{};let r=e[0],n=r.uri,i=lt(this,Jn,"f").documents.get(n);if(!i||!await lt(this,Gp,"m",WD).call(this,i))return lt(this,Dr,"f")?.isDebugEnabled()&&(i?lt(this,Dr,"f").debug("Document should not be auto-fixed, ignoring",{uri:n,language:i.languageId}):lt(this,Dr,"f").debug("Unknown document, ignoring",{uri:n})),{};if(r.version!==i.version)return lt(this,Dr,"f")?.debug("Document has been modified, ignoring",{uri:n}),{};let o=new wF.WorkspaceChange,s=o.getTextEditChange(r),a=await lt(this,Jn,"f").getFixes(i);a.forEach(u=>s.add(u)),lt(this,Dr,"f")?.debug("Applying fixes",{uri:n,edits:a});try{let u=await lt(this,Jn,"f").connection.workspace.applyEdit(o.edit);u.applied||lt(this,Dr,"f")?.debug("Failed to apply fixes",{uri:n,response:u})}catch(u){lt(this,Dr,"f")?.debug("Failed to apply fixes",{uri:n,error:u})}return{}}))}};Qn.AutoFixModule=Ll;Jn=new WeakMap,Dr=new WeakMap,oa=new WeakMap,Gp=new WeakSet,WD=async function(e){return(await lt(this,Jn,"f").getOptions(e.uri)).validate.includes(e.languageId)};Ll.id="auto-fix"});var zD=p($t=>{"use strict";var RF=$t&&$t.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),SF=$t&&$t.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),EF=$t&&$t.__importStar||function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var n=[];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[n.length]=i);return n},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n=t(e),i=0;i<n.length;i++)n[i]!=="default"&&RF(r,e,n[i]);return SF(r,e),r}}(),UD=$t&&$t.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},Qe=$t&&$t.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},sa,St,Zn;Object.defineProperty($t,"__esModule",{value:!0});$t.CommandManager=void 0;var BD=EF(Oe()),Yp=class{constructor(e,r){sa.set(this,void 0),St.set(this,void 0),Zn.set(this,new Map),UD(this,sa,e,"f"),UD(this,St,r,"f")}dispose(){Qe(this,St,"f")?.debug("Disposing command manager"),Qe(this,Zn,"f").clear(),Qe(this,sa,"f").onExecuteCommand(()=>{})}on(e,r){if(Array.isArray(e)){Qe(this,St,"f")?.debug("Registering commands",{commands:e});for(let n of e)Qe(this,Zn,"f").set(n,r);return{dispose:()=>{Qe(this,St,"f")?.debug("Deregistering commands",{commands:e});for(let n of e)Qe(this,Zn,"f").delete(n)}}}return Qe(this,St,"f")?.debug("Registering command",{command:e}),Qe(this,Zn,"f").set(e,r),{dispose:()=>{Qe(this,St,"f")?.debug("Deregistering command",{command:e}),Qe(this,Zn,"f").delete(e)}}}register(){Qe(this,St,"f")?.debug("Registering ExecuteCommandRequest handler"),Qe(this,sa,"f").onExecuteCommand(async(...e)=>{Qe(this,St,"f")?.debug("Received ExecuteCommandRequest",{command:e[0].command,arguments:e[0].arguments});let r=Qe(this,Zn,"f").get(e[0].command);if(!r)return Qe(this,St,"f")?.debug("No handler registered for command",{command:e[0].command}),{};Qe(this,St,"f")?.debug("Executing command",{command:e[0].command});try{let n=await r(...e);return Qe(this,St,"f")?.debug("Sending command response",{command:e[0].command,response:n}),n}catch(n){return Qe(this,St,"f")?.error("Error executing command",{command:e[0].command,error:n}),new BD.ResponseError(BD.ErrorCodes.InternalError,`Error executing command ${e[0].command}`,n)}}),Qe(this,St,"f")?.debug("ExecuteCommandRequest handler registered")}};$t.CommandManager=Yp;sa=new WeakMap,St=new WeakMap,Zn=new WeakMap});var VD=p(Kp=>{"use strict";Object.defineProperty(Kp,"__esModule",{value:!0});Kp.createDisableCompletionItem=DF;var aa=kr();function DF(t,e=""){let r=aa.CompletionItem.create(t);return r.kind=aa.CompletionItemKind.Snippet,r.insertTextFormat=aa.InsertTextFormat.Snippet,t==="stylelint-disable"?(r.insertText=`/* stylelint-disable \${0:${e||"rule"}} */
/* stylelint-enable \${0:${e||"rule"}} */`,r.detail="Turn off all Stylelint or individual rules, after which you do not need to re-enable Stylelint. (Stylelint)",r.documentation={kind:aa.MarkupKind.Markdown,value:`\`\`\`css
/* stylelint-disable ${e||"rule"} */
/* stylelint-enable ${e||"rule"} */
\`\`\``}):(r.insertText=`/* ${t} \${0:${e||"rule"}} */`,r.detail=t==="stylelint-disable-line"?"Turn off Stylelint rules for individual lines only, after which you do not need to explicitly re-enable them. (Stylelint)":"Turn off Stylelint rules for the next line only, after which you do not need to explicitly re-enable them. (Stylelint)",r.documentation={kind:aa.MarkupKind.Markdown,value:`\`\`\`css
/* ${t} ${e||"rule"} */
\`\`\``}),r}});var GD=p(Pr=>{"use strict";var PF=Pr&&Pr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),OF=Pr&&Pr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),TF=Pr&&Pr.__importStar||function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var n=[];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[n.length]=i);return n},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n=t(e),i=0;i<n.length;i++)n[i]!=="default"&&PF(r,e,n[i]);return OF(r,e),r}}(),qF=Pr&&Pr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pr,"__esModule",{value:!0});Pr.createDisableRuleFileCodeAction=CF;var MF=qF(require("os")),ei=TF(Oe());function CF(t,{code:e}){let r=new ei.WorkspaceChange,n=t.getText(ei.Range.create(ei.Position.create(0,0),ei.Position.create(0,2)));return r.getTextEditChange(t).add(ei.TextEdit.insert(ei.Position.create(n==="#!"?1:0,0),`/* stylelint-disable ${e} */${MF.default.EOL}`)),ei.CodeAction.create(`Disable ${e} for the entire file`,r.edit,ei.CodeActionKind.QuickFix)}});var YD=p(Or=>{"use strict";var AF=Or&&Or.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),jF=Or&&Or.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),NF=Or&&Or.__importStar||function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var n=[];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[n.length]=i);return n},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n=t(e),i=0;i<n.length;i++)n[i]!=="default"&&AF(r,e,n[i]);return jF(r,e),r}}(),LF=Or&&Or.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Or,"__esModule",{value:!0});Or.createDisableRuleLineCodeAction=IF;var xF=LF(require("os")),cr=NF(Oe());function IF(t,{code:e,range:r},n){let i=new cr.WorkspaceChange;if(n==="sameLine")i.getTextEditChange(t).add(cr.TextEdit.insert(cr.Position.create(r.start.line,cr.uinteger.MAX_VALUE),` /* stylelint-disable-line ${e} */`));else{let s=t.getText(cr.Range.create(cr.Position.create(r.start.line,0),cr.Position.create(r.start.line,cr.uinteger.MAX_VALUE))).match(/^([ \t]+)/)?.[1]??"";i.getTextEditChange(t).add(cr.TextEdit.insert(cr.Position.create(r.start.line,0),`${s}/* stylelint-disable-next-line ${e} */${xF.default.EOL}`))}return cr.CodeAction.create(`Disable ${e} for this line`,i.edit,cr.CodeActionKind.QuickFix)}});var KD=p(Xp=>{"use strict";Object.defineProperty(Xp,"__esModule",{value:!0});Xp.displayError=FF;var kF=Np();function FF(t,e){if(!(e instanceof Error)){t.window.showErrorMessage(String(e).replace(/\n/gu," "));return}if((0,kF.isIterableObject)(e?.reasons)){for(let r of e.reasons)t.window.showErrorMessage(`Stylelint: ${r}`);return}if(e?.code===78){t.window.showErrorMessage(`Stylelint: ${e.message}`);return}t.window.showErrorMessage((e.stack||e.message).replace(/\n/gu," "))}});var JD=p(ri=>{"use strict";var XD=ri&&ri.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},Et=ri&&ri.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},xl,Ii,Fo,ti,Jp;Object.defineProperty(ri,"__esModule",{value:!0});ri.NotificationManager=void 0;var Qp=class{constructor(e,r){xl.add(this),Ii.set(this,void 0),Fo.set(this,void 0),ti.set(this,new Map),XD(this,Ii,e,"f"),XD(this,Fo,r,"f")}dispose(){Et(this,Fo,"f")?.debug("Disposing notification manager");for(let[e]of Et(this,ti,"f"))e?Et(this,Ii,"f").onNotification(e,()=>{}):Et(this,Ii,"f").onNotification(()=>{});Et(this,ti,"f").clear()}on(e,r){let n=typeof e=="function",[i,o]=n?[void 0,e]:[e,r];if(!o)throw new Error("Handler must be defined");let s={dispose:()=>{Et(this,ti,"f").get(i)?.delete(o)}},a=Et(this,ti,"f").get(i);return a?(a.add(o),s):(Et(this,ti,"f").set(i,new Set([o])),n?(Et(this,Ii,"f").onNotification((...u)=>Et(this,xl,"m",Jp).call(this,void 0,u)),s):(Et(this,Ii,"f").onNotification(e,(...u)=>Et(this,xl,"m",Jp).call(this,e,u)),s))}};ri.NotificationManager=Qp;Ii=new WeakMap,Fo=new WeakMap,ti=new WeakMap,xl=new WeakSet,Jp=async function(e,r){Et(this,Fo,"f")?.debug("Received notification",{notificationType:e??"<all>",params:r});let n=Et(this,ti,"f").get(e),i=[];for(let o of n)i.push(async()=>{try{await o(...r)}catch(s){Et(this,Fo,"f")?.error("Error handling notification",{notificationType:e??"<all>",error:s})}});await Promise.all(i.map(o=>o()))}});var QD=p($o=>{"use strict";var Zp=$o&&$o.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},ua;Object.defineProperty($o,"__esModule",{value:!0});$o.RuleCodeActionsCollection=void 0;var em=class{constructor(){ua.set(this,new Map)}get(e){let r=Zp(this,ua,"f").get(e);if(r)return r;let n={};return Zp(this,ua,"f").set(e,n),n}*[(ua=new WeakMap,Symbol.iterator)](){for(let e of Zp(this,ua,"f").values())e.disableLine&&(yield e.disableLine),e.disableFile&&(yield e.disableFile),e.documentation&&(yield e.documentation)}get size(){let e=this[Symbol.iterator](),r=0;for(;!e.next().done;)r++;return r}};$o.RuleCodeActionsCollection=em});var eP=p(ZD=>{"use strict";Object.defineProperty(ZD,"__esModule",{value:!0})});var Il=p(Wt=>{"use strict";var $F=Wt&&Wt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ni=Wt&&Wt.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&$F(e,t,r)};Object.defineProperty(Wt,"__esModule",{value:!0});ni(zD(),Wt);ni(VD(),Wt);ni(GD(),Wt);ni(YD(),Wt);ni(KD(),Wt);ni(JD(),Wt);ni(QD(),Wt);ni(eP(),Wt)});var kl=p((H8,nP)=>{"use strict";var rP=require("path");nP.exports=function(t,e){return t=tP(t),e=tP(e),process.platform==="win32"&&(t=t.toLowerCase(),e=e.toLowerCase()),t.lastIndexOf(e,0)===0&&(t[e.length]===rP.sep||t[e.length]===void 0)};function tP(t){return t[t.length-1]===rP.sep?t.slice(0,-1):t}});var Wo=p((ca,tm)=>{(function(t,e){if(typeof ca=="object"&&typeof tm=="object")tm.exports=e();else if(typeof define=="function"&&define.amd)define([],e);else{var r=e();for(var n in r)(typeof ca=="object"?ca:t)[n]=r[n]}})(ca,()=>(()=>{"use strict";var t={975:i=>{function o(u){if(typeof u!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(u))}function s(u,c){for(var h,d="",g=0,_=-1,y=0,E=0;E<=u.length;++E){if(E<u.length)h=u.charCodeAt(E);else{if(h===47)break;h=47}if(h===47){if(!(_===E-1||y===1))if(_!==E-1&&y===2){if(d.length<2||g!==2||d.charCodeAt(d.length-1)!==46||d.charCodeAt(d.length-2)!==46){if(d.length>2){var C=d.lastIndexOf("/");if(C!==d.length-1){C===-1?(d="",g=0):g=(d=d.slice(0,C)).length-1-d.lastIndexOf("/"),_=E,y=0;continue}}else if(d.length===2||d.length===1){d="",g=0,_=E,y=0;continue}}c&&(d.length>0?d+="/..":d="..",g=2)}else d.length>0?d+="/"+u.slice(_+1,E):d=u.slice(_+1,E),g=E-_-1;_=E,y=0}else h===46&&y!==-1?++y:y=-1}return d}var a={resolve:function(){for(var u,c="",h=!1,d=arguments.length-1;d>=-1&&!h;d--){var g;d>=0?g=arguments[d]:(u===void 0&&(u=process.cwd()),g=u),o(g),g.length!==0&&(c=g+"/"+c,h=g.charCodeAt(0)===47)}return c=s(c,!h),h?c.length>0?"/"+c:"/":c.length>0?c:"."},normalize:function(u){if(o(u),u.length===0)return".";var c=u.charCodeAt(0)===47,h=u.charCodeAt(u.length-1)===47;return(u=s(u,!c)).length!==0||c||(u="."),u.length>0&&h&&(u+="/"),c?"/"+u:u},isAbsolute:function(u){return o(u),u.length>0&&u.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var u,c=0;c<arguments.length;++c){var h=arguments[c];o(h),h.length>0&&(u===void 0?u=h:u+="/"+h)}return u===void 0?".":a.normalize(u)},relative:function(u,c){if(o(u),o(c),u===c||(u=a.resolve(u))===(c=a.resolve(c)))return"";for(var h=1;h<u.length&&u.charCodeAt(h)===47;++h);for(var d=u.length,g=d-h,_=1;_<c.length&&c.charCodeAt(_)===47;++_);for(var y=c.length-_,E=g<y?g:y,C=-1,O=0;O<=E;++O){if(O===E){if(y>E){if(c.charCodeAt(_+O)===47)return c.slice(_+O+1);if(O===0)return c.slice(_+O)}else g>E&&(u.charCodeAt(h+O)===47?C=O:O===0&&(C=0));break}var w=u.charCodeAt(h+O);if(w!==c.charCodeAt(_+O))break;w===47&&(C=O)}var v="";for(O=h+C+1;O<=d;++O)O!==d&&u.charCodeAt(O)!==47||(v.length===0?v+="..":v+="/..");return v.length>0?v+c.slice(_+C):(_+=C,c.charCodeAt(_)===47&&++_,c.slice(_))},_makeLong:function(u){return u},dirname:function(u){if(o(u),u.length===0)return".";for(var c=u.charCodeAt(0),h=c===47,d=-1,g=!0,_=u.length-1;_>=1;--_)if((c=u.charCodeAt(_))===47){if(!g){d=_;break}}else g=!1;return d===-1?h?"/":".":h&&d===1?"//":u.slice(0,d)},basename:function(u,c){if(c!==void 0&&typeof c!="string")throw new TypeError('"ext" argument must be a string');o(u);var h,d=0,g=-1,_=!0;if(c!==void 0&&c.length>0&&c.length<=u.length){if(c.length===u.length&&c===u)return"";var y=c.length-1,E=-1;for(h=u.length-1;h>=0;--h){var C=u.charCodeAt(h);if(C===47){if(!_){d=h+1;break}}else E===-1&&(_=!1,E=h+1),y>=0&&(C===c.charCodeAt(y)?--y==-1&&(g=h):(y=-1,g=E))}return d===g?g=E:g===-1&&(g=u.length),u.slice(d,g)}for(h=u.length-1;h>=0;--h)if(u.charCodeAt(h)===47){if(!_){d=h+1;break}}else g===-1&&(_=!1,g=h+1);return g===-1?"":u.slice(d,g)},extname:function(u){o(u);for(var c=-1,h=0,d=-1,g=!0,_=0,y=u.length-1;y>=0;--y){var E=u.charCodeAt(y);if(E!==47)d===-1&&(g=!1,d=y+1),E===46?c===-1?c=y:_!==1&&(_=1):c!==-1&&(_=-1);else if(!g){h=y+1;break}}return c===-1||d===-1||_===0||_===1&&c===d-1&&c===h+1?"":u.slice(c,d)},format:function(u){if(u===null||typeof u!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof u);return function(c,h){var d=h.dir||h.root,g=h.base||(h.name||"")+(h.ext||"");return d?d===h.root?d+g:d+"/"+g:g}(0,u)},parse:function(u){o(u);var c={root:"",dir:"",base:"",ext:"",name:""};if(u.length===0)return c;var h,d=u.charCodeAt(0),g=d===47;g?(c.root="/",h=1):h=0;for(var _=-1,y=0,E=-1,C=!0,O=u.length-1,w=0;O>=h;--O)if((d=u.charCodeAt(O))!==47)E===-1&&(C=!1,E=O+1),d===46?_===-1?_=O:w!==1&&(w=1):_!==-1&&(w=-1);else if(!C){y=O+1;break}return _===-1||E===-1||w===0||w===1&&_===E-1&&_===y+1?E!==-1&&(c.base=c.name=y===0&&g?u.slice(1,E):u.slice(y,E)):(y===0&&g?(c.name=u.slice(1,_),c.base=u.slice(1,E)):(c.name=u.slice(y,_),c.base=u.slice(y,E)),c.ext=u.slice(_,E)),y>0?c.dir=u.slice(0,y-1):g&&(c.dir="/"),c},sep:"/",delimiter:":",win32:null,posix:null};a.posix=a,i.exports=a},70:(i,o)=>{if(Object.defineProperty(o,"__esModule",{value:!0}),o.isWindows=void 0,typeof process=="object")o.isWindows=process.platform==="win32";else if(typeof navigator=="object"){let s=navigator.userAgent;o.isWindows=s.indexOf("Windows")>=0}},231:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.uriToFsPath=o.URI=void 0;let a=s(70),u=/^\w[\w\d+.-]*$/,c=/^\//,h=/^\/\//;function d(F,x){if(!F.scheme&&x)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${F.authority}", path: "${F.path}", query: "${F.query}", fragment: "${F.fragment}"}`);if(F.scheme&&!u.test(F.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(F.path){if(F.authority){if(!c.test(F.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(h.test(F.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}let g="",_="/",y=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class E{static isUri(x){return x instanceof E||!!x&&typeof x.authority=="string"&&typeof x.fragment=="string"&&typeof x.path=="string"&&typeof x.query=="string"&&typeof x.scheme=="string"&&typeof x.fsPath=="string"&&typeof x.with=="function"&&typeof x.toString=="function"}scheme;authority;path;query;fragment;constructor(x,H,z,ie,le,q=!1){typeof x=="object"?(this.scheme=x.scheme||g,this.authority=x.authority||g,this.path=x.path||g,this.query=x.query||g,this.fragment=x.fragment||g):(this.scheme=function(U,ne){return U||ne?U:"file"}(x,q),this.authority=H||g,this.path=function(U,ne){switch(U){case"https":case"http":case"file":ne?ne[0]!==_&&(ne=_+ne):ne=_}return ne}(this.scheme,z||g),this.query=ie||g,this.fragment=le||g,d(this,q))}get fsPath(){return I(this,!1)}with(x){if(!x)return this;let{scheme:H,authority:z,path:ie,query:le,fragment:q}=x;return H===void 0?H=this.scheme:H===null&&(H=g),z===void 0?z=this.authority:z===null&&(z=g),ie===void 0?ie=this.path:ie===null&&(ie=g),le===void 0?le=this.query:le===null&&(le=g),q===void 0?q=this.fragment:q===null&&(q=g),H===this.scheme&&z===this.authority&&ie===this.path&&le===this.query&&q===this.fragment?this:new O(H,z,ie,le,q)}static parse(x,H=!1){let z=y.exec(x);return z?new O(z[2]||g,re(z[4]||g),re(z[5]||g),re(z[7]||g),re(z[9]||g),H):new O(g,g,g,g,g)}static file(x){let H=g;if(a.isWindows&&(x=x.replace(/\\/g,_)),x[0]===_&&x[1]===_){let z=x.indexOf(_,2);z===-1?(H=x.substring(2),x=_):(H=x.substring(2,z),x=x.substring(z)||_)}return new O("file",H,x,g,g)}static from(x){let H=new O(x.scheme,x.authority,x.path,x.query,x.fragment);return d(H,!0),H}toString(x=!1){return W(this,x)}toJSON(){return this}static revive(x){if(x){if(x instanceof E)return x;{let H=new O(x);return H._formatted=x.external,H._fsPath=x._sep===C?x.fsPath:null,H}}return x}}o.URI=E;let C=a.isWindows?1:void 0;class O extends E{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=I(this,!1)),this._fsPath}toString(x=!1){return x?W(this,!0):(this._formatted||(this._formatted=W(this,!1)),this._formatted)}toJSON(){let x={$mid:1};return this._fsPath&&(x.fsPath=this._fsPath,x._sep=C),this._formatted&&(x.external=this._formatted),this.path&&(x.path=this.path),this.scheme&&(x.scheme=this.scheme),this.authority&&(x.authority=this.authority),this.query&&(x.query=this.query),this.fragment&&(x.fragment=this.fragment),x}}let w={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function v(F,x,H){let z,ie=-1;for(let le=0;le<F.length;le++){let q=F.charCodeAt(le);if(q>=97&&q<=122||q>=65&&q<=90||q>=48&&q<=57||q===45||q===46||q===95||q===126||x&&q===47||H&&q===91||H&&q===93||H&&q===58)ie!==-1&&(z+=encodeURIComponent(F.substring(ie,le)),ie=-1),z!==void 0&&(z+=F.charAt(le));else{z===void 0&&(z=F.substr(0,le));let U=w[q];U!==void 0?(ie!==-1&&(z+=encodeURIComponent(F.substring(ie,le)),ie=-1),z+=U):ie===-1&&(ie=le)}}return ie!==-1&&(z+=encodeURIComponent(F.substring(ie))),z!==void 0?z:F}function M(F){let x;for(let H=0;H<F.length;H++){let z=F.charCodeAt(H);z===35||z===63?(x===void 0&&(x=F.substr(0,H)),x+=w[z]):x!==void 0&&(x+=F[H])}return x!==void 0?x:F}function I(F,x){let H;return H=F.authority&&F.path.length>1&&F.scheme==="file"?`//${F.authority}${F.path}`:F.path.charCodeAt(0)===47&&(F.path.charCodeAt(1)>=65&&F.path.charCodeAt(1)<=90||F.path.charCodeAt(1)>=97&&F.path.charCodeAt(1)<=122)&&F.path.charCodeAt(2)===58?x?F.path.substr(1):F.path[1].toLowerCase()+F.path.substr(2):F.path,a.isWindows&&(H=H.replace(/\//g,"\\")),H}function W(F,x){let H=x?M:v,z="",{scheme:ie,authority:le,path:q,query:U,fragment:ne}=F;if(ie&&(z+=ie,z+=":"),(le||ie==="file")&&(z+=_,z+=_),le){let fe=le.indexOf("@");if(fe!==-1){let J=le.substr(0,fe);le=le.substr(fe+1),fe=J.lastIndexOf(":"),fe===-1?z+=H(J,!1,!1):(z+=H(J.substr(0,fe),!1,!1),z+=":",z+=H(J.substr(fe+1),!1,!0)),z+="@"}le=le.toLowerCase(),fe=le.lastIndexOf(":"),fe===-1?z+=H(le,!1,!0):(z+=H(le.substr(0,fe),!1,!0),z+=le.substr(fe))}if(q){if(q.length>=3&&q.charCodeAt(0)===47&&q.charCodeAt(2)===58){let fe=q.charCodeAt(1);fe>=65&&fe<=90&&(q=`/${String.fromCharCode(fe+32)}:${q.substr(3)}`)}else if(q.length>=2&&q.charCodeAt(1)===58){let fe=q.charCodeAt(0);fe>=65&&fe<=90&&(q=`${String.fromCharCode(fe+32)}:${q.substr(2)}`)}z+=H(q,!0,!1)}return U&&(z+="?",z+=H(U,!1,!1)),ne&&(z+="#",z+=x?ne:v(ne,!1,!1)),z}function V(F){try{return decodeURIComponent(F)}catch{return F.length>3?F.substr(0,3)+V(F.substr(3)):F}}o.uriToFsPath=I;let ee=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function re(F){return F.match(ee)?F.replace(ee,x=>V(x)):F}},552:function(i,o,s){var a=this&&this.__createBinding||(Object.create?function(y,E,C,O){O===void 0&&(O=C);var w=Object.getOwnPropertyDescriptor(E,C);w&&!("get"in w?!E.__esModule:w.writable||w.configurable)||(w={enumerable:!0,get:function(){return E[C]}}),Object.defineProperty(y,O,w)}:function(y,E,C,O){O===void 0&&(O=C),y[O]=E[C]}),u=this&&this.__setModuleDefault||(Object.create?function(y,E){Object.defineProperty(y,"default",{enumerable:!0,value:E})}:function(y,E){y.default=E}),c=this&&this.__importStar||function(y){if(y&&y.__esModule)return y;var E={};if(y!=null)for(var C in y)C!=="default"&&Object.prototype.hasOwnProperty.call(y,C)&&a(E,y,C);return u(E,y),E};Object.defineProperty(o,"__esModule",{value:!0}),o.Utils=void 0;let h=c(s(975)),d=h.posix||h,g="/";var _;(function(y){y.joinPath=function(E,...C){return E.with({path:d.join(E.path,...C)})},y.resolvePath=function(E,...C){let O=E.path,w=!1;O[0]!==g&&(O=g+O,w=!0);let v=d.resolve(O,...C);return w&&v[0]===g&&!E.authority&&(v=v.substring(1)),E.with({path:v})},y.dirname=function(E){if(E.path.length===0||E.path===g)return E;let C=d.dirname(E.path);return C.length===1&&C.charCodeAt(0)===46&&(C=""),E.with({path:C})},y.basename=function(E){return d.basename(E.path)},y.extname=function(E){return d.extname(E.path)}})(_||(o.Utils=_={}))}},e={};function r(i){var o=e[i];if(o!==void 0)return o.exports;var s=e[i]={exports:{}};return t[i].call(s.exports,s,s.exports,r),s.exports}var n={};return(()=>{var i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.Utils=i.URI=void 0;let o=r(231);Object.defineProperty(i,"URI",{enumerable:!0,get:function(){return o.URI}});let s=r(552);Object.defineProperty(i,"Utils",{enumerable:!0,get:function(){return s.Utils}})})(),n})())});var rm=p(fa=>{"use strict";var iP=fa&&fa.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fa,"__esModule",{value:!0});fa.findPackageRoot=HF;var WF=iP(require("fs/promises")),la=iP(require("path"));async function HF(t,e="package.json"){let r=t;for(;;){let n=la.default.join(r,e);try{if((await WF.default.stat(n)).isFile())return r;let o=la.default.dirname(r);if(!la.default.relative(o,r))return;r=o}catch(i){if(i.code==="ENOENT"||i.code==="ENOTDIR"){let o=la.default.dirname(r);if(!la.default.relative(o,r))return;r=o}else throw i}}}});var sP=p(da=>{"use strict";var oP=da&&da.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(da,"__esModule",{value:!0});da.runProcessFindLine=zF;var UF=oP(require("child_process")),BF=oP(require("readline"));function zF(t,e,r,n){return new Promise((i,o)=>{let s=UF.default.spawn(t,e,r),a=BF.default.createInterface({input:s.stdout}),u,c,h=!1,d=!1,g=()=>{h||c===void 0||!d||(h=!0,c===0?i(u):o(new Error(`Command "${t}" exited with code ${c}.`)))},_=y=>{h=!0,s.removeAllListeners(),a.close();try{s.kill()}catch{}o(y)};a.on("line",y=>{if(!(h||u!==void 0))try{let E=n(y);E!==void 0&&(u=E),g()}catch(E){_(E)}}),a.on("close",()=>{h||(d=!0,g())}),s.on("error",_),s.on("exit",(y,E)=>{c=y??E,g()})})}});var am=p(Kr=>{"use strict";var aP=Kr&&Kr.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},ot=Kr&&Kr.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},uP=Kr&&Kr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},ha,Tr,Fl,ki,om,cP,lP,fP;Object.defineProperty(Kr,"__esModule",{value:!0});Kr.GlobalPathResolver=void 0;var VF=uP(require("os")),nm=uP(require("path")),im=sP(),sm=class{constructor(e){ha.add(this),Tr.set(this,void 0),Fl.set(this,{yarn:void 0,npm:void 0,pnpm:void 0}),ki.set(this,void 0),om.set(this,{yarn:ot(this,ha,"m",cP).bind(this),npm:ot(this,ha,"m",lP).bind(this),pnpm:ot(this,ha,"m",fP).bind(this)}),aP(this,Tr,e,"f"),aP(this,ki,VF.default.platform()==="win32","f")}async resolve(e){let r=ot(this,Fl,"f")[e];if(r)return r;let n=ot(this,om,"f")[e];if(!n){ot(this,Tr,"f")?.warn("Unsupported package manager.",{packageManager:e});return}try{let i=await n();return i&&(ot(this,Fl,"f")[e]=i),i}catch(i){ot(this,Tr,"f")?.warn("Failed to resolve global node_modules path.",{packageManager:e,error:i});return}}};Kr.GlobalPathResolver=sm;Tr=new WeakMap,Fl=new WeakMap,ki=new WeakMap,om=new WeakMap,ha=new WeakSet,cP=async function(){let e=n=>{try{return JSON.parse(n)}catch{return}},r=await(0,im.runProcessFindLine)("yarn",["global","dir","--json"],ot(this,ki,"f")?{shell:!0}:void 0,n=>{let i=e(n);if(!i||i.type!=="log"||!i.data)return;let o=nm.default.join(i.data,"node_modules");return ot(this,Tr,"f")?.debug("Yarn returned global node_modules path.",{path:o}),o});if(!r){ot(this,Tr,"f")?.warn('"yarn global dir --json" did not return a path.');return}return r},lP=async function(){let e=await(0,im.runProcessFindLine)("npm",["config","get","prefix"],ot(this,ki,"f")?{shell:!0}:void 0,r=>{let n=r.trim();if(!n)return;let i=ot(this,ki,"f")?nm.default.join(n,"node_modules"):nm.default.join(n,"lib/node_modules");return ot(this,Tr,"f")?.debug("npm returned global node_modules path.",{path:i}),i});if(!e){ot(this,Tr,"f")?.warn('"npm config get prefix" did not return a path.');return}return e},fP=async function(){let e=await(0,im.runProcessFindLine)("pnpm",["root","-g"],ot(this,ki,"f")?{shell:!0}:void 0,r=>{let n=r.trim();if(n)return ot(this,Tr,"f")?.debug("pnpm returned global node_modules path.",{path:n}),n});if(!e){ot(this,Tr,"f")?.warn('"pnpm root -g" did not return a path.');return}return e}});var RP=p((V8,wP)=>{var Zt=-1,Dt=1,tt=0;function ga(t,e,r,n,i){if(t===e)return t?[[tt,t]]:[];if(r!=null){var o=t$(t,e,r);if(o)return o}var s=cm(t,e),a=t.substring(0,s);t=t.substring(s),e=e.substring(s),s=$l(t,e);var u=t.substring(t.length-s);t=t.substring(0,t.length-s),e=e.substring(0,e.length-s);var c=GF(t,e);return a&&c.unshift([tt,a]),u&&c.push([tt,u]),lm(c,i),n&&XF(c),c}function GF(t,e){var r;if(!t)return[[Dt,e]];if(!e)return[[Zt,t]];var n=t.length>e.length?t:e,i=t.length>e.length?e:t,o=n.indexOf(i);if(o!==-1)return r=[[Dt,n.substring(0,o)],[tt,i],[Dt,n.substring(o+i.length)]],t.length>e.length&&(r[0][0]=r[2][0]=Zt),r;if(i.length===1)return[[Zt,t],[Dt,e]];var s=KF(t,e);if(s){var a=s[0],u=s[1],c=s[2],h=s[3],d=s[4],g=ga(a,c),_=ga(u,h);return g.concat([[tt,d]],_)}return YF(t,e)}function YF(t,e){for(var r=t.length,n=e.length,i=Math.ceil((r+n)/2),o=i,s=2*i,a=new Array(s),u=new Array(s),c=0;c<s;c++)a[c]=-1,u[c]=-1;a[o+1]=0,u[o+1]=0;for(var h=r-n,d=h%2!==0,g=0,_=0,y=0,E=0,C=0;C<i;C++){for(var O=-C+g;O<=C-_;O+=2){var w=o+O,v;O===-C||O!==C&&a[w-1]<a[w+1]?v=a[w+1]:v=a[w-1]+1;for(var M=v-O;v<r&&M<n&&t.charAt(v)===e.charAt(M);)v++,M++;if(a[w]=v,v>r)_+=2;else if(M>n)g+=2;else if(d){var I=o+h-O;if(I>=0&&I<s&&u[I]!==-1){var W=r-u[I];if(v>=W)return dP(t,e,v,M)}}}for(var V=-C+y;V<=C-E;V+=2){var I=o+V,W;V===-C||V!==C&&u[I-1]<u[I+1]?W=u[I+1]:W=u[I-1]+1;for(var ee=W-V;W<r&&ee<n&&t.charAt(r-W-1)===e.charAt(n-ee-1);)W++,ee++;if(u[I]=W,W>r)E+=2;else if(ee>n)y+=2;else if(!d){var w=o+h-V;if(w>=0&&w<s&&a[w]!==-1){var v=a[w],M=o+v-w;if(W=r-W,v>=W)return dP(t,e,v,M)}}}}return[[Zt,t],[Dt,e]]}function dP(t,e,r,n){var i=t.substring(0,r),o=e.substring(0,n),s=t.substring(r),a=e.substring(n),u=ga(i,o),c=ga(s,a);return u.concat(c)}function cm(t,e){if(!t||!e||t.charAt(0)!==e.charAt(0))return 0;for(var r=0,n=Math.min(t.length,e.length),i=n,o=0;r<i;)t.substring(o,i)==e.substring(o,i)?(r=i,o=r):n=i,i=Math.floor((n-r)/2+r);return yP(t.charCodeAt(i-1))&&i--,i}function hP(t,e){var r=t.length,n=e.length;if(r==0||n==0)return 0;r>n?t=t.substring(r-n):r<n&&(e=e.substring(0,r));var i=Math.min(r,n);if(t==e)return i;for(var o=0,s=1;;){var a=t.substring(i-s),u=e.indexOf(a);if(u==-1)return o;s+=u,(u==0||t.substring(i-s)==e.substring(0,s))&&(o=s,s++)}}function $l(t,e){if(!t||!e||t.slice(-1)!==e.slice(-1))return 0;for(var r=0,n=Math.min(t.length,e.length),i=n,o=0;r<i;)t.substring(t.length-i,t.length-o)==e.substring(e.length-i,e.length-o)?(r=i,o=r):n=i,i=Math.floor((n-r)/2+r);return vP(t.charCodeAt(t.length-i))&&i--,i}function KF(t,e){var r=t.length>e.length?t:e,n=t.length>e.length?e:t;if(r.length<4||n.length*2<r.length)return null;function i(_,y,E){for(var C=_.substring(E,E+Math.floor(_.length/4)),O=-1,w="",v,M,I,W;(O=y.indexOf(C,O+1))!==-1;){var V=cm(_.substring(E),y.substring(O)),ee=$l(_.substring(0,E),y.substring(0,O));w.length<ee+V&&(w=y.substring(O-ee,O)+y.substring(O,O+V),v=_.substring(0,E-ee),M=_.substring(E+V),I=y.substring(0,O-ee),W=y.substring(O+V))}return w.length*2>=_.length?[v,M,I,W,w]:null}var o=i(r,n,Math.ceil(r.length/4)),s=i(r,n,Math.ceil(r.length/2)),a;if(!o&&!s)return null;s?o?a=o[4].length>s[4].length?o:s:a=s:a=o;var u,c,h,d;t.length>e.length?(u=a[0],c=a[1],h=a[2],d=a[3]):(h=a[0],d=a[1],u=a[2],c=a[3]);var g=a[4];return[u,c,h,d,g]}function XF(t){for(var e=!1,r=[],n=0,i=null,o=0,s=0,a=0,u=0,c=0;o<t.length;)t[o][0]==tt?(r[n++]=o,s=u,a=c,u=0,c=0,i=t[o][1]):(t[o][0]==Dt?u+=t[o][1].length:c+=t[o][1].length,i&&i.length<=Math.max(s,a)&&i.length<=Math.max(u,c)&&(t.splice(r[n-1],0,[Zt,i]),t[r[n-1]+1][0]=Dt,n--,n--,o=n>0?r[n-1]:-1,s=0,a=0,u=0,c=0,i=null,e=!0)),o++;for(e&&lm(t),ZF(t),o=1;o<t.length;){if(t[o-1][0]==Zt&&t[o][0]==Dt){var h=t[o-1][1],d=t[o][1],g=hP(h,d),_=hP(d,h);g>=_?(g>=h.length/2||g>=d.length/2)&&(t.splice(o,0,[tt,d.substring(0,g)]),t[o-1][1]=h.substring(0,h.length-g),t[o+1][1]=d.substring(g),o++):(_>=h.length/2||_>=d.length/2)&&(t.splice(o,0,[tt,h.substring(0,_)]),t[o-1][0]=Dt,t[o-1][1]=d.substring(0,d.length-_),t[o+1][0]=Zt,t[o+1][1]=h.substring(_),o++),o++}o++}}var gP=/[^a-zA-Z0-9]/,pP=/\s/,mP=/[\r\n]/,JF=/\n\r?\n$/,QF=/^\r?\n\r?\n/;function ZF(t){function e(_,y){if(!_||!y)return 6;var E=_.charAt(_.length-1),C=y.charAt(0),O=E.match(gP),w=C.match(gP),v=O&&E.match(pP),M=w&&C.match(pP),I=v&&E.match(mP),W=M&&C.match(mP),V=I&&_.match(JF),ee=W&&y.match(QF);return V||ee?5:I||W?4:O&&!v&&M?3:v||M?2:O||w?1:0}for(var r=1;r<t.length-1;){if(t[r-1][0]==tt&&t[r+1][0]==tt){var n=t[r-1][1],i=t[r][1],o=t[r+1][1],s=$l(n,i);if(s){var a=i.substring(i.length-s);n=n.substring(0,n.length-s),i=a+i.substring(0,i.length-s),o=a+o}for(var u=n,c=i,h=o,d=e(n,i)+e(i,o);i.charAt(0)===o.charAt(0);){n+=i.charAt(0),i=i.substring(1)+o.charAt(0),o=o.substring(1);var g=e(n,i)+e(i,o);g>=d&&(d=g,u=n,c=i,h=o)}t[r-1][1]!=u&&(u?t[r-1][1]=u:(t.splice(r-1,1),r--),t[r][1]=c,h?t[r+1][1]=h:(t.splice(r+1,1),r--))}r++}}function lm(t,e){t.push([tt,""]);for(var r=0,n=0,i=0,o="",s="",a;r<t.length;){if(r<t.length-1&&!t[r][1]){t.splice(r,1);continue}switch(t[r][0]){case Dt:i++,s+=t[r][1],r++;break;case Zt:n++,o+=t[r][1],r++;break;case tt:var u=r-i-n-1;if(e){if(u>=0&&_P(t[u][1])){var c=t[u][1].slice(-1);if(t[u][1]=t[u][1].slice(0,-1),o=c+o,s=c+s,!t[u][1]){t.splice(u,1),r--;var h=u-1;t[h]&&t[h][0]===Dt&&(i++,s=t[h][1]+s,h--),t[h]&&t[h][0]===Zt&&(n++,o=t[h][1]+o,h--),u=h}}if(bP(t[r][1])){var c=t[r][1].charAt(0);t[r][1]=t[r][1].slice(1),o+=c,s+=c}}if(r<t.length-1&&!t[r][1]){t.splice(r,1);break}if(o.length>0||s.length>0){o.length>0&&s.length>0&&(a=cm(s,o),a!==0&&(u>=0?t[u][1]+=s.substring(0,a):(t.splice(0,0,[tt,s.substring(0,a)]),r++),s=s.substring(a),o=o.substring(a)),a=$l(s,o),a!==0&&(t[r][1]=s.substring(s.length-a)+t[r][1],s=s.substring(0,s.length-a),o=o.substring(0,o.length-a)));var d=i+n;o.length===0&&s.length===0?(t.splice(r-d,d),r=r-d):o.length===0?(t.splice(r-d,d,[Dt,s]),r=r-d+1):s.length===0?(t.splice(r-d,d,[Zt,o]),r=r-d+1):(t.splice(r-d,d,[Zt,o],[Dt,s]),r=r-d+2)}r!==0&&t[r-1][0]===tt?(t[r-1][1]+=t[r][1],t.splice(r,1)):r++,i=0,n=0,o="",s="";break}}t[t.length-1][1]===""&&t.pop();var g=!1;for(r=1;r<t.length-1;)t[r-1][0]===tt&&t[r+1][0]===tt&&(t[r][1].substring(t[r][1].length-t[r-1][1].length)===t[r-1][1]?(t[r][1]=t[r-1][1]+t[r][1].substring(0,t[r][1].length-t[r-1][1].length),t[r+1][1]=t[r-1][1]+t[r+1][1],t.splice(r-1,1),g=!0):t[r][1].substring(0,t[r+1][1].length)==t[r+1][1]&&(t[r-1][1]+=t[r+1][1],t[r][1]=t[r][1].substring(t[r+1][1].length)+t[r+1][1],t.splice(r+1,1),g=!0)),r++;g&&lm(t,e)}function yP(t){return t>=55296&&t<=56319}function vP(t){return t>=56320&&t<=57343}function bP(t){return vP(t.charCodeAt(0))}function _P(t){return yP(t.charCodeAt(t.length-1))}function e$(t){for(var e=[],r=0;r<t.length;r++)t[r][1].length>0&&e.push(t[r]);return e}function um(t,e,r,n){return _P(t)||bP(n)?null:e$([[tt,t],[Zt,e],[Dt,r],[tt,n]])}function t$(t,e,r){var n=typeof r=="number"?{index:r,length:0}:r.oldRange,i=typeof r=="number"?null:r.newRange,o=t.length,s=e.length;if(n.length===0&&(i===null||i.length===0)){var a=n.index,u=t.slice(0,a),c=t.slice(a),h=i?i.index:null;e:{var d=a+s-o;if(h!==null&&h!==d||d<0||d>s)break e;var g=e.slice(0,d),_=e.slice(d);if(_!==c)break e;var y=Math.min(a,d),E=u.slice(0,y),C=g.slice(0,y);if(E!==C)break e;var O=u.slice(y),w=g.slice(y);return um(E,O,w,c)}e:{if(h!==null&&h!==a)break e;var v=a,g=e.slice(0,v),_=e.slice(v);if(g!==u)break e;var M=Math.min(o-v,s-v),I=c.slice(c.length-M),W=_.slice(_.length-M);if(I!==W)break e;var O=c.slice(0,c.length-M),w=_.slice(0,_.length-M);return um(u,O,w,I)}}if(n.length>0&&i&&i.length===0)e:{var E=t.slice(0,n.index),I=t.slice(n.index+n.length),y=E.length,M=I.length;if(s<y+M)break e;var C=e.slice(0,y),W=e.slice(s-M);if(E!==C||I!==W)break e;var O=t.slice(y,o-M),w=e.slice(y,s-M);return um(E,O,w,I)}return null}function Wl(t,e,r,n){return ga(t,e,r,n,!0)}Wl.INSERT=Dt;Wl.DELETE=Zt;Wl.EQUAL=tt;wP.exports=Wl});var dm=p(pa=>{"use strict";var r$=pa&&pa.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pa,"__esModule",{value:!0});pa.createTextEdits=n$;var Hl=r$(RP()),fm=kr();function n$(t,e){let r=(0,Hl.default)(t.getText(),e),n=[],i=0;for(let[o,s]of r){let a=i;switch(o){case Hl.default.EQUAL:i+=s.length;break;case Hl.default.DELETE:i+=s.length,n.push(fm.TextEdit.del(fm.Range.create(t.positionAt(a),t.positionAt(i))));break;case Hl.default.INSERT:n.push(fm.TextEdit.insert(t.positionAt(a),s));break}}return n}});var SP=p(hm=>{"use strict";Object.defineProperty(hm,"__esModule",{value:!0});hm.getEditInfo=i$;function i$(t,e,r){if(!r||t.version!==r.version)return;let n=r.getWarning?.(e);if(!n)return;let i=n.fix;if(i)return{label:`Fix this ${n.rule} problem`,edit:{newText:i.text,range:{start:t.positionAt(i.range[0]),end:t.positionAt(i.range[1])}}}}});var DP=p(gm=>{"use strict";Object.defineProperty(gm,"__esModule",{value:!0});gm.getDisableType=o$;var EP=kr();function o$(t,e){let r=t.offsetAt(EP.Position.create(e.line,0)),n=t.offsetAt(EP.Position.create(e.line+1,0)),i=t.getText().slice(r,n),o=i.slice(0,e.character),s=i.slice(e.character),a=o.match(/\/\*\s*(stylelint-disable(?:(?:-next)?-line)?)\s[a-z\-/\s,]*$/i)?.[1]?.toLowerCase();return a&&/^[a-z\-/\s,]*\*\//i.test(s)?a:void 0}});var PP=p(pm=>{"use strict";Object.defineProperty(pm,"__esModule",{value:!0});pm.getFixes=a$;var s$=dm();async function a$(t,e,r={},n={}){let i=await t.lintDocument(e,{...r,fix:!0},n);return typeof i.output=="string"?(0,s$.createTextEdits)(e,i.output):[]}});var OP=p(ma=>{"use strict";var u$=ma&&ma.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ma,"__esModule",{value:!0});ma.getWorkspaceFolder=l$;var c$=u$(kl()),mm=Wo();async function l$(t,e){let{scheme:r,fsPath:n}=mm.URI.parse(e.uri);if(r==="untitled"){let i=(await t.workspace.getWorkspaceFolders())?.[0]?.uri;return i?mm.URI.parse(i).fsPath:void 0}if(n){let i=await t.workspace.getWorkspaceFolders();if(i)for(let{uri:o}of i){let s=mm.URI.parse(o).fsPath;if((0,c$.default)(n,s))return s}}}});var Ho=p(qr=>{"use strict";var f$=qr&&qr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ya=qr&&qr.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&f$(e,t,r)};Object.defineProperty(qr,"__esModule",{value:!0});ya(dm(),qr);ya(SP(),qr);ya(DP(),qr);ya(PP(),qr);ya(OP(),qr)});var TP=p(Ul=>{"use strict";Object.defineProperty(Ul,"__esModule",{value:!0});Ul.getFirstReturnValue=d$;Ul.getFirstResolvedValue=h$;function d$(...t){for(let e of t){let r=e();if(r!==void 0)return r}}async function h$(...t){for(let e of t){let r=await e();if(r!==void 0)return r}}});var qP=p(Bl=>{"use strict";Object.defineProperty(Bl,"__esModule",{value:!0});Bl.lazyCall=g$;Bl.lazyCallAsync=p$;function g$(t){let e=!1,r;return()=>(e||(r=t(),e=!0),r)}function p$(t){let e=!1,r;return async()=>(e||(r=await t(),e=!0),r)}});var CP=p(ii=>{"use strict";var m$=ii&&ii.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),MP=ii&&ii.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&m$(e,t,r)};Object.defineProperty(ii,"__esModule",{value:!0});MP(TP(),ii);MP(qP(),ii)});var FP=p(Xr=>{"use strict";var ym=Xr&&Xr.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},Pe=Xr&&Xr.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},_m=Xr&&Xr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Mr,vn,ft,Gl,zl,AP,jP,NP,LP,IP,kP;Object.defineProperty(Xr,"__esModule",{value:!0});Xr.StylelintResolver=void 0;var y$=_m(require("fs/promises")),v$=require("module"),Vl=_m(require("path")),b$=_m(require("process")),_$=sc(),w$=Wo(),R$=Ho(),xP=rm(),S$=am(),vm=CP(),bm=class{constructor(e,r){Mr.add(this),vn.set(this,void 0),ft.set(this,void 0),Gl.set(this,void 0),ym(this,vn,e,"f"),ym(this,ft,r,"f"),ym(this,Gl,new S$.GlobalPathResolver(r),"f")}async resolve({packageManager:e,stylelintPath:r},n){let i=(0,vm.lazyCallAsync)(async()=>Pe(this,vn,"f")&&await(0,R$.getWorkspaceFolder)(Pe(this,vn,"f"),n)),o=await(0,vm.getFirstResolvedValue)(()=>Pe(this,Mr,"m",IP).call(this,r,i),()=>Pe(this,Mr,"m",kP).call(this,n,i,e));if(!o){Pe(this,ft,"f")?.warn("Failed to load Stylelint either globally or from the current workspace.");return}return o}};Xr.StylelintResolver=bm;vn=new WeakMap,ft=new WeakMap,Gl=new WeakMap,Mr=new WeakSet,zl=function(e,r){Pe(this,ft,"f")&&Pe(this,ft,"f")?.error(e,r&&{error:r}),Pe(this,vn,"f")&&Pe(this,vn,"f").window.showErrorMessage(`Stylelint: ${e}`)},AP=async function(e){let r=[".pnp.cjs",".pnp.js"];for(let n of r){let i=Vl.default.join(e,n);try{if((await y$.default.stat(i)).isFile())return i}catch(o){Pe(this,ft,"f")?.debug("Did not find PnP loader at tested path",{path:i,error:o})}}Pe(this,ft,"f")?.debug("Could not find a PnP loader",{path:e})},jP=async function(e){if(!e)return;let r=await(0,xP.findPackageRoot)(e,"yarn.lock");if(!r){Pe(this,ft,"f")?.debug("Could not find a Yarn lockfile",{cwd:e});return}let n=await Pe(this,Mr,"m",AP).call(this,r);if(n){if(!b$.default.versions.pnp)try{require(n).setup()}catch(i){Pe(this,ft,"f")?.warn("Could not setup PnP",{path:n,error:i});return}try{let i=(0,v$.createRequire)(n),o=i.resolve("stylelint"),s=await(0,xP.findPackageRoot)(o);if(!s){Pe(this,ft,"f")?.warn("Failed to find the Stylelint package root",{path:o});return}let u={stylelint:i("stylelint"),resolvedPath:s};return Pe(this,ft,"f")?.debug("Resolved Stylelint using PnP",{path:n}),u}catch(i){Pe(this,ft,"f")?.warn("Could not load Stylelint using PnP",{path:r,error:i});return}}},NP=async function(e,r,n){try{let i=await _$.Files.resolve("stylelint",r,e,n),o={stylelint:require(i),resolvedPath:i};return Pe(this,ft,"f")?.debug("Resolved Stylelint from node_modules",{path:i}),o}catch(i){Pe(this,ft,"f")?.warn("Could not load Stylelint from node_modules",{error:i});return}},LP=async function(e,r){if(!Pe(this,vn,"f")||Vl.default.isAbsolute(e))return e;let n=await r();return n?Vl.default.join(n,e):e},IP=async function(e,r){if(!e)return;let n=`Failed to load Stylelint from "stylelintPath": ${e}.`;try{let i=await Pe(this,Mr,"m",LP).call(this,e,r),o=require(i);if(o&&typeof o.lint=="function")return{stylelint:o,resolvedPath:i}}catch(i){throw Pe(this,Mr,"m",zl).call(this,n,i),i}Pe(this,Mr,"m",zl).call(this,n)},kP=async function(e,r,n){let i=Pe(this,vn,"f");try{let o=n?await Pe(this,Gl,"f").resolve(n):void 0,s=w$.URI.parse(e.uri),a=s.scheme==="file"?Vl.default.dirname(s.fsPath):await r(),u=await(0,vm.getFirstResolvedValue)(async()=>await Pe(this,Mr,"m",jP).call(this,a),async()=>await Pe(this,Mr,"m",NP).call(this,a,o,(c,h)=>{Pe(this,ft,"f")?.debug(c.replace(/\n/g,"  "),{verbose:h}),i?.tracer.log(c,h)}));if(!u)return;if(typeof u.stylelint?.lint!="function"){Pe(this,Mr,"m",zl).call(this,"stylelint.lint is not a function.");return}return u}catch(o){Pe(this,ft,"f")?.debug("Failed to resolve Stylelint from workspace or globally-installed packages.",{error:o})}}});var WP=p($P=>{"use strict";Object.defineProperty($P,"__esModule",{value:!0})});var va=p(Jr=>{"use strict";var E$=Jr&&Jr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Yl=Jr&&Jr.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&E$(e,t,r)};Object.defineProperty(Jr,"__esModule",{value:!0});Yl(rm(),Jr);Yl(am(),Jr);Yl(FP(),Jr);Yl(WP(),Jr)});var wm=p(_a=>{"use strict";var HP=_a&&_a.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_a,"__esModule",{value:!0});_a.buildStylelintOptions=T$;var ba=HP(require("path")),D$=HP(kl()),P$=Wo(),O$=va();async function T$(t,e,r={},{config:n,configFile:i,configBasedir:o,customSyntax:s,ignoreDisables:a,reportDescriptionlessDisables:u,reportNeedlessDisables:c,reportInvalidScopeDisables:h}={}){let d={...r,config:n??r.config,configFile:i?e?i.replace(/\$\{workspaceFolder\}/gu,e):i:r.configFile,configBasedir:o?ba.default.isAbsolute(o)?o:ba.default.join(e??"",o):r.configBasedir,customSyntax:s?e?s.replace(/\$\{workspaceFolder\}/gu,e):s:r.customSyntax,ignoreDisables:a??r.ignoreDisables,reportDescriptionlessDisables:u??r.reportDescriptionlessDisables,reportNeedlessDisables:c??r.reportNeedlessDisables,reportInvalidScopeDisables:h??r.reportInvalidScopeDisables},g=P$.URI.parse(t).fsPath;return g&&(e&&(0,D$.default)(g,e)&&(d.ignorePath=ba.default.join(e,".stylelintignore")),d.ignorePath===void 0&&(d.ignorePath=ba.default.join(await(0,O$.findPackageRoot)(g)||ba.default.parse(g).root,".stylelintignore"))),d}});var UP=p(Rm=>{"use strict";Object.defineProperty(Rm,"__esModule",{value:!0});Rm.intersect=q$;function q$(t,e){if(!t)return e;if(!e)return t;let[r,n]=t.size<e.size?[t,e]:[e,t],i=new Set;for(let o of r)n.has(o)&&i.add(o);return i}});var wa=p(Uo=>{"use strict";Object.defineProperty(Uo,"__esModule",{value:!0});Uo.InvalidOptionError=Uo.DisableReportRuleNames=void 0;var BP;(function(t){t.Needless="--report-needless-disables",t.InvalidScope="--report-invalid-scope-disables",t.Descriptionless="--report-descriptionless-disables",t.Illegal="reportDisables"})(BP||(Uo.DisableReportRuleNames=BP={}));var Sm=class extends Error{constructor(e){let r=e.map(n=>n.text);super(r.join(`
`)),this.reasons=r}};Uo.InvalidOptionError=Sm});var Dm=p(Em=>{"use strict";Object.defineProperty(Em,"__esModule",{value:!0});Em.getDisableDiagnosticRule=M$;var Kl=wa();function M$(t){switch(t.code){case Kl.DisableReportRuleNames.Needless:return t.message.match(/^Needless disable for "(.+)"$/)?.[1];case Kl.DisableReportRuleNames.InvalidScope:return t.message.match(/^Rule "(.+)" isn't enabled$/)?.[1];case Kl.DisableReportRuleNames.Descriptionless:return t.message.match(/^Disable for "(.+)" is missing a description$/)?.[1];case Kl.DisableReportRuleNames.Illegal:return t.message.match(/^Rule "(.+)" may not be disabled$/)?.[1];default:return}}});var VP=p(Bo=>{"use strict";var Cr=Bo&&Bo.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Xl,Ra,Sa,Ea,Pm;Object.defineProperty(Bo,"__esModule",{value:!0});Bo.DisableMetadataLookupTable=void 0;var zP=UP(),C$=Dm(),Om=class{constructor(e){Xl.add(this),Ra.set(this,new Map),Sa.set(this,new Map),Ea.set(this,new Map);for(let r of e){let n=(0,C$.getDisableDiagnosticRule)(r);if(!n)continue;let i=r.code,o=Cr(this,Ra,"f").get(i);o?o.add(r):Cr(this,Ra,"f").set(i,new Set([r]));let s=Cr(this,Sa,"f").get(n);s?s.add(r):Cr(this,Sa,"f").set(n,new Set([r]));let a=Cr(this,Xl,"m",Pm).call(this,r.range),u=Cr(this,Ea,"f").get(a);u?u.add(r):Cr(this,Ea,"f").set(a,new Set([r]))}}find({type:e,rule:r,range:n}){let i=e?Cr(this,Ra,"f").get(e):void 0,o=r?Cr(this,Sa,"f").get(r):void 0,s=n?Cr(this,Ea,"f").get(Cr(this,Xl,"m",Pm).call(this,n)):void 0;return(0,zP.intersect)((0,zP.intersect)(i,o),s)??new Set}};Bo.DisableMetadataLookupTable=Om;Ra=new WeakMap,Sa=new WeakMap,Ea=new WeakMap,Xl=new WeakSet,Pm=function({start:e,end:r}){return`${e.line}:${e.character}:${r.line}:${r.character}`}});var GP=p(Tm=>{"use strict";Object.defineProperty(Tm,"__esModule",{value:!0});Tm.formattingOptionsToRules=A$;function A$({insertSpaces:t,tabSize:e,insertFinalNewline:r,trimTrailingWhitespace:n}){let i={indentation:[t?e:"tab"]};return r!==void 0&&(i["no-missing-end-of-source-newline"]=r||null),n!==void 0&&(i["no-eol-whitespace"]=n||null),i}});var YP=p(qm=>{"use strict";Object.defineProperty(qm,"__esModule",{value:!0});qm.isDisableReportRule=j$;var Jl=wa();function j$(t){switch(t){case Jl.DisableReportRuleNames.Descriptionless:case Jl.DisableReportRuleNames.Illegal:case Jl.DisableReportRuleNames.InvalidScope:case Jl.DisableReportRuleNames.Needless:return!0;default:return!1}}});var Cm=p(Mm=>{"use strict";Object.defineProperty(Mm,"__esModule",{value:!0});Mm.warningToDiagnostic=N$;var zo=kr();function N$(t,e){let r=zo.Position.create(t.line-1,t.column-1),n=typeof t.endLine=="number"&&typeof t.endColumn=="number"?zo.Position.create(t.endLine-1,t.endColumn-1):zo.Position.create(t.line-1,t.column),i=e?.[t.rule]?.url,o=zo.Diagnostic.create(zo.Range.create(r,n),t.text,zo.DiagnosticSeverity[t.severity==="warning"?"Warning":"Error"],t.rule,"Stylelint");return i&&(o.codeDescription={href:i}),o}});var Am=p(bn=>{"use strict";var L$=bn&&bn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),x$=bn&&bn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),I$=bn&&bn.__importStar||function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var n=[];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[n.length]=i);return n},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n=t(e),i=0;i<n.length;i++)n[i]!=="default"&&L$(r,e,n[i]);return x$(r,e),r}}();Object.defineProperty(bn,"__esModule",{value:!0});bn.processLinterResult=W$;var k$=I$(require("crypto")),F$=Cm(),$$=wa();function KP(t){let e=t.range,r="";if(t.message){let n=k$.createHash("sha256");n.update(t.message),r=n.digest("base64")}return`[${e.start.line},${e.start.character},${e.end.line},${e.end.character}]-${t.code}-${r}`}function W$(t,e){let{results:r}=e;if(r.length===0)return{diagnostics:[]};let[{invalidOptionWarnings:n,warnings:i,ignored:o}]=r;if(o)return{diagnostics:[]};if(n.length!==0)throw new $$.InvalidOptionError(n);let{ruleMetadata:s}=e;s||(s=new Proxy({},{get:(d,g)=>t.rules?.[g]?.meta}));let a=[],u=new Map;for(let d of i){let g=(0,F$.warningToDiagnostic)(d,s);a.push(g),u.set(KP(g),d)}let c=d=>{let g=KP(d);return u.get(g)??null},h="report"in e&&e.report||e.output;return h?{output:h,diagnostics:a,getWarning:c}:{diagnostics:a,getWarning:c}}});var JP=p(Qr=>{"use strict";var jm=Qr&&Qr.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},Vo=Qr&&Qr.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},H$=Qr&&Qr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Da,Go,Ql;Object.defineProperty(Qr,"__esModule",{value:!0});Qr.StylelintRunner=void 0;var U$=H$(require("os")),B$=Wo(),z$=va(),V$=Ho(),XP=Am(),G$=wm(),Nm=class{constructor(e,r,n){Da.set(this,void 0),Go.set(this,void 0),Ql.set(this,void 0),jm(this,Da,e,"f"),jm(this,Go,r,"f"),jm(this,Ql,n??new z$.StylelintResolver(e,r),"f")}async lintDocument(e,r={},n={}){let i=Vo(this,Da,"f")&&await(0,V$.getWorkspaceFolder)(Vo(this,Da,"f"),e),o=await Vo(this,Ql,"f").resolve(n,e);if(!o)return Vo(this,Go,"f")?.info("No Stylelint found with which to lint document",{uri:e.uri,options:n}),{diagnostics:[]};let{fsPath:s}=B$.URI.parse(e.uri),a=U$.default.platform()==="win32"?s.replace(/^[a-z]:/,c=>c.toUpperCase()):s,u={...await(0,G$.buildStylelintOptions)(e.uri,i,r,n),code:e.getText(),formatter:()=>"",computeEditInfo:!0};a?u.codeFilename=a:r?.config?.rules||(u.config={rules:{}}),Vo(this,Go,"f")?.isDebugEnabled()&&Vo(this,Go,"f")?.debug("Running Stylelint",{options:{...u,code:"..."}});try{return(0,XP.processLinterResult)(o.stylelint,await o.stylelint.lint(u))}catch(c){if(c instanceof Error&&(c.message.startsWith("No configuration provided for")||c.message.includes("No rules found within configuration")))return(0,XP.processLinterResult)(o.stylelint,await o.stylelint.lint({...u,config:{rules:{}}}));throw c}}};Qr.StylelintRunner=Nm;Da=new WeakMap,Go=new WeakMap,Ql=new WeakMap});var Pa=p(Pt=>{"use strict";var Y$=Pt&&Pt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),_n=Pt&&Pt.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Y$(e,t,r)};Object.defineProperty(Pt,"__esModule",{value:!0});_n(wm(),Pt);_n(VP(),Pt);_n(GP(),Pt);_n(Dm(),Pt);_n(YP(),Pt);_n(Am(),Pt);_n(JP(),Pt);_n(wa(),Pt);_n(Cm(),Pt)});var oO=p(Ut=>{"use strict";var K$=Ut&&Ut.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),X$=Ut&&Ut.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),J$=Ut&&Ut.__importStar||function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var n=[];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[n.length]=i);return n},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n=t(e),i=0;i<n.length;i++)n[i]!=="default"&&K$(r,e,n[i]);return X$(r,e),r}}(),QP=Ut&&Ut.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},he=Ut&&Ut.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},oi,Ht,Ke,Yo,nO,ZP,eO,tO,rO,iO;Object.defineProperty(Ut,"__esModule",{value:!0});Ut.CodeActionModule=void 0;var Ze=J$(Oe()),wn=ko(),Lm=Il(),Q$=Pa(),Zl=class{constructor({context:e,logger:r}){oi.add(this),Ht.set(this,void 0),Ke.set(this,void 0),Yo.set(this,[]),QP(this,Ht,e,"f"),QP(this,Ke,r,"f")}dispose(){he(this,Yo,"f").forEach(e=>e.dispose()),he(this,Yo,"f").length=0,he(this,Ht,"f").connection.onCodeAction(()=>{})}onInitialize(){return{capabilities:{codeActionProvider:{codeActionKinds:[Ze.CodeActionKind.QuickFix,wn.CodeActionKind.StylelintSourceFixAll]},executeCommandProvider:{commands:[wn.CommandId.OpenRuleDoc]}}}}onDidRegisterHandlers(){he(this,Ke,"f")?.debug("Registering onCodeAction handler"),he(this,Ht,"f").connection.onCodeAction(async({context:e,textDocument:{uri:r}})=>{he(this,Ke,"f")?.debug("Received onCodeAction",{context:e,uri:r});let n=he(this,Ht,"f").documents.get(r);if(!n)return he(this,Ke,"f")?.debug("Unknown document, ignoring",{uri:r}),[];if(!await he(this,oi,"m",nO).call(this,n))return he(this,Ke,"f")?.debug("Document should not be validated, ignoring",{uri:r,language:n.languageId}),[];let i=await he(this,oi,"m",iO).call(this,n,e);return he(this,Ke,"f")?.debug("Returning code actions",{actions:i}),i}),he(this,Ke,"f")?.debug("onCodeAction handler registered"),he(this,Yo,"f").push(he(this,Ht,"f").commands.on(wn.CommandId.OpenRuleDoc,async({arguments:e})=>{let r=e?.[0];if(!r)return he(this,Ke,"f")?.debug("No URL provided, ignoring command request"),{};let{uri:n}=r;return he(this,Ke,"f")?.debug("Opening rule documentation",{uri:n}),(await he(this,Ht,"f").connection.window.showDocument({uri:n,external:!0})).success?{}:(he(this,Ke,"f")?.warn("Failed to open rule documentation",{uri:n}),new Ze.ResponseError(Ze.ErrorCodes.InternalError,"Failed to open rule documentation"))})),he(this,Yo,"f").push(he(this,Ht,"f").notifications.on(Ze.InitializedNotification.type,()=>he(this,Ht,"f").connection.sendNotification(wn.Notification.DidRegisterCodeActionRequestHandler)))}};Ut.CodeActionModule=Zl;Ht=new WeakMap,Ke=new WeakMap,Yo=new WeakMap,oi=new WeakSet,nO=async function(e){return(await he(this,Ht,"f").getOptions(e.uri)).validate.includes(e.languageId)},ZP=async function(e){let r=await he(this,Ht,"f").getFixes(e),n={uri:e.uri,version:e.version};return r.length>0?Ze.CodeAction.create("Fix all Stylelint auto-fixable problems",{documentChanges:[Ze.TextDocumentEdit.create(n,r)]},wn.CodeActionKind.StylelintSourceFixAll):void 0},eO=function(e,r){let n={uri:e.uri,version:e.version},i=[];for(let o of r.diagnostics){let s=he(this,Ht,"f").getEditInfo(e,o);if(s){let a=Ze.CodeAction.create(s.label,{documentChanges:[Ze.TextDocumentEdit.create(n,[s.edit])]},Ze.CodeActionKind.QuickFix);i.push(a)}}return i},tO=function(e){let r=Ze.Command.create("Fix all Stylelint auto-fixable problems",wn.CommandId.ApplyAutoFix,{uri:e.uri,version:e.version});return Ze.CodeAction.create("Fix all Stylelint auto-fixable problems",r,Ze.CodeActionKind.Source)},rO=function({code:e,codeDescription:r}){let n=r?.href;if(!n)return;let i=Ze.Command.create(`Open documentation for ${e}`,wn.CommandId.OpenRuleDoc,{uri:n});return Ze.CodeAction.create(`Show documentation for ${e}`,i,Ze.CodeActionKind.QuickFix)},iO=async function(e,r){let n=r.only&&new Set(r.only);he(this,Ke,"f")?.debug("Creating code actions",{only:r.only});let i=[];if(n?.has(Ze.CodeActionKind.SourceFixAll)||n?.has(wn.CodeActionKind.StylelintSourceFixAll)){he(this,Ke,"f")?.debug('Creating "source-fix-all" code action');let s=await he(this,oi,"m",ZP).call(this,e);s&&i.push(s)}else he(this,Ke,"f")?.debug("No source-fix-all actions requested, skipping source-fix-all action creation");if(n?.has(Ze.CodeActionKind.Source)?(he(this,Ke,"f")?.debug('Creating "source" code action'),i.push(he(this,oi,"m",tO).call(this,e))):he(this,Ke,"f")?.debug("No source actions requested, skipping source action creation"),n&&!n.has(Ze.CodeActionKind.QuickFix)&&!n.has(Ze.CodeActionKind.SourceFixAll)&&!n.has(wn.CodeActionKind.StylelintSourceFixAll)&&!n.has(Ze.CodeActionKind.Source))return he(this,Ke,"f")?.debug("No quick fix actions requested, skipping quick fix action creation"),i;let o=new Lm.RuleCodeActionsCollection;for(let s of r.diagnostics){let{source:a,code:u}=s;if(!(a!=="Stylelint"||typeof u!="string")){if(!(0,Q$.isDisableReportRule)(u)){let c=await he(this,Ht,"f").getOptions(e.uri),{location:h}=c.codeAction.disableRuleComment;he(this,Ke,"f")?.debug("Creating disable rule for line code action",{rule:u,location:h}),o.get(u).disableLine=(0,Lm.createDisableRuleLineCodeAction)(e,s,h),o.get(u).disableFile||(he(this,Ke,"f")?.debug("Creating disable rule for file code action",{rule:u}),o.get(u).disableFile=(0,Lm.createDisableRuleFileCodeAction)(e,s))}o.get(u).documentation||(he(this,Ke,"f")?.debug("Creating documentation code action",{rule:u}),o.get(u).documentation=he(this,oi,"m",rO).call(this,s))}}return[...he(this,oi,"m",eO).call(this,e,r),...o,...i]};Zl.id="code-action"});var fO=p(ai=>{"use strict";var sO=ai&&ai.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},Ot=ai&&ai.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},ef,si,Ar,aO,lO;Object.defineProperty(ai,"__esModule",{value:!0});ai.CompletionModule=void 0;var uO=kr(),Z$=Ho(),Ko=Il(),cO=Pa(),tf=class{constructor({context:e,logger:r}){ef.add(this),si.set(this,void 0),Ar.set(this,void 0),sO(this,si,e,"f"),sO(this,Ar,r,"f")}dispose(){Ot(this,si,"f").connection.onCompletion(()=>{})}onInitialize(){return{capabilities:{completionProvider:{}}}}onDidRegisterHandlers(){Ot(this,Ar,"f")?.debug("Registering onCompletion handler"),Ot(this,si,"f").connection.onCompletion(Ot(this,ef,"m",lO).bind(this)),Ot(this,Ar,"f")?.debug("onCompletion handler registered")}};ai.CompletionModule=tf;si=new WeakMap,Ar=new WeakMap,ef=new WeakSet,aO=async function(e){let r=await Ot(this,si,"f").getOptions(e.uri);return r.validate.includes(e.languageId)&&r.snippet.includes(e.languageId)},lO=async function({textDocument:e,position:r}){let{uri:n}=e;Ot(this,Ar,"f")?.debug("Received onCompletion",{uri:n,position:r});let i=Ot(this,si,"f").documents.get(n);if(!i||!await Ot(this,ef,"m",aO).call(this,i))return Ot(this,Ar,"f")?.isDebugEnabled()&&(i?Ot(this,Ar,"f").debug("Snippets or validation not enabled for language, ignoring",{uri:n,language:i.languageId}):Ot(this,Ar,"f").debug("Unknown document, ignoring",{uri:n})),[];let s=Ot(this,si,"f").getModule("validator")?.getDiagnostics(n);if(!s||s.length===0){let g=[(0,Ko.createDisableCompletionItem)("stylelint-disable-line"),(0,Ko.createDisableCompletionItem)("stylelint-disable-next-line"),(0,Ko.createDisableCompletionItem)("stylelint-disable")];return Ot(this,Ar,"f")?.debug("No diagnostics for document, returning generic completion items",{uri:n,items:g}),g}let a=new Set,u=new Set,c=new cO.DisableMetadataLookupTable(s);for(let{code:g,range:_}of s)!g||typeof g!="string"||g==="CssSyntaxError"||c.find({type:cO.DisableReportRuleNames.Needless,rule:g,range:_}).size>0||(_.start.line===r.line?a.add(g):_.start.line===r.line+1&&u.add(g));let h=[],d=(0,Z$.getDisableType)(i,r);if(d==="stylelint-disable-line")for(let g of a)h.push({label:g,kind:uO.CompletionItemKind.Snippet,detail:`disable ${g} rule. (Stylelint)`});else if(d==="stylelint-disable"||d==="stylelint-disable-next-line")for(let g of u)h.push({label:g,kind:uO.CompletionItemKind.Snippet,detail:`disable ${g} rule. (Stylelint)`});else h.push((0,Ko.createDisableCompletionItem)("stylelint-disable-line",a.size===1?a.values().next().value:void 0)),h.push((0,Ko.createDisableCompletionItem)("stylelint-disable-next-line",u.size===1?u.values().next().value:void 0)),h.push((0,Ko.createDisableCompletionItem)("stylelint-disable"));return Ot(this,Ar,"f")?.debug("Returning completion items",{uri:n,results:h}),h};tf.id="completion"});var hO=p(Bt=>{"use strict";var e5=Bt&&Bt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),t5=Bt&&Bt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),r5=Bt&&Bt.__importStar||function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var n=[];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[n.length]=i);return n},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n=t(e),i=0;i<n.length;i++)n[i]!=="default"&&e5(r,e,n[i]);return t5(r,e),r}}(),xm=Bt&&Bt.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},K=Bt&&Bt.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},jr,vt,Te,Oa,ui,Zr,Im,rf,dO,nf;Object.defineProperty(Bt,"__esModule",{value:!0});Bt.FormatterModule=void 0;var km=r5(Oe()),n5=Pa(),i5=ko(),o5=Wo(),of=class{constructor({context:e,logger:r}){jr.add(this),vt.set(this,void 0),Te.set(this,void 0),Oa.set(this,!1),ui.set(this,new Map),Zr.set(this,[]),xm(this,vt,e,"f"),xm(this,Te,r,"f")}dispose(){K(this,vt,"f").connection.onDocumentFormatting(()=>{}),K(this,Zr,"f").forEach(e=>e.dispose()),K(this,Zr,"f").length=0,K(this,jr,"m",nf).call(this)}onInitialize({capabilities:e}){return xm(this,Oa,!!e.textDocument?.formatting?.dynamicRegistration,"f"),{capabilities:{documentFormattingProvider:!K(this,Oa,"f")}}}onDidRegisterHandlers(){K(this,Te,"f")?.debug("Registering connection.onDocumentFormatting handler"),K(this,vt,"f").connection.onDocumentFormatting(async({textDocument:e,options:r})=>{if(K(this,Te,"f")?.debug("Received onDocumentFormatting",{textDocument:e,options:r}),!e)return K(this,Te,"f")?.debug("No text document provided, ignoring"),null;let{uri:n}=e,i=K(this,vt,"f").documents.get(n);if(!i||!await K(this,jr,"m",Im).call(this,i))return K(this,Te,"f")?.isDebugEnabled()&&(i?K(this,Te,"f").debug("Document should not be formatted, ignoring",{uri:n,language:i.languageId}):K(this,Te,"f").debug("Unknown document, ignoring",{uri:n})),null;let o={config:{rules:(0,n5.formattingOptionsToRules)(r)}};K(this,Te,"f")?.debug("Formatting document",{uri:n,linterOptions:o});let s=K(this,vt,"f").getFixes(i,o);return K(this,Te,"f")?.debug("Returning fixes",{uri:n,fixes:s}),s}),K(this,Te,"f")?.debug("connection.onDocumentFormatting handler registered"),K(this,Te,"f")?.debug("Registering documents.onDidOpen handler"),K(this,Zr,"f").push(K(this,vt,"f").documents.onDidOpen(({document:e})=>K(this,jr,"m",rf).call(this,e))),K(this,Te,"f")?.debug("documents.onDidOpen handler registered"),K(this,Te,"f")?.debug("Registering documents.onDidChangeContent handler"),K(this,Zr,"f").push(K(this,vt,"f").documents.onDidChangeContent(({document:e})=>K(this,jr,"m",rf).call(this,e))),K(this,Te,"f")?.debug("documents.onDidChangeContent handler registered"),K(this,Te,"f")?.debug("Registering documents.onDidSave handler"),K(this,Zr,"f").push(K(this,vt,"f").documents.onDidSave(({document:e})=>K(this,jr,"m",rf).call(this,e))),K(this,Te,"f")?.debug("documents.onDidSave handler registered"),K(this,Te,"f")?.debug("Registering documents.onDidClose handler"),K(this,Zr,"f").push(K(this,vt,"f").documents.onDidClose(({document:e})=>K(this,jr,"m",dO).call(this,e.uri))),K(this,Te,"f")?.debug("documents.onDidClose handler registered"),K(this,Te,"f")?.debug("Registering DidChangeConfigurationNotification"),K(this,Zr,"f").push(K(this,vt,"f").notifications.on(km.DidChangeConfigurationNotification.type,()=>K(this,jr,"m",nf).call(this))),K(this,Te,"f")?.debug("DidChangeConfigurationNotification registered"),K(this,Te,"f")?.debug("Registering DidChangeWorkspaceFoldersNotification"),K(this,Zr,"f").push(K(this,vt,"f").notifications.on(km.DidChangeWorkspaceFoldersNotification.type,()=>K(this,jr,"m",nf).call(this))),K(this,Te,"f")?.debug("DidChangeWorkspaceFoldersNotification registered")}};Bt.FormatterModule=of;vt=new WeakMap,Te=new WeakMap,Oa=new WeakMap,ui=new WeakMap,Zr=new WeakMap,jr=new WeakSet,Im=async function(e){return(await K(this,vt,"f").getOptions(e.uri)).validate.includes(e.languageId)},rf=async function(e){if(!K(this,Oa,"f")||!await K(this,jr,"m",Im).call(this,e)||K(this,ui,"f").has(e.uri))return;let{scheme:r,fsPath:n}=o5.URI.parse(e.uri),i=(r==="file"?n.replace(/\\/g,"/"):n).replace(/[[\]{}]/g,"?"),s={documentSelector:[{scheme:r,pattern:i}]};K(this,ui,"f").set(e.uri,K(this,vt,"f").connection.client.register(km.DocumentFormattingRequest.type,s)),K(this,Te,"f")?.debug("Registering formatter for document",{uri:e.uri,options:s}),await K(this,vt,"f").connection.sendNotification(i5.Notification.DidRegisterDocumentFormattingEditProvider,{uri:e.uri,options:s})},dO=function(e){let r=K(this,ui,"f").get(e);r&&(K(this,Te,"f")?.debug("Deregistering formatter for document",{uri:e}),r.then(n=>n.dispose()).catch(n=>{K(this,Te,"f")?.error("Error deregistering formatter for document",{uri:e,error:n})}),K(this,ui,"f").delete(e))},nf=function(){for(let[e,r]of K(this,ui,"f"))K(this,Te,"f")?.debug("Deregistering formatter for document",{uri:e}),r.then(n=>n.dispose()).catch(n=>{K(this,Te,"f")?.error("Error deregistering formatter for document",{uri:e,error:n})});K(this,ui,"f").clear()};of.id="formatter"});var Ta=p((bB,gO)=>{"use strict";var s5="2.0.0",a5=Number.MAX_SAFE_INTEGER||9007199254740991,u5=16,c5=250,l5=["major","premajor","minor","preminor","patch","prepatch","prerelease"];gO.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:u5,MAX_SAFE_BUILD_LENGTH:c5,MAX_SAFE_INTEGER:a5,RELEASE_TYPES:l5,SEMVER_SPEC_VERSION:s5,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var qa=p((_B,pO)=>{"use strict";var f5=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};pO.exports=f5});var Xo=p((en,mO)=>{"use strict";var{MAX_SAFE_COMPONENT_LENGTH:Fm,MAX_SAFE_BUILD_LENGTH:d5,MAX_LENGTH:h5}=Ta(),g5=qa();en=mO.exports={};var p5=en.re=[],m5=en.safeRe=[],G=en.src=[],y5=en.safeSrc=[],Y=en.t={},v5=0,$m="[a-zA-Z0-9-]",b5=[["\\s",1],["\\d",h5],[$m,d5]],_5=t=>{for(let[e,r]of b5)t=t.split(`${e}*`).join(`${e}{0,${r}}`).split(`${e}+`).join(`${e}{1,${r}}`);return t},ce=(t,e,r)=>{let n=_5(e),i=v5++;g5(t,i,e),Y[t]=i,G[i]=e,y5[i]=n,p5[i]=new RegExp(e,r?"g":void 0),m5[i]=new RegExp(n,r?"g":void 0)};ce("NUMERICIDENTIFIER","0|[1-9]\\d*");ce("NUMERICIDENTIFIERLOOSE","\\d+");ce("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${$m}*`);ce("MAINVERSION",`(${G[Y.NUMERICIDENTIFIER]})\\.(${G[Y.NUMERICIDENTIFIER]})\\.(${G[Y.NUMERICIDENTIFIER]})`);ce("MAINVERSIONLOOSE",`(${G[Y.NUMERICIDENTIFIERLOOSE]})\\.(${G[Y.NUMERICIDENTIFIERLOOSE]})\\.(${G[Y.NUMERICIDENTIFIERLOOSE]})`);ce("PRERELEASEIDENTIFIER",`(?:${G[Y.NONNUMERICIDENTIFIER]}|${G[Y.NUMERICIDENTIFIER]})`);ce("PRERELEASEIDENTIFIERLOOSE",`(?:${G[Y.NONNUMERICIDENTIFIER]}|${G[Y.NUMERICIDENTIFIERLOOSE]})`);ce("PRERELEASE",`(?:-(${G[Y.PRERELEASEIDENTIFIER]}(?:\\.${G[Y.PRERELEASEIDENTIFIER]})*))`);ce("PRERELEASELOOSE",`(?:-?(${G[Y.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${G[Y.PRERELEASEIDENTIFIERLOOSE]})*))`);ce("BUILDIDENTIFIER",`${$m}+`);ce("BUILD",`(?:\\+(${G[Y.BUILDIDENTIFIER]}(?:\\.${G[Y.BUILDIDENTIFIER]})*))`);ce("FULLPLAIN",`v?${G[Y.MAINVERSION]}${G[Y.PRERELEASE]}?${G[Y.BUILD]}?`);ce("FULL",`^${G[Y.FULLPLAIN]}$`);ce("LOOSEPLAIN",`[v=\\s]*${G[Y.MAINVERSIONLOOSE]}${G[Y.PRERELEASELOOSE]}?${G[Y.BUILD]}?`);ce("LOOSE",`^${G[Y.LOOSEPLAIN]}$`);ce("GTLT","((?:<|>)?=?)");ce("XRANGEIDENTIFIERLOOSE",`${G[Y.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);ce("XRANGEIDENTIFIER",`${G[Y.NUMERICIDENTIFIER]}|x|X|\\*`);ce("XRANGEPLAIN",`[v=\\s]*(${G[Y.XRANGEIDENTIFIER]})(?:\\.(${G[Y.XRANGEIDENTIFIER]})(?:\\.(${G[Y.XRANGEIDENTIFIER]})(?:${G[Y.PRERELEASE]})?${G[Y.BUILD]}?)?)?`);ce("XRANGEPLAINLOOSE",`[v=\\s]*(${G[Y.XRANGEIDENTIFIERLOOSE]})(?:\\.(${G[Y.XRANGEIDENTIFIERLOOSE]})(?:\\.(${G[Y.XRANGEIDENTIFIERLOOSE]})(?:${G[Y.PRERELEASELOOSE]})?${G[Y.BUILD]}?)?)?`);ce("XRANGE",`^${G[Y.GTLT]}\\s*${G[Y.XRANGEPLAIN]}$`);ce("XRANGELOOSE",`^${G[Y.GTLT]}\\s*${G[Y.XRANGEPLAINLOOSE]}$`);ce("COERCEPLAIN",`(^|[^\\d])(\\d{1,${Fm}})(?:\\.(\\d{1,${Fm}}))?(?:\\.(\\d{1,${Fm}}))?`);ce("COERCE",`${G[Y.COERCEPLAIN]}(?:$|[^\\d])`);ce("COERCEFULL",G[Y.COERCEPLAIN]+`(?:${G[Y.PRERELEASE]})?(?:${G[Y.BUILD]})?(?:$|[^\\d])`);ce("COERCERTL",G[Y.COERCE],!0);ce("COERCERTLFULL",G[Y.COERCEFULL],!0);ce("LONETILDE","(?:~>?)");ce("TILDETRIM",`(\\s*)${G[Y.LONETILDE]}\\s+`,!0);en.tildeTrimReplace="$1~";ce("TILDE",`^${G[Y.LONETILDE]}${G[Y.XRANGEPLAIN]}$`);ce("TILDELOOSE",`^${G[Y.LONETILDE]}${G[Y.XRANGEPLAINLOOSE]}$`);ce("LONECARET","(?:\\^)");ce("CARETTRIM",`(\\s*)${G[Y.LONECARET]}\\s+`,!0);en.caretTrimReplace="$1^";ce("CARET",`^${G[Y.LONECARET]}${G[Y.XRANGEPLAIN]}$`);ce("CARETLOOSE",`^${G[Y.LONECARET]}${G[Y.XRANGEPLAINLOOSE]}$`);ce("COMPARATORLOOSE",`^${G[Y.GTLT]}\\s*(${G[Y.LOOSEPLAIN]})$|^$`);ce("COMPARATOR",`^${G[Y.GTLT]}\\s*(${G[Y.FULLPLAIN]})$|^$`);ce("COMPARATORTRIM",`(\\s*)${G[Y.GTLT]}\\s*(${G[Y.LOOSEPLAIN]}|${G[Y.XRANGEPLAIN]})`,!0);en.comparatorTrimReplace="$1$2$3";ce("HYPHENRANGE",`^\\s*(${G[Y.XRANGEPLAIN]})\\s+-\\s+(${G[Y.XRANGEPLAIN]})\\s*$`);ce("HYPHENRANGELOOSE",`^\\s*(${G[Y.XRANGEPLAINLOOSE]})\\s+-\\s+(${G[Y.XRANGEPLAINLOOSE]})\\s*$`);ce("STAR","(<|>)?=?\\s*\\*");ce("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");ce("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var sf=p((wB,yO)=>{"use strict";var w5=Object.freeze({loose:!0}),R5=Object.freeze({}),S5=t=>t?typeof t!="object"?w5:t:R5;yO.exports=S5});var Wm=p((RB,_O)=>{"use strict";var vO=/^[0-9]+$/,bO=(t,e)=>{let r=vO.test(t),n=vO.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},E5=(t,e)=>bO(e,t);_O.exports={compareIdentifiers:bO,rcompareIdentifiers:E5}});var bt=p((SB,RO)=>{"use strict";var af=qa(),{MAX_LENGTH:wO,MAX_SAFE_INTEGER:uf}=Ta(),{safeRe:cf,t:lf}=Xo(),D5=sf(),{compareIdentifiers:Jo}=Wm(),Hm=class t{constructor(e,r){if(r=D5(r),e instanceof t){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>wO)throw new TypeError(`version is longer than ${wO} characters`);af("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?cf[lf.LOOSE]:cf[lf.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>uf||this.major<0)throw new TypeError("Invalid major version");if(this.minor>uf||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>uf||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let o=+i;if(o>=0&&o<uf)return o}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(af("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),Jo(this.major,e.major)||Jo(this.minor,e.minor)||Jo(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=e.prerelease[r];if(af("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Jo(n,i)}while(++r)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let r=0;do{let n=this.build[r],i=e.build[r];if(af("build compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Jo(n,i)}while(++r)}inc(e,r,n){if(e.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){let i=`-${r}`.match(this.options.loose?cf[lf.PRERELEASELOOSE]:cf[lf.PRERELEASE]);if(!i||i[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[i];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let o=[r,i];n===!1&&(o=[r]),Jo(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};RO.exports=Hm});var Fi=p((EB,EO)=>{"use strict";var SO=bt(),P5=(t,e,r=!1)=>{if(t instanceof SO)return t;try{return new SO(t,e)}catch(n){if(!r)return null;throw n}};EO.exports=P5});var PO=p((DB,DO)=>{"use strict";var O5=Fi(),T5=(t,e)=>{let r=O5(t,e);return r?r.version:null};DO.exports=T5});var TO=p((PB,OO)=>{"use strict";var q5=Fi(),M5=(t,e)=>{let r=q5(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};OO.exports=M5});var CO=p((OB,MO)=>{"use strict";var qO=bt(),C5=(t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new qO(t instanceof qO?t.version:t,r).inc(e,n,i).version}catch{return null}};MO.exports=C5});var NO=p((TB,jO)=>{"use strict";var AO=Fi(),A5=(t,e)=>{let r=AO(t,null,!0),n=AO(e,null,!0),i=r.compare(n);if(i===0)return null;let o=i>0,s=o?r:n,a=o?n:r,u=!!s.prerelease.length;if(!!a.prerelease.length&&!u){if(!a.patch&&!a.minor)return"major";if(a.compareMain(s)===0)return a.minor&&!a.patch?"minor":"patch"}let h=u?"pre":"";return r.major!==n.major?h+"major":r.minor!==n.minor?h+"minor":r.patch!==n.patch?h+"patch":"prerelease"};jO.exports=A5});var xO=p((qB,LO)=>{"use strict";var j5=bt(),N5=(t,e)=>new j5(t,e).major;LO.exports=N5});var kO=p((MB,IO)=>{"use strict";var L5=bt(),x5=(t,e)=>new L5(t,e).minor;IO.exports=x5});var $O=p((CB,FO)=>{"use strict";var I5=bt(),k5=(t,e)=>new I5(t,e).patch;FO.exports=k5});var HO=p((AB,WO)=>{"use strict";var F5=Fi(),$5=(t,e)=>{let r=F5(t,e);return r&&r.prerelease.length?r.prerelease:null};WO.exports=$5});var lr=p((jB,BO)=>{"use strict";var UO=bt(),W5=(t,e,r)=>new UO(t,r).compare(new UO(e,r));BO.exports=W5});var VO=p((NB,zO)=>{"use strict";var H5=lr(),U5=(t,e,r)=>H5(e,t,r);zO.exports=U5});var YO=p((LB,GO)=>{"use strict";var B5=lr(),z5=(t,e)=>B5(t,e,!0);GO.exports=z5});var ff=p((xB,XO)=>{"use strict";var KO=bt(),V5=(t,e,r)=>{let n=new KO(t,r),i=new KO(e,r);return n.compare(i)||n.compareBuild(i)};XO.exports=V5});var QO=p((IB,JO)=>{"use strict";var G5=ff(),Y5=(t,e)=>t.sort((r,n)=>G5(r,n,e));JO.exports=Y5});var eT=p((kB,ZO)=>{"use strict";var K5=ff(),X5=(t,e)=>t.sort((r,n)=>K5(n,r,e));ZO.exports=X5});var Ma=p((FB,tT)=>{"use strict";var J5=lr(),Q5=(t,e,r)=>J5(t,e,r)>0;tT.exports=Q5});var df=p(($B,rT)=>{"use strict";var Z5=lr(),eW=(t,e,r)=>Z5(t,e,r)<0;rT.exports=eW});var Um=p((WB,nT)=>{"use strict";var tW=lr(),rW=(t,e,r)=>tW(t,e,r)===0;nT.exports=rW});var Bm=p((HB,iT)=>{"use strict";var nW=lr(),iW=(t,e,r)=>nW(t,e,r)!==0;iT.exports=iW});var hf=p((UB,oT)=>{"use strict";var oW=lr(),sW=(t,e,r)=>oW(t,e,r)>=0;oT.exports=sW});var gf=p((BB,sT)=>{"use strict";var aW=lr(),uW=(t,e,r)=>aW(t,e,r)<=0;sT.exports=uW});var zm=p((zB,aT)=>{"use strict";var cW=Um(),lW=Bm(),fW=Ma(),dW=hf(),hW=df(),gW=gf(),pW=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return cW(t,r,n);case"!=":return lW(t,r,n);case">":return fW(t,r,n);case">=":return dW(t,r,n);case"<":return hW(t,r,n);case"<=":return gW(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};aT.exports=pW});var cT=p((VB,uT)=>{"use strict";var mW=bt(),yW=Fi(),{safeRe:pf,t:mf}=Xo(),vW=(t,e)=>{if(t instanceof mW)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(e.includePrerelease?pf[mf.COERCEFULL]:pf[mf.COERCE]);else{let u=e.includePrerelease?pf[mf.COERCERTLFULL]:pf[mf.COERCERTL],c;for(;(c=u.exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||c.index+c[0].length!==r.index+r[0].length)&&(r=c),u.lastIndex=c.index+c[1].length+c[2].length;u.lastIndex=-1}if(r===null)return null;let n=r[2],i=r[3]||"0",o=r[4]||"0",s=e.includePrerelease&&r[5]?`-${r[5]}`:"",a=e.includePrerelease&&r[6]?`+${r[6]}`:"";return yW(`${n}.${i}.${o}${s}${a}`,e)};uT.exports=vW});var fT=p((GB,lT)=>{"use strict";var Vm=class{constructor(){this.max=1e3,this.map=new Map}get(e){let r=this.map.get(e);if(r!==void 0)return this.map.delete(e),this.map.set(e,r),r}delete(e){return this.map.delete(e)}set(e,r){if(!this.delete(e)&&r!==void 0){if(this.map.size>=this.max){let i=this.map.keys().next().value;this.delete(i)}this.map.set(e,r)}return this}};lT.exports=Vm});var fr=p((YB,pT)=>{"use strict";var bW=/\s+/g,Gm=class t{constructor(e,r){if(r=wW(r),e instanceof t)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new t(e.raw,r);if(e instanceof Ym)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e.trim().replace(bW," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!hT(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&TW(i[0])){this.set=[i];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let r=this.set[e];for(let n=0;n<r.length;n++)n>0&&(this.formatted+=" "),this.formatted+=r[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&PW)|(this.options.loose&&OW))+":"+e,i=dT.get(n);if(i)return i;let o=this.options.loose,s=o?zt[Tt.HYPHENRANGELOOSE]:zt[Tt.HYPHENRANGE];e=e.replace(s,kW(this.options.includePrerelease)),Ie("hyphen replace",e),e=e.replace(zt[Tt.COMPARATORTRIM],SW),Ie("comparator trim",e),e=e.replace(zt[Tt.TILDETRIM],EW),Ie("tilde trim",e),e=e.replace(zt[Tt.CARETTRIM],DW),Ie("caret trim",e);let a=e.split(" ").map(d=>qW(d,this.options)).join(" ").split(/\s+/).map(d=>IW(d,this.options));o&&(a=a.filter(d=>(Ie("loose invalid filter",d,this.options),!!d.match(zt[Tt.COMPARATORLOOSE])))),Ie("range list",a);let u=new Map,c=a.map(d=>new Ym(d,this.options));for(let d of c){if(hT(d))return[d];u.set(d.value,d)}u.size>1&&u.has("")&&u.delete("");let h=[...u.values()];return dT.set(n,h),h}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(n=>gT(n,r)&&e.set.some(i=>gT(i,r)&&n.every(o=>i.every(s=>o.intersects(s,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new RW(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(FW(this.set[r],e,this.options))return!0;return!1}};pT.exports=Gm;var _W=fT(),dT=new _W,wW=sf(),Ym=Ca(),Ie=qa(),RW=bt(),{safeRe:zt,t:Tt,comparatorTrimReplace:SW,tildeTrimReplace:EW,caretTrimReplace:DW}=Xo(),{FLAG_INCLUDE_PRERELEASE:PW,FLAG_LOOSE:OW}=Ta(),hT=t=>t.value==="<0.0.0-0",TW=t=>t.value==="",gT=(t,e)=>{let r=!0,n=t.slice(),i=n.pop();for(;r&&n.length;)r=n.every(o=>i.intersects(o,e)),i=n.pop();return r},qW=(t,e)=>(Ie("comp",t,e),t=AW(t,e),Ie("caret",t),t=MW(t,e),Ie("tildes",t),t=NW(t,e),Ie("xrange",t),t=xW(t,e),Ie("stars",t),t),qt=t=>!t||t.toLowerCase()==="x"||t==="*",MW=(t,e)=>t.trim().split(/\s+/).map(r=>CW(r,e)).join(" "),CW=(t,e)=>{let r=e.loose?zt[Tt.TILDELOOSE]:zt[Tt.TILDE];return t.replace(r,(n,i,o,s,a)=>{Ie("tilde",t,n,i,o,s,a);let u;return qt(i)?u="":qt(o)?u=`>=${i}.0.0 <${+i+1}.0.0-0`:qt(s)?u=`>=${i}.${o}.0 <${i}.${+o+1}.0-0`:a?(Ie("replaceTilde pr",a),u=`>=${i}.${o}.${s}-${a} <${i}.${+o+1}.0-0`):u=`>=${i}.${o}.${s} <${i}.${+o+1}.0-0`,Ie("tilde return",u),u})},AW=(t,e)=>t.trim().split(/\s+/).map(r=>jW(r,e)).join(" "),jW=(t,e)=>{Ie("caret",t,e);let r=e.loose?zt[Tt.CARETLOOSE]:zt[Tt.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(i,o,s,a,u)=>{Ie("caret",t,i,o,s,a,u);let c;return qt(o)?c="":qt(s)?c=`>=${o}.0.0${n} <${+o+1}.0.0-0`:qt(a)?o==="0"?c=`>=${o}.${s}.0${n} <${o}.${+s+1}.0-0`:c=`>=${o}.${s}.0${n} <${+o+1}.0.0-0`:u?(Ie("replaceCaret pr",u),o==="0"?s==="0"?c=`>=${o}.${s}.${a}-${u} <${o}.${s}.${+a+1}-0`:c=`>=${o}.${s}.${a}-${u} <${o}.${+s+1}.0-0`:c=`>=${o}.${s}.${a}-${u} <${+o+1}.0.0-0`):(Ie("no pr"),o==="0"?s==="0"?c=`>=${o}.${s}.${a}${n} <${o}.${s}.${+a+1}-0`:c=`>=${o}.${s}.${a}${n} <${o}.${+s+1}.0-0`:c=`>=${o}.${s}.${a} <${+o+1}.0.0-0`),Ie("caret return",c),c})},NW=(t,e)=>(Ie("replaceXRanges",t,e),t.split(/\s+/).map(r=>LW(r,e)).join(" ")),LW=(t,e)=>{t=t.trim();let r=e.loose?zt[Tt.XRANGELOOSE]:zt[Tt.XRANGE];return t.replace(r,(n,i,o,s,a,u)=>{Ie("xRange",t,n,i,o,s,a,u);let c=qt(o),h=c||qt(s),d=h||qt(a),g=d;return i==="="&&g&&(i=""),u=e.includePrerelease?"-0":"",c?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&g?(h&&(s=0),a=0,i===">"?(i=">=",h?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):i==="<="&&(i="<",h?o=+o+1:s=+s+1),i==="<"&&(u="-0"),n=`${i+o}.${s}.${a}${u}`):h?n=`>=${o}.0.0${u} <${+o+1}.0.0-0`:d&&(n=`>=${o}.${s}.0${u} <${o}.${+s+1}.0-0`),Ie("xRange return",n),n})},xW=(t,e)=>(Ie("replaceStars",t,e),t.trim().replace(zt[Tt.STAR],"")),IW=(t,e)=>(Ie("replaceGTE0",t,e),t.trim().replace(zt[e.includePrerelease?Tt.GTE0PRE:Tt.GTE0],"")),kW=t=>(e,r,n,i,o,s,a,u,c,h,d,g)=>(qt(n)?r="":qt(i)?r=`>=${n}.0.0${t?"-0":""}`:qt(o)?r=`>=${n}.${i}.0${t?"-0":""}`:s?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,qt(c)?u="":qt(h)?u=`<${+c+1}.0.0-0`:qt(d)?u=`<${c}.${+h+1}.0-0`:g?u=`<=${c}.${h}.${d}-${g}`:t?u=`<${c}.${h}.${+d+1}-0`:u=`<=${u}`,`${r} ${u}`.trim()),FW=(t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(Ie(t[n].semver),t[n].semver!==Ym.ANY&&t[n].semver.prerelease.length>0){let i=t[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var Ca=p((KB,wT)=>{"use strict";var Aa=Symbol("SemVer ANY"),Jm=class t{static get ANY(){return Aa}constructor(e,r){if(r=mT(r),e instanceof t){if(e.loose===!!r.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),Xm("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===Aa?this.value="":this.value=this.operator+this.semver.version,Xm("comp",this)}parse(e){let r=this.options.loose?yT[vT.COMPARATORLOOSE]:yT[vT.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new bT(n[2],this.options.loose):this.semver=Aa}toString(){return this.value}test(e){if(Xm("Comparator.test",e,this.options.loose),this.semver===Aa||e===Aa)return!0;if(typeof e=="string")try{e=new bT(e,this.options)}catch{return!1}return Km(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new _T(e.value,r).test(this.value):e.operator===""?e.value===""?!0:new _T(this.value,r).test(e.semver):(r=mT(r),r.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||Km(this.semver,"<",e.semver,r)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||Km(this.semver,">",e.semver,r)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};wT.exports=Jm;var mT=sf(),{safeRe:yT,t:vT}=Xo(),Km=zm(),Xm=qa(),bT=bt(),_T=fr()});var ja=p((XB,RT)=>{"use strict";var $W=fr(),WW=(t,e,r)=>{try{e=new $W(e,r)}catch{return!1}return e.test(t)};RT.exports=WW});var ET=p((JB,ST)=>{"use strict";var HW=fr(),UW=(t,e)=>new HW(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));ST.exports=UW});var PT=p((QB,DT)=>{"use strict";var BW=bt(),zW=fr(),VW=(t,e,r)=>{let n=null,i=null,o=null;try{o=new zW(e,r)}catch{return null}return t.forEach(s=>{o.test(s)&&(!n||i.compare(s)===-1)&&(n=s,i=new BW(n,r))}),n};DT.exports=VW});var TT=p((ZB,OT)=>{"use strict";var GW=bt(),YW=fr(),KW=(t,e,r)=>{let n=null,i=null,o=null;try{o=new YW(e,r)}catch{return null}return t.forEach(s=>{o.test(s)&&(!n||i.compare(s)===1)&&(n=s,i=new GW(n,r))}),n};OT.exports=KW});var CT=p((ez,MT)=>{"use strict";var Qm=bt(),XW=fr(),qT=Ma(),JW=(t,e)=>{t=new XW(t,e);let r=new Qm("0.0.0");if(t.test(r)||(r=new Qm("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let i=t.set[n],o=null;i.forEach(s=>{let a=new Qm(s.semver.version);switch(s.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!o||qT(a,o))&&(o=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${s.operator}`)}}),o&&(!r||qT(r,o))&&(r=o)}return r&&t.test(r)?r:null};MT.exports=JW});var jT=p((tz,AT)=>{"use strict";var QW=fr(),ZW=(t,e)=>{try{return new QW(t,e).range||"*"}catch{return null}};AT.exports=ZW});var yf=p((rz,IT)=>{"use strict";var e3=bt(),xT=Ca(),{ANY:t3}=xT,r3=fr(),n3=ja(),NT=Ma(),LT=df(),i3=gf(),o3=hf(),s3=(t,e,r,n)=>{t=new e3(t,n),e=new r3(e,n);let i,o,s,a,u;switch(r){case">":i=NT,o=i3,s=LT,a=">",u=">=";break;case"<":i=LT,o=o3,s=NT,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(n3(t,e,n))return!1;for(let c=0;c<e.set.length;++c){let h=e.set[c],d=null,g=null;if(h.forEach(_=>{_.semver===t3&&(_=new xT(">=0.0.0")),d=d||_,g=g||_,i(_.semver,d.semver,n)?d=_:s(_.semver,g.semver,n)&&(g=_)}),d.operator===a||d.operator===u||(!g.operator||g.operator===a)&&o(t,g.semver))return!1;if(g.operator===u&&s(t,g.semver))return!1}return!0};IT.exports=s3});var FT=p((nz,kT)=>{"use strict";var a3=yf(),u3=(t,e,r)=>a3(t,e,">",r);kT.exports=u3});var WT=p((iz,$T)=>{"use strict";var c3=yf(),l3=(t,e,r)=>c3(t,e,"<",r);$T.exports=l3});var BT=p((oz,UT)=>{"use strict";var HT=fr(),f3=(t,e,r)=>(t=new HT(t,r),e=new HT(e,r),t.intersects(e,r));UT.exports=f3});var VT=p((sz,zT)=>{"use strict";var d3=ja(),h3=lr();zT.exports=(t,e,r)=>{let n=[],i=null,o=null,s=t.sort((h,d)=>h3(h,d,r));for(let h of s)d3(h,e,r)?(o=h,i||(i=h)):(o&&n.push([i,o]),o=null,i=null);i&&n.push([i,null]);let a=[];for(let[h,d]of n)h===d?a.push(h):!d&&h===s[0]?a.push("*"):d?h===s[0]?a.push(`<=${d}`):a.push(`${h} - ${d}`):a.push(`>=${h}`);let u=a.join(" || "),c=typeof e.raw=="string"?e.raw:String(e);return u.length<c.length?u:e}});var QT=p((az,JT)=>{"use strict";var GT=fr(),ey=Ca(),{ANY:Zm}=ey,Na=ja(),ty=lr(),g3=(t,e,r={})=>{if(t===e)return!0;t=new GT(t,r),e=new GT(e,r);let n=!1;e:for(let i of t.set){for(let o of e.set){let s=m3(i,o,r);if(n=n||s!==null,s)continue e}if(n)return!1}return!0},p3=[new ey(">=0.0.0-0")],YT=[new ey(">=0.0.0")],m3=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===Zm){if(e.length===1&&e[0].semver===Zm)return!0;r.includePrerelease?t=p3:t=YT}if(e.length===1&&e[0].semver===Zm){if(r.includePrerelease)return!0;e=YT}let n=new Set,i,o;for(let _ of t)_.operator===">"||_.operator===">="?i=KT(i,_,r):_.operator==="<"||_.operator==="<="?o=XT(o,_,r):n.add(_.semver);if(n.size>1)return null;let s;if(i&&o){if(s=ty(i.semver,o.semver,r),s>0)return null;if(s===0&&(i.operator!==">="||o.operator!=="<="))return null}for(let _ of n){if(i&&!Na(_,String(i),r)||o&&!Na(_,String(o),r))return null;for(let y of e)if(!Na(_,String(y),r))return!1;return!0}let a,u,c,h,d=o&&!r.includePrerelease&&o.semver.prerelease.length?o.semver:!1,g=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;d&&d.prerelease.length===1&&o.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let _ of e){if(h=h||_.operator===">"||_.operator===">=",c=c||_.operator==="<"||_.operator==="<=",i){if(g&&_.semver.prerelease&&_.semver.prerelease.length&&_.semver.major===g.major&&_.semver.minor===g.minor&&_.semver.patch===g.patch&&(g=!1),_.operator===">"||_.operator===">="){if(a=KT(i,_,r),a===_&&a!==i)return!1}else if(i.operator===">="&&!Na(i.semver,String(_),r))return!1}if(o){if(d&&_.semver.prerelease&&_.semver.prerelease.length&&_.semver.major===d.major&&_.semver.minor===d.minor&&_.semver.patch===d.patch&&(d=!1),_.operator==="<"||_.operator==="<="){if(u=XT(o,_,r),u===_&&u!==o)return!1}else if(o.operator==="<="&&!Na(o.semver,String(_),r))return!1}if(!_.operator&&(o||i)&&s!==0)return!1}return!(i&&c&&!o&&s!==0||o&&h&&!i&&s!==0||g||d)},KT=(t,e,r)=>{if(!t)return e;let n=ty(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},XT=(t,e,r)=>{if(!t)return e;let n=ty(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};JT.exports=g3});var rq=p((uz,tq)=>{"use strict";var ry=Xo(),ZT=Ta(),y3=bt(),eq=Wm(),v3=Fi(),b3=PO(),_3=TO(),w3=CO(),R3=NO(),S3=xO(),E3=kO(),D3=$O(),P3=HO(),O3=lr(),T3=VO(),q3=YO(),M3=ff(),C3=QO(),A3=eT(),j3=Ma(),N3=df(),L3=Um(),x3=Bm(),I3=hf(),k3=gf(),F3=zm(),$3=cT(),W3=Ca(),H3=fr(),U3=ja(),B3=ET(),z3=PT(),V3=TT(),G3=CT(),Y3=jT(),K3=yf(),X3=FT(),J3=WT(),Q3=BT(),Z3=VT(),e4=QT();tq.exports={parse:v3,valid:b3,clean:_3,inc:w3,diff:R3,major:S3,minor:E3,patch:D3,prerelease:P3,compare:O3,rcompare:T3,compareLoose:q3,compareBuild:M3,sort:C3,rsort:A3,gt:j3,lt:N3,eq:L3,neq:x3,gte:I3,lte:k3,cmp:F3,coerce:$3,Comparator:W3,Range:H3,satisfies:U3,toComparators:B3,maxSatisfying:z3,minSatisfying:V3,minVersion:G3,validRange:Y3,outside:K3,gtr:X3,ltr:J3,intersects:Q3,simplifyRange:Z3,subset:e4,SemVer:y3,re:ry.re,src:ry.src,tokens:ry.t,SEMVER_SPEC_VERSION:ZT.SEMVER_SPEC_VERSION,RELEASE_TYPES:ZT.RELEASE_TYPES,compareIdentifiers:eq.compareIdentifiers,rcompareIdentifiers:eq.rcompareIdentifiers}});var sq=p(tn=>{"use strict";var ny=tn&&tn.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},ke=tn&&tn.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Rf=tn&&tn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},_f,Rn,Vt,vf,bf,La,nq,oq;Object.defineProperty(tn,"__esModule",{value:!0});tn.OldStylelintWarningModule=void 0;var t4=Rf(require("path")),r4=Rf(require("fs/promises")),iq=Rf(rq()),n4=Rf(kl()),i4=Ho(),o4=va(),wf=class{constructor({context:e,logger:r}){_f.add(this),Rn.set(this,void 0),Vt.set(this,void 0),vf.set(this,new Set),bf.set(this,!1),La.set(this,[]),ny(this,Rn,e,"f"),ny(this,Vt,r,"f")}dispose(){ke(this,La,"f").forEach(e=>e.dispose()),ke(this,La,"f").length=0}onInitialize({capabilities:e}){ny(this,bf,e.window?.showDocument?.support??!1,"f")}onDidRegisterHandlers(){ke(this,Vt,"f")?.debug("Registering onDidOpen handler"),ke(this,La,"f").push(ke(this,Rn,"f").documents.onDidOpen(async({document:e})=>{let r=await ke(this,_f,"m",oq).call(this,e);if(!r)return;ke(this,Vt,"f")?.warn(`Found unsupported version of Stylelint: ${r}`);let n=`Stylelint version ${r} is no longer supported. While it may continue to work for a while, you may encounter unexpected behavior. Please upgrade to version 14.0.0 or newer. See the migration guide for more information.`;if(!ke(this,bf,"f")){ke(this,Rn,"f").connection.window.showWarningMessage(n);return}(await ke(this,Rn,"f").connection.window.showWarningMessage(n,{title:"Open migration guide"}))?.title==="Open migration guide"&&((await ke(this,Rn,"f").connection.window.showDocument({uri:"https://github.com/stylelint/vscode-stylelint#migrating-from-vscode-stylelint-0xstylelint-13x",external:!0})).success||ke(this,Vt,"f")?.warn("Failed to open migration guide"))})),ke(this,Vt,"f")?.debug("onDidOpen handler registered")}};tn.OldStylelintWarningModule=wf;Rn=new WeakMap,Vt=new WeakMap,vf=new WeakMap,bf=new WeakMap,La=new WeakMap,_f=new WeakSet,nq=async function(e,r){let n=await ke(this,Rn,"f").resolveStylelint(e);if(!n){ke(this,Vt,"f")?.debug("Stylelint not found",{uri:e.uri});return}let i=await(0,o4.findPackageRoot)(n.resolvedPath);if(!i){ke(this,Vt,"f")?.debug("Stylelint package root not found",{uri:e.uri});return}if(!(0,n4.default)(i,r)){ke(this,Vt,"f")?.debug("Stylelint package root is not inside the workspace",{uri:e.uri});return}let o=t4.default.join(i,"package.json");try{let s=await r4.default.readFile(o,"utf8");return JSON.parse(s).version}catch(s){ke(this,Vt,"f")?.debug("Stylelint package manifest could not be read",{uri:e.uri,manifestPath:o,error:s});return}},oq=async function(e){let r=await(0,i4.getWorkspaceFolder)(ke(this,Rn,"f").connection,e);if(!r){ke(this,Vt,"f")?.debug("Document not part of a workspace, ignoring",{uri:e.uri});return}if(ke(this,vf,"f").has(r)){ke(this,Vt,"f")?.debug("Document has already been checked, ignoring",{uri:e.uri});return}ke(this,vf,"f").add(r);let n=await ke(this,_f,"m",nq).call(this,e,r);if(n)try{let i=iq.default.coerce(n);if(!i)throw new Error(`Could not coerce version "${n}"`);return iq.default.lt(i,"14.0.0")?n:void 0}catch(i){ke(this,Vt,"f")?.debug("Stylelint version could not be parsed",{uri:e.uri,version:n,error:i});return}};wf.id="old-stylelint-warning"});var cq=p(ci=>{"use strict";var aq=ci&&ci.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},de=ci&&ci.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},rn,dr,dt,Qo,$i,uq,iy,Sf,oy;Object.defineProperty(ci,"__esModule",{value:!0});ci.ValidatorModule=void 0;var s4=Oe(),Ef=class{constructor({context:e,logger:r}){rn.add(this),dr.set(this,void 0),dt.set(this,void 0),Qo.set(this,new Map),$i.set(this,[]),aq(this,dr,e,"f"),aq(this,dt,r,"f")}dispose(){de(this,$i,"f").forEach(e=>e.dispose()),de(this,$i,"f").length=0}getDiagnostics(e){return de(this,Qo,"f").get(e)??[]}onInitialize(){de(this,rn,"m",Sf).call(this)}onDidRegisterHandlers(){de(this,dt,"f")?.debug("Registering handlers"),de(this,$i,"f").push(de(this,dr,"f").notifications.on(s4.DidChangeWatchedFilesNotification.type,async()=>await de(this,rn,"m",Sf).call(this))),de(this,dt,"f")?.debug("onDidChangeWatchedFiles handler registered"),de(this,$i,"f").push(de(this,dr,"f").documents.onDidChangeContent(async({document:e})=>await de(this,rn,"m",iy).call(this,e))),de(this,dt,"f")?.debug("onDidChangeContent handler registered"),de(this,$i,"f").push(de(this,dr,"f").documents.onDidClose(async({document:e})=>{await de(this,rn,"m",oy).call(this,e)})),de(this,dt,"f")?.debug("onDidClose handler registered"),de(this,dt,"f")?.debug("Handlers registered")}async onDidChangeConfiguration(){de(this,dt,"f")?.debug("Received onDidChangeConfiguration"),await de(this,rn,"m",Sf).call(this)}};ci.ValidatorModule=Ef;dr=new WeakMap,dt=new WeakMap,Qo=new WeakMap,$i=new WeakMap,rn=new WeakSet,uq=async function(e){return(await de(this,dr,"f").getOptions(e.uri)).validate.includes(e.languageId)},iy=async function(e){if(!await de(this,rn,"m",uq).call(this,e)){de(this,Qo,"f").has(e.uri)?(de(this,dt,"f")?.debug("Document should not be validated, clearing diagnostics",{uri:e.uri,language:e.languageId}),await de(this,rn,"m",oy).call(this,e)):de(this,dt,"f")?.debug("Document should not be validated, ignoring",{uri:e.uri,language:e.languageId});return}let r=await de(this,dr,"f").lintDocument(e);if(!r){de(this,dt,"f")?.debug("No lint result, ignoring",{uri:e.uri});return}de(this,dt,"f")?.debug("Sending diagnostics",{uri:e.uri,result:r});try{await de(this,dr,"f").connection.sendDiagnostics({uri:e.uri,diagnostics:r.diagnostics}),de(this,Qo,"f").set(e.uri,r.diagnostics),de(this,dt,"f")?.debug("Diagnostics sent",{uri:e.uri})}catch(n){de(this,dr,"f").displayError(n),de(this,dt,"f")?.error("Failed to send diagnostics",{uri:e.uri,error:n})}},Sf=async function(){await Promise.allSettled(de(this,dr,"f").documents.all().map(e=>de(this,rn,"m",iy).call(this,e)))},oy=async function({uri:e}){de(this,dt,"f")?.debug("Clearing diagnostics for document",{uri:e}),de(this,Qo,"f").delete(e),await de(this,dr,"f").connection.sendDiagnostics({uri:e,diagnostics:[]}),de(this,dt,"f")?.debug("Diagnostics cleared",{uri:e})};Ef.id="validator"});var lq=p(hr=>{"use strict";var a4=hr&&hr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Zo=hr&&hr.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&a4(e,t,r)};Object.defineProperty(hr,"__esModule",{value:!0});Zo(HD(),hr);Zo(oO(),hr);Zo(fO(),hr);Zo(hO(),hr);Zo(sq(),hr);Zo(cq(),hr)});var gq={};Iq(gq,{TextDocument:()=>sy});function ay(t,e){if(t.length<=1)return t;let r=t.length/2|0,n=t.slice(0,r),i=t.slice(r);ay(n,e),ay(i,e);let o=0,s=0,a=0;for(;o<n.length&&s<i.length;)e(n[o],i[s])<=0?t[a++]=n[o++]:t[a++]=i[s++];for(;o<n.length;)t[a++]=n[o++];for(;s<i.length;)t[a++]=i[s++];return t}function fq(t,e,r=0){let n=e?[r]:[];for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);dq(o)&&(o===13&&i+1<t.length&&t.charCodeAt(i+1)===10&&i++,n.push(r+i+1))}return n}function dq(t){return t===13||t===10}function hq(t){let e=t.start,r=t.end;return e.line>r.line||e.line===r.line&&e.character>r.character?{start:r,end:e}:t}function u4(t){let e=hq(t.range);return e!==t.range?{newText:t.newText,range:e}:t}var Df,sy,pq=xq(()=>{"use strict";Df=class t{constructor(e,r,n,i){this._uri=e,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let r=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(r,n)}return this._content}update(e,r){for(let n of e)if(t.isIncremental(n)){let i=hq(n.range),o=this.offsetAt(i.start),s=this.offsetAt(i.end);this._content=this._content.substring(0,o)+n.text+this._content.substring(s,this._content.length);let a=Math.max(i.start.line,0),u=Math.max(i.end.line,0),c=this._lineOffsets,h=fq(n.text,!1,o);if(u-a===h.length)for(let g=0,_=h.length;g<_;g++)c[g+a+1]=h[g];else h.length<1e4?c.splice(a+1,u-a,...h):this._lineOffsets=c=c.slice(0,a+1).concat(h,c.slice(u+1));let d=n.text.length-(s-o);if(d!==0)for(let g=a+1+h.length,_=c.length;g<_;g++)c[g]=c[g]+d}else if(t.isFull(n))this._content=n.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=r}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=fq(this._content,!0)),this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return{line:0,character:e};for(;n<i;){let s=Math.floor((n+i)/2);r[s]>e?i=s:n=s+1}let o=n-1;return e=this.ensureBeforeEOL(e,r[o]),{line:o,character:e-r[o]}}offsetAt(e){let r=this.getLineOffsets();if(e.line>=r.length)return this._content.length;if(e.line<0)return 0;let n=r[e.line];if(e.character<=0)return n;let i=e.line+1<r.length?r[e.line+1]:this._content.length,o=Math.min(n+e.character,i);return this.ensureBeforeEOL(o,n)}ensureBeforeEOL(e,r){for(;e>r&&dq(this._content.charCodeAt(e-1));)e--;return e}get lineCount(){return this.getLineOffsets().length}static isIncremental(e){let r=e;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}static isFull(e){let r=e;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}};(function(t){function e(i,o,s,a){return new Df(i,o,s,a)}t.create=e;function r(i,o,s){if(i instanceof Df)return i.update(o,s),i;throw new Error("TextDocument.update: document must be created by TextDocument.create")}t.update=r;function n(i,o){let s=i.getText(),a=ay(o.map(u4),(h,d)=>{let g=h.range.start.line-d.range.start.line;return g===0?h.range.start.character-d.range.start.character:g}),u=0,c=[];for(let h of a){let d=i.offsetAt(h.range.start);if(d<u)throw new Error("Overlapping edit");d>u&&c.push(s.substring(u,d)),h.newText.length&&c.push(h.newText),u=i.offsetAt(h.range.end)}return c.push(s.substr(u)),c.join("")}t.applyEdits=n})(sy||(sy={}))});var Oq=p(fi=>{"use strict";var gr=fi&&fi.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},j=fi&&fi.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Me,Ia,Mt,se,Hi,ns,Wi,$a,os,is,Of,li,es,ts,Ui,ka,Tf,rs,Fa,wq,Rq,Sq,Eq,Dq,Pq,xa,mq,yq,vq,bq;Object.defineProperty(fi,"__esModule",{value:!0});fi.StylelintLanguageServer=void 0;var c4=(pq(),Fq(gq)),l4=sc(),Pf=Oe(),_q=Ho(),cy=Il(),uy=Fp(),f4=Pa(),d4=va(),h4=ko(),g4=Vp(),ly={codeAction:{disableRuleComment:{location:"separateLine"}},config:null,configFile:"",configBasedir:"",customSyntax:"",ignoreDisables:!1,packageManager:"npm",reportDescriptionlessDisables:!1,reportInvalidScopeDisables:!1,reportNeedlessDisables:!1,snippet:["css","postcss"],stylelintPath:"",validate:["css","postcss"]},fy=class{constructor({connection:e,logger:r,modules:n}){Me.add(this),Ia.set(this,"New"),Mt.set(this,void 0),se.set(this,void 0),Hi.set(this,void 0),ns.set(this,void 0),Wi.set(this,void 0),$a.set(this,void 0),os.set(this,void 0),is.set(this,void 0),Of.set(this,void 0),li.set(this,new Map),es.set(this,!1),ts.set(this,new Map),Ui.set(this,[]),ka.set(this,new Map),gr(this,Mt,e,"f"),gr(this,se,(r??(0,g4.createLogger)(e))?.child({component:"language-server"}),"f"),gr(this,Hi,new cy.NotificationManager(e,j(this,se,"f")),"f"),gr(this,ns,new cy.CommandManager(e,j(this,se,"f")),"f"),gr(this,Wi,ly,"f"),gr(this,$a,new d4.StylelintResolver(e,j(this,se,"f")),"f"),gr(this,os,new f4.StylelintRunner(e,j(this,se,"f"),j(this,$a,"f")),"f"),gr(this,is,new l4.TextDocuments(c4.TextDocument),"f"),gr(this,Of,{connection:j(this,Mt,"f"),notifications:j(this,Hi,"f"),commands:j(this,ns,"f"),documents:j(this,is,"f"),runner:j(this,os,"f"),getOptions:j(this,Me,"m",Fa).bind(this),getModule:j(this,Me,"m",Dq).bind(this),getFixes:j(this,Me,"m",Eq).bind(this),displayError:j(this,Me,"m",rs).bind(this),lintDocument:j(this,Me,"m",Rq).bind(this),getEditInfo:j(this,Me,"m",Sq).bind(this),resolveStylelint:j(this,Me,"m",wq).bind(this)},"f");let i=new Proxy(j(this,Of,"f"),{get(o,s){return o[s]},set(){throw new Error("Cannot set read-only property")}});if(n)for(let o of n){if(j(this,se,"f").info("Registering module",{module:o.id}),!o.id)throw new Error("Modules must have an ID");if(typeof o.id!="string")throw new Error("Module IDs must be strings");let s=new o({context:i,logger:r?.child({component:`language-server:${o.id}`})});if(j(this,li,"f").has(o.id))throw new Error(`Module with ID "${o.id}" already registered`);j(this,li,"f").set(o.id,s),j(this,se,"f").info("Module registered",{module:o.id})}}start(){j(this,Me,"m",Tf).call(this,"Started"),j(this,se,"f").info("Starting language server"),j(this,is,"f").listen(j(this,Mt,"f")),j(this,Mt,"f").listen(),j(this,Me,"m",Pq).call(this),j(this,se,"f").info("Language server started")}dispose(){try{j(this,Me,"m",Tf).call(this,"Disposed")}catch{return}j(this,se,"f").info("Stopping language server"),j(this,li,"f").forEach(e=>e.dispose()),j(this,Ui,"f").forEach(e=>e.dispose()),j(this,Ui,"f").length=0,j(this,Mt,"f").onInitialize(()=>({capabilities:{}})),j(this,Mt,"f").onShutdown(()=>{}),j(this,li,"f").clear(),j(this,Hi,"f").dispose(),j(this,ns,"f").dispose(),j(this,Mt,"f").dispose()}};fi.StylelintLanguageServer=fy;Ia=new WeakMap,Mt=new WeakMap,se=new WeakMap,Hi=new WeakMap,ns=new WeakMap,Wi=new WeakMap,$a=new WeakMap,os=new WeakMap,is=new WeakMap,Of=new WeakMap,li=new WeakMap,es=new WeakMap,ts=new WeakMap,Ui=new WeakMap,ka=new WeakMap,Me=new WeakSet,Tf=function(e){if(j(this,Ia,"f")===e)throw new Error(`Cannot transition from state ${e} to itself`);switch(j(this,Ia,"f")){case"Initialized":if(e!=="Disposed")throw new Error("Can only transition state from Initialized to Disposed");break;case"Disposed":throw new Error("Cannot transition from Disposed");default:break}gr(this,Ia,e,"f")},rs=function(e){(0,cy.displayError)(j(this,Mt,"f"),e)},Fa=async function(e){if(!j(this,es,"f"))return j(this,Wi,"f");let r=j(this,ts,"f").get(e);if(r)return j(this,se,"f").debug("Returning cached options",{resource:e}),r;j(this,se,"f").debug("Requesting options from client",{resource:e});let n=await j(this,Mt,"f").workspace.getConfiguration({scopeUri:e,section:"stylelint"});j(this,se,"f").debug("Received options from client",{resource:e,options:n});let i=(0,uy.mergeOptionsWithDefaults)(n,ly);return Object.freeze(i),j(this,ts,"f").set(e,i),j(this,se,"f").debug("Returning options",{resource:e,options:i}),i},wq=async function(e){j(this,se,"f").debug("Resolving Stylelint",{uri:e.uri});try{let r=await j(this,Me,"m",Fa).call(this,e.uri),n=await j(this,$a,"f").resolve(r,e);return n?j(this,se,"f").debug("Stylelint resolved",{uri:e.uri,resolvedPath:n.resolvedPath}):j(this,se,"f").warn("Failed to resolve Stylelint",{uri:e.uri}),n}catch(r){j(this,Me,"m",rs).call(this,r),j(this,se,"f").error("Error resolving Stylelint",{uri:e.uri,error:r});return}},Rq=async function(e,r={}){j(this,se,"f").debug("Linting document",{uri:e.uri,linterOptions:r});try{let n=await j(this,Me,"m",Fa).call(this,e.uri),i=await j(this,os,"f").lintDocument(e,r,n);return j(this,ka,"f").set(e.uri,{version:e.version,...i}),j(this,se,"f").debug("Lint run complete",{uri:e.uri,results:i}),i}catch(n){j(this,Me,"m",rs).call(this,n),j(this,se,"f").error("Error running lint",{uri:e.uri,error:n});return}},Sq=function(e,r){return(0,_q.getEditInfo)(e,r,j(this,ka,"f").get(e.uri))},Eq=async function(e,r={}){try{let n=await j(this,Me,"m",Fa).call(this,e.uri),i=await(0,_q.getFixes)(j(this,os,"f"),e,r,n);return j(this,se,"f").debug("Fixes retrieved",{uri:e.uri,edits:i}),i}catch(n){return j(this,Me,"m",rs).call(this,n),j(this,se,"f").error("Error getting fixes",{uri:e.uri,error:n}),[]}},Dq=function(e){return j(this,li,"f").get(e)},Pq=function(){j(this,se,"f").info("Registering handlers"),j(this,Mt,"f").onInitialize(j(this,Me,"m",mq).bind(this)),j(this,se,"f").debug("connection.onInitialize handler registered"),j(this,Ui,"f").push(j(this,Hi,"f").on(Pf.InitializedNotification.type,j(this,Me,"m",yq).bind(this))),j(this,se,"f").debug("connection.onInitialized handler registered"),j(this,Mt,"f").onShutdown(()=>this.dispose()),j(this,se,"f").debug("connection.onShutdown handler registered"),j(this,ns,"f").register(),j(this,Ui,"f").push(j(this,Hi,"f").on(Pf.DidChangeConfigurationNotification.type,j(this,Me,"m",bq).bind(this))),j(this,se,"f").debug("connection.onDidChangeConfiguration handler registered"),j(this,Ui,"f").push(j(this,is,"f").onDidClose(j(this,Me,"m",vq).bind(this))),j(this,se,"f").debug("documents.onDidClose handler registered"),j(this,Me,"m",xa).call(this,"onDidRegisterHandlers"),j(this,se,"f").info("Handlers registered")},xa=function(e,...r){j(this,se,"f").debug(`Invoking ${String(e)}`);let n=Object.create(null);for(let[i,o]of j(this,li,"f")){let s=o[e];if(s)try{n[i]=s.apply(o,r),j(this,se,"f").debug(`Invoked ${String(e)}`,{module:i,returnValue:n[i]})}catch(a){j(this,Me,"m",rs).call(this,a),j(this,se,"f").error(`Error invoking ${String(e)}`,{module:i,error:a})}}return n},mq=function(e){j(this,se,"f").debug("received onInitialize",{params:e});let r={capabilities:{textDocumentSync:{openClose:!0,change:Pf.TextDocumentSyncKind.Full}}};e.capabilities.workspace?.configuration&&(j(this,se,"f").debug("Client reports workspace configuration support; using scoped configuration"),gr(this,es,!0,"f"));for(let[,n]of Object.entries(j(this,Me,"m",xa).call(this,"onInitialize",e)))n&&(0,uy.mergeAssign)(r,n);return j(this,se,"f").debug("Returning initialization results",{result:r}),r},yq=async function(e){j(this,Me,"m",Tf).call(this,"Initialized"),j(this,se,"f").debug("received onInitialized",{params:e}),j(this,es,"f")&&(j(this,se,"f").debug("Registering DidChangeConfigurationNotification"),await j(this,Mt,"f").client.register(Pf.DidChangeConfigurationNotification.type,{section:"stylelint"}))},vq=function({document:e}){j(this,se,"f").debug("received documents.onDidClose, clearing cached options",{uri:e.uri}),j(this,ts,"f").delete(e.uri),j(this,ka,"f").delete(e.uri)},bq=async function(e){if(j(this,es,"f")){j(this,se,"f").debug("received onDidChangeConfiguration, clearing cached options",{params:e}),j(this,ts,"f").clear(),j(this,Me,"m",xa).call(this,"onDidChangeConfiguration"),await j(this,Mt,"f").sendNotification(h4.Notification.DidResetConfiguration);return}j(this,se,"f").debug("received onDidChangeConfiguration",{params:e}),gr(this,Wi,(0,uy.mergeOptionsWithDefaults)(e.settings.stylelint,ly),"f"),Object.freeze(j(this,Wi,"f")),j(this,se,"f").debug("Global options updated",{options:j(this,Wi,"f")}),j(this,Me,"m",xa).call(this,"onDidChangeConfiguration")}});var qq=p(Ct=>{"use strict";var Tq=Ct&&Ct.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),p4=Ct&&Ct.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),dy=Ct&&Ct.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Tq(e,t,r)},m4=Ct&&Ct.__importStar||function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var n=[];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[n.length]=i);return n},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n=t(e),i=0;i<n.length;i++)n[i]!=="default"&&Tq(r,e,n[i]);return p4(r,e),r}}();Object.defineProperty(Ct,"__esModule",{value:!0});Ct.modules=void 0;dy(Vp(),Ct);Ct.modules=m4(lq());dy(Oq(),Ct);dy(ko(),Ct)});var Cq=exports&&exports.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var y4=Cq(require("path")),v4=Cq(require("process")),Mq=sc(),qf=qq(),hy=(0,Mq.createConnection)(Mq.ProposedFeatures.all),{NODE_ENV:b4}=v4.default.env,_4=b4==="development"?(0,qf.createLogger)(hy,"debug",y4.default.join(__dirname,"../stylelint-language-server.log")):(0,qf.createLogger)(hy,"info"),w4=new qf.StylelintLanguageServer({connection:hy,logger:_4,modules:Object.values(qf.modules)});w4.start();

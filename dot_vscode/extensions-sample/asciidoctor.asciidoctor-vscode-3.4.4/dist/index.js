(()=>{var e={858:(e,t,n)=>{var i="Expected a function",o=NaN,r="[object Symbol]",s=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt,d="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,f="object"==typeof self&&self&&self.Object===Object&&self,g=d||f||Function("return this")(),v=Object.prototype.toString,p=Math.max,m=Math.min,h=function(){return g.Date.now()};function w(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&v.call(e)==r}(e))return o;if(w(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=w(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var n=c.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):a.test(e)?o:+e}e.exports=function(e,t,n){var o=!0,r=!0;if("function"!=typeof e)throw new TypeError(i);return w(n)&&(o="leading"in n?!!n.leading:o,r="trailing"in n?!!n.trailing:r),function(e,t,n){var o,r,s,a,c,l,u=0,d=!1,f=!1,g=!0;if("function"!=typeof e)throw new TypeError(i);function v(t){var n=o,i=r;return o=r=void 0,u=t,a=e.apply(i,n)}function y(e){var n=e-l;return void 0===l||n>=t||n<0||f&&e-u>=s}function S(){var e=h();if(y(e))return E(e);c=setTimeout(S,function(e){var n=t-(e-l);return f?m(n,s-(e-u)):n}(e))}function E(e){return c=void 0,g&&o?v(e):(o=r=void 0,a)}function L(){var e=h(),n=y(e);if(o=arguments,r=this,l=e,n){if(void 0===c)return function(e){return u=e,c=setTimeout(S,t),d?v(e):a}(l);if(f)return c=setTimeout(S,t),v(l)}return void 0===c&&(c=setTimeout(S,t)),a}return t=b(t)||0,w(n)&&(d=!!n.leading,s=(f="maxWait"in n)?p(b(n.maxWait)||0,t):s,g="trailing"in n?!!n.trailing:g),L.cancel=function(){void 0!==c&&clearTimeout(c),u=0,o=l=r=c=void 0},L.flush=function(){return void 0===c?a:E(h())},L}(e,t,{leading:o,maxWait:t,trailing:r})}},511:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActiveLineMarker=void 0;const i=n(898);t.ActiveLineMarker=class{onDidChangeTextEditorSelection(e){const{previous:t}=(0,i.getElementsForSourceLine)(e);this._update(t&&t.element)}_update(e){this._unmarkActiveElement(this._current),this._markActiveElement(e),this._current=e}_unmarkActiveElement(e){e&&(e.className=e.className.replace(/\bcode-active-line\b/g,""))}_markActiveElement(e){e&&(e.className+=" code-active-line")}}},244:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onceDocumentLoaded=void 0,t.onceDocumentLoaded=function(e){"loading"===document.readyState||"uninitialized"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()}},461:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPosterForVsCode=void 0;const i=n(256);t.createPosterForVsCode=e=>new class{postMessage(t,n){e.postMessage({type:t,source:(0,i.getSettings)().source,body:n})}}},898:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEditorLineNumberForPageOffset=t.scrollToRevealSourceLine=t.getLineElementsAtPageOffset=t.getElementsForSourceLine=void 0;const i=n(256);function o(e){return t=(0,i.getSettings)().lineCount-1,n=e,Math.min(t,Math.max(0,n));var t,n}const r=(()=>{let e;return()=>(e||(e=Array.prototype.map.call(document.querySelectorAll('div[class^="data-line-"], div[class*=" data-line-"]'),(e=>{const t=e.className.split(" ").pop().match(/data-line-(\d+)/)[1];return{element:e,line:parseInt(t)}})).filter((e=>!isNaN(e.line)))),e)})();function s(e){const t=Math.floor(e+1),n=r();let i=n[0]||null;for(const e of n){if(e.line===t)return{previous:e,next:void 0};if(e.line>t)return{previous:i,next:e};i=e}return{previous:i}}function a(e){const t=r(),n=e-window.scrollY;let i=-1,o=t.length-1;for(;i+1<o;){const e=Math.floor((i+o)/2),r=t[e].element.getBoundingClientRect();r.top+r.height>=n?o=e:i=e}const s=t[o],a=s.element.getBoundingClientRect();return o>=1&&a.top>n?{previous:t[i],next:s}:{previous:s}}t.getElementsForSourceLine=s,t.getLineElementsAtPageOffset=a,t.scrollToRevealSourceLine=function(e){const{previous:t,next:n}=s(e);if(t&&(0,i.getSettings)().scrollPreviewWithEditor){let i=0;const o=t.element.getBoundingClientRect().top;if(n&&n.line!==t.line){const r=(e-t.line)/(n.line-t.line),s=n.element.getBoundingClientRect().top-o;i=window.scrollY+o+r*s}else i=0===e?0:window.scrollY+o;window.scroll(0,Math.max(1,i))}},t.getEditorLineNumberForPageOffset=function(e){const{previous:t,next:n}=a(e);if(t){const i=t.element.getBoundingClientRect(),r=e-window.scrollY-i.top;if(n){const e=r/(n.element.getBoundingClientRect().top-i.top);return o(t.line+e*(n.line-t.line))}{const e=r/i.height;return o(t.line+e)}}return null}},256:(e,t)=>{"use strict";let n;function i(e){const t=document.getElementById("vscode-asciidoc-preview-data");if(t){const n=t.getAttribute(e);if(n)return JSON.parse(n)}throw new Error(`Could not load data for ${e}`)}Object.defineProperty(t,"__esModule",{value:!0}),t.getSettings=t.getData=void 0,t.getData=i,t.getSettings=function(){if(n)return n;if(n=i("data-settings"),n)return n;throw new Error("Could not load settings")}}},t={};function n(i){var o=t[i];if(void 0!==o)return o.exports;var r=t[i]={exports:{}};return e[i](r,r.exports,n),r.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{"use strict";const e=n(511),t=n(244),i=n(461),o=n(898),r=n(256),s=n(858);let a=!0;const c=new e.ActiveLineMarker,l=(0,r.getSettings)(),u=acquireVsCodeApi(),d=u.getState(),f=Object.assign(Object.assign(Object.assign({},l),"object"==typeof d?d:{}),(0,r.getData)("data-state"));u.setState(f);const g=(0,i.createPosterForVsCode)(u);window.cspAlerter.setPoster(g),window.styleLoadingMonitor.setPoster(g),window.onload=()=>{p()},(0,t.onceDocumentLoaded)((()=>{const e=!l.preservePreviewWhenHidden;if(e&&window.addEventListener("scroll",s((()=>{u.setState(Object.assign(Object.assign({},u.getState()),{scrollX:window.scrollX,scrollY:window.scrollY}))}),250,{leading:!0,trailing:!0})),l.scrollPreviewWithEditor)setTimeout((()=>{const e=u.getState().line;isNaN(e)||(a=!0,(0,o.scrollToRevealSourceLine)(e))}),0);else if(e){const{scrollX:e,scrollY:t}=u.getState(),n={top:t,left:e,behavior:"auto"};window.scrollTo(n)}}));const v=(()=>{const e=s((e=>{a=!0,(0,o.scrollToRevealSourceLine)(e)}),50);return t=>{isNaN(t)||(u.setState(Object.assign(Object.assign({},u.getState()),{line:t})),e(t))}})(),p=s((()=>{const e=[],t=document.getElementsByTagName("img");if(t&&t.length>0){let n;for(n=0;n<t.length;n++){const i=t[n];i.classList.contains("loading")&&i.classList.remove("loading"),e.push({id:i.id,height:i.height,width:i.width})}g.postMessage("cacheImageSizes",e)}}),50);window.addEventListener("resize",(()=>{a=!0,p()}),!0),window.addEventListener("message",(e=>{if(e.data.source===l.source)switch(e.data.type){case"onDidChangeTextEditorSelection":{const t=e.data.line;c.onDidChangeTextEditorSelection(t),u.setState(Object.assign(Object.assign({},u.getState()),{line:t}));break}case"updateView":v(e.data.line)}}),!1);const m=["http:","https:","mailto:","vscode:","vscode-insiders:"];document.addEventListener("click",(e=>{if(!e)return;let t=e.target;for(;t;){if(t.tagName&&"A"===t.tagName&&t.href){if(t.getAttribute("href").startsWith("#"))return;let n=t.getAttribute("data-href");if(!n){if(m.some((e=>t.href.startsWith(e))))return;n=t.getAttribute("href")}return!/^[a-z-]+:\/\//i.test(n)||n.startsWith("file:///")?(g.postMessage("clickLink",{href:n}),e.preventDefault(),void e.stopPropagation()):void 0}t=t.parentNode}}),!0),window.addEventListener("scroll",s((()=>{const e=(0,o.getEditorLineNumberForPageOffset)(window.scrollY);u.setState(Object.assign(Object.assign({},u.getState()),{line:e})),l.scrollEditorWithPreview&&(a?a=!1:0===window.scrollY?g.postMessage("revealLine",{line:0}):"number"!=typeof e||isNaN(e)||g.postMessage("revealLine",{line:e}))}),50))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJtYXBwaW5ncyI6IjJCQVVBLElBQUlBLEVBQWtCLHNCQUdsQkMsRUFBTSxJQUdOQyxFQUFZLGtCQUdaQyxFQUFTLGFBR1RDLEVBQWEscUJBR2JDLEVBQWEsYUFHYkMsRUFBWSxjQUdaQyxFQUFlQyxTQUdmQyxFQUE4QixpQkFBVixFQUFBQyxHQUFzQixFQUFBQSxHQUFVLEVBQUFBLEVBQU9DLFNBQVdBLFFBQVUsRUFBQUQsRUFHaEZFLEVBQTBCLGlCQUFSQyxNQUFvQkEsTUFBUUEsS0FBS0YsU0FBV0EsUUFBVUUsS0FHeEVDLEVBQU9MLEdBQWNHLEdBQVlHLFNBQVMsY0FBVEEsR0FVakNDLEVBUGNMLE9BQU9NLFVBT1FDLFNBRzdCQyxFQUFZQyxLQUFLQyxJQUNqQkMsRUFBWUYsS0FBS0csSUFrQmpCQyxFQUFNLFdBQ1IsT0FBT1YsRUFBS1csS0FBS0QsS0FDbkIsRUF5UUEsU0FBU0UsRUFBU0MsR0FDaEIsSUFBSUMsU0FBY0QsRUFDbEIsUUFBU0EsSUFBa0IsVUFBUkMsR0FBNEIsWUFBUkEsRUFDekMsQ0EyRUEsU0FBU0MsRUFBU0YsR0FDaEIsR0FBb0IsaUJBQVRBLEVBQ1QsT0FBT0EsRUFFVCxHQWhDRixTQUFrQkEsR0FDaEIsTUFBdUIsaUJBQVRBLEdBdEJoQixTQUFzQkEsR0FDcEIsUUFBU0EsR0FBeUIsaUJBQVRBLENBQzNCLENBcUJLRyxDQUFhSCxJQUFVWCxFQUFlZSxLQUFLSixJQUFVekIsQ0FDMUQsQ0E2Qk04QixDQUFTTCxHQUNYLE9BQU8xQixFQUVULEdBQUl5QixFQUFTQyxHQUFRLENBQ25CLElBQUlNLEVBQWdDLG1CQUFqQk4sRUFBTU8sUUFBd0JQLEVBQU1PLFVBQVlQLEVBQ25FQSxFQUFRRCxFQUFTTyxHQUFVQSxFQUFRLEdBQU1BLENBQzNDLENBQ0EsR0FBb0IsaUJBQVROLEVBQ1QsT0FBaUIsSUFBVkEsRUFBY0EsR0FBU0EsRUFFaENBLEVBQVFBLEVBQU1RLFFBQVFoQyxFQUFRLElBQzlCLElBQUlpQyxFQUFXL0IsRUFBV2dDLEtBQUtWLEdBQy9CLE9BQVFTLEdBQVk5QixFQUFVK0IsS0FBS1YsR0FDL0JwQixFQUFhb0IsRUFBTVcsTUFBTSxHQUFJRixFQUFXLEVBQUksR0FDM0NoQyxFQUFXaUMsS0FBS1YsR0FBUzFCLEdBQU8wQixDQUN2QyxDQUVBWSxFQUFPQyxRQTlJUCxTQUFrQkMsRUFBTUMsRUFBTUMsR0FDNUIsSUFBSUMsR0FBVSxFQUNWQyxHQUFXLEVBRWYsR0FBbUIsbUJBQVJKLEVBQ1QsTUFBTSxJQUFJSyxVQUFVOUMsR0FNdEIsT0FKSTBCLEVBQVNpQixLQUNYQyxFQUFVLFlBQWFELElBQVlBLEVBQVFDLFFBQVVBLEVBQ3JEQyxFQUFXLGFBQWNGLElBQVlBLEVBQVFFLFNBQVdBLEdBL0s1RCxTQUFrQkosRUFBTUMsRUFBTUMsR0FDNUIsSUFBSUksRUFDQUMsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQUMsRUFBaUIsRUFDakJULEdBQVUsRUFDVlUsR0FBUyxFQUNUVCxHQUFXLEVBRWYsR0FBbUIsbUJBQVJKLEVBQ1QsTUFBTSxJQUFJSyxVQUFVOUMsR0FVdEIsU0FBU3VELEVBQVdDLEdBQ2xCLElBQUlDLEVBQU9WLEVBQ1BXLEVBQVVWLEVBS2QsT0FIQUQsRUFBV0MsT0FBV1csRUFDdEJOLEVBQWlCRyxFQUNqQk4sRUFBU1QsRUFBS21CLE1BQU1GLEVBQVNELEVBRS9CLENBbUJBLFNBQVNJLEVBQWFMLEdBQ3BCLElBQUlNLEVBQW9CTixFQUFPSixFQU0vQixZQUF5Qk8sSUFBakJQLEdBQStCVSxHQUFxQnBCLEdBQ3pEb0IsRUFBb0IsR0FBT1IsR0FOSkUsRUFBT0gsR0FNOEJKLENBQ2pFLENBRUEsU0FBU2MsSUFDUCxJQUFJUCxFQUFPaEMsSUFDWCxHQUFJcUMsRUFBYUwsR0FDZixPQUFPUSxFQUFhUixHQUd0QkwsRUFBVWMsV0FBV0YsRUF6QnZCLFNBQXVCUCxHQUNyQixJQUVJTixFQUFTUixHQUZXYyxFQUFPSixHQUkvQixPQUFPRSxFQUFTaEMsRUFBVTRCLEVBQVFELEdBSFJPLEVBQU9ILElBR2tDSCxDQUNyRSxDQW1CcUNnQixDQUFjVixHQUNuRCxDQUVBLFNBQVNRLEVBQWFSLEdBS3BCLE9BSkFMLE9BQVVRLEVBSU5kLEdBQVlFLEVBQ1BRLEVBQVdDLElBRXBCVCxFQUFXQyxPQUFXVyxFQUNmVCxFQUNULENBY0EsU0FBU2lCLElBQ1AsSUFBSVgsRUFBT2hDLElBQ1A0QyxFQUFhUCxFQUFhTCxHQU05QixHQUpBVCxFQUFXc0IsVUFDWHJCLEVBQVdzQixLQUNYbEIsRUFBZUksRUFFWFksRUFBWSxDQUNkLFFBQWdCVCxJQUFaUixFQUNGLE9BdkVOLFNBQXFCSyxHQU1uQixPQUpBSCxFQUFpQkcsRUFFakJMLEVBQVVjLFdBQVdGLEVBQWNyQixHQUU1QkUsRUFBVVcsRUFBV0MsR0FBUU4sQ0FDdEMsQ0FnRWFxQixDQUFZbkIsR0FFckIsR0FBSUUsRUFHRixPQURBSCxFQUFVYyxXQUFXRixFQUFjckIsR0FDNUJhLEVBQVdILEVBRXRCLENBSUEsWUFIZ0JPLElBQVpSLElBQ0ZBLEVBQVVjLFdBQVdGLEVBQWNyQixJQUU5QlEsQ0FDVCxDQUdBLE9BeEdBUixFQUFPYixFQUFTYSxJQUFTLEVBQ3JCaEIsRUFBU2lCLEtBQ1hDLElBQVlELEVBQVFDLFFBRXBCSyxHQURBSyxFQUFTLFlBQWFYLEdBQ0h4QixFQUFVVSxFQUFTYyxFQUFRTSxVQUFZLEVBQUdQLEdBQVFPLEVBQ3JFSixFQUFXLGFBQWNGLElBQVlBLEVBQVFFLFNBQVdBLEdBaUcxRHNCLEVBQVVLLE9BbkNWLGdCQUNrQmIsSUFBWlIsR0FDRnNCLGFBQWF0QixHQUVmRSxFQUFpQixFQUNqQk4sRUFBV0ssRUFBZUosRUFBV0csT0FBVVEsQ0FDakQsRUE4QkFRLEVBQVVPLE1BNUJWLFdBQ0UsWUFBbUJmLElBQVpSLEVBQXdCRCxFQUFTYyxFQUFheEMsSUFDdkQsRUEyQk8yQyxDQUNULENBeURTUSxDQUFTbEMsRUFBTUMsRUFBTSxDQUMxQixRQUFXRSxFQUNYLFFBQVdGLEVBQ1gsU0FBWUcsR0FFaEIsQyx3R0NyVEEsZUFFQSx5QkFHRSw4QkFBQStCLENBQWdDQyxHQUM5QixNQUFNLFNBQUVDLElBQWEsSUFBQUMsMEJBQXlCRixHQUM5Q1AsS0FBS1UsUUFBUUYsR0FBWUEsRUFBU0csUUFDcEMsQ0FFQSxPQUFBRCxDQUFTRSxHQUNQWixLQUFLYSxxQkFBcUJiLEtBQUtjLFVBQy9CZCxLQUFLZSxtQkFBbUJILEdBQ3hCWixLQUFLYyxTQUFXRixDQUNsQixDQUVBLG9CQUFBQyxDQUFzQkYsR0FDZkEsSUFHTEEsRUFBUUssVUFBWUwsRUFBUUssVUFBVW5ELFFBQVEsd0JBQXlCLElBQ3pFLENBRUEsa0JBQUFrRCxDQUFvQkosR0FDYkEsSUFHTEEsRUFBUUssV0FBYSxvQkFDdkIsRSx3R0MzQkYsOEJBQW9DQyxHQUVOLFlBQXhCQyxTQUFTQyxZQUFvRCxrQkFBeEJELFNBQVNDLFdBQ2hERCxTQUFTRSxpQkFBaUIsbUJBQW9CSCxHQUU5Q0EsR0FFSixDLDZHQ1BBLGVBU2EsRUFBQUksc0JBQXlCQyxHQUM3QixJQUFJLE1BQ1QsV0FBQUMsQ0FBYWpFLEVBQWNrRSxHQUN6QkYsRUFBT0MsWUFBWSxDQUNqQmpFLE9BQ0FtRSxRQUFRLElBQUFDLGVBQWNELE9BQ3RCRCxRQUVKLEUsNE1DakJKLGVBTUEsU0FBU0csRUFBV3BCLEdBQ2xCLE9BTDJCeEQsR0FLWCxJQUFBMkUsZUFBY0UsVUFBWSxFQUxGdkUsRUFLS2tELEVBSnRDekQsS0FBS0csSUFBSUYsRUFBS0QsS0FBS0MsSUFJYixFQUpzQk0sSUFEckMsSUFBNkJOLEVBQWFNLENBTTFDLENBT0EsTUFBTXdFLEVBQXNCLE1BQzFCLElBQUlDLEVBQ0osTUFBTyxLQUNBQSxJQUNIQSxFQUFXQyxNQUFNcEYsVUFBVXFGLElBQUl2RSxLQUM3QnlELFNBQVNlLGlCQUFpQix3REFFekJ0QixJQUNDLE1BQU11QixFQUFNdkIsRUFBUUssVUFBVW1CLE1BQU0sS0FBS0MsTUFBTUMsTUFBTSxtQkFBbUIsR0FHeEUsTUFBTyxDQUFFMUIsVUFBU0osS0FGTHJFLFNBQVNnRyxHQUVFLElBRXpCSSxRQUFRQyxJQUFZQyxNQUFNRCxFQUFFaEMsU0FFMUJ1QixFQUVWLEVBakIyQixHQXlCNUIsU0FBZ0JyQixFQUEwQmdDLEdBQ3hDLE1BQU1DLEVBQWE1RixLQUFLNkYsTUFBTUYsRUFBYSxHQUNyQ0csRUFBUWYsSUFDZCxJQUFJckIsRUFBV29DLEVBQU0sSUFBTSxLQUMzQixJQUFLLE1BQU1DLEtBQVNELEVBQU8sQ0FDekIsR0FBSUMsRUFBTXRDLE9BQVNtQyxFQUNqQixNQUFPLENBQUVsQyxTQUFVcUMsRUFBT0MsVUFBTXpELEdBQzNCLEdBQUl3RCxFQUFNdEMsS0FBT21DLEVBQ3RCLE1BQU8sQ0FBRWxDLFdBQVVzQyxLQUFNRCxHQUUzQnJDLEVBQVdxQyxDLENBRWIsTUFBTyxDQUFFckMsV0FDWCxDQUtBLFNBQWdCdUMsRUFBNkJDLEdBQzNDLE1BQU1KLEVBQVFmLElBQ1JvQixFQUFXRCxFQUFTRSxPQUFPQyxRQUNqQyxJQUFJQyxHQUFNLEVBQ05DLEVBQUtULEVBQU1VLE9BQVMsRUFDeEIsS0FBT0YsRUFBSyxFQUFJQyxHQUFJLENBQ2xCLE1BQU1FLEVBQU16RyxLQUFLNkYsT0FBT1MsRUFBS0MsR0FBTSxHQUM3QkcsRUFBU1osRUFBTVcsR0FBSzVDLFFBQVE4Qyx3QkFDOUJELEVBQU9FLElBQU1GLEVBQU9HLFFBQVVWLEVBQ2hDSSxFQUFLRSxFQUVMSCxFQUFLRyxDLENBR1QsTUFBTUssRUFBWWhCLEVBQU1TLEdBQ2xCUSxFQUFXRCxFQUFVakQsUUFBUThDLHdCQUNuQyxPQUFJSixHQUFNLEdBQUtRLEVBQVNILElBQU1ULEVBRXJCLENBQUV6QyxTQURTb0MsRUFBTVEsR0FDTU4sS0FBTWMsR0FFL0IsQ0FBRXBELFNBQVVvRCxFQUNyQixDQXZDQSw2QkFrQkEsZ0NBMEJBLG9DQUEwQ3JELEdBQ3hDLE1BQU0sU0FBRUMsRUFBUSxLQUFFc0MsR0FBU3JDLEVBQXlCRixHQUNwRCxHQUFJQyxJQUFZLElBQUFrQixlQUFjb0Msd0JBQXlCLENBQ3JELElBQUlDLEVBQVcsRUFDZixNQUNNQyxFQURPeEQsRUFBU0csUUFBUThDLHdCQUNMQyxJQUN6QixHQUFJWixHQUFRQSxFQUFLdkMsT0FBU0MsRUFBU0QsS0FBTSxDQUV2QyxNQUFNMEQsR0FBbUIxRCxFQUFPQyxFQUFTRCxPQUFTdUMsRUFBS3ZDLEtBQU9DLEVBQVNELE1BQ2pFMkQsRUFBZ0JwQixFQUFLbkMsUUFBUThDLHdCQUF3QkMsSUFBTU0sRUFDakVELEVBQVdiLE9BQU9DLFFBQVVhLEVBQWNDLEVBQWtCQyxDLE1BRTVESCxFQURrQixJQUFUeEQsRUFDRSxFQUVBMkMsT0FBT0MsUUFBVWEsRUFFOUJkLE9BQU9pQixPQUFPLEVBQUdySCxLQUFLQyxJQUFJLEVBQUdnSCxHLENBRWpDLEVBRUEsNENBQWtEZixHQUNoRCxNQUFNLFNBQUV4QyxFQUFRLEtBQUVzQyxHQUFTQyxFQUE0QkMsR0FDdkQsR0FBSXhDLEVBQVUsQ0FDWixNQUFNNEQsRUFBaUI1RCxFQUFTRyxRQUFROEMsd0JBQ2xDWSxFQUFzQnJCLEVBQVNFLE9BQU9DLFFBQVVpQixFQUFlVixJQUNyRSxHQUFJWixFQUFNLENBQ1IsTUFBTXdCLEVBQTBCRCxHQUFzQnZCLEVBQUtuQyxRQUFROEMsd0JBQXdCQyxJQUFNVSxFQUFlVixLQUVoSCxPQUFPL0IsRUFETW5CLEVBQVNELEtBQU8rRCxHQUEyQnhCLEVBQUt2QyxLQUFPQyxFQUFTRCxNLENBRXhFLENBQ0wsTUFBTWdFLEVBQXdCRixFQUFzQkQsRUFBcUIsT0FFekUsT0FBT3pDLEVBRE1uQixFQUFTRCxLQUFPZ0UsRSxFQUlqQyxPQUFPLElBQ1QsQywyQkM3R0EsSUFBSUMsRUFFSixTQUFnQkMsRUFBaUJDLEdBQy9CLE1BQU0vRCxFQUFVTyxTQUFTeUQsZUFBZSxnQ0FDeEMsR0FBSWhFLEVBQVMsQ0FDWCxNQUFNaUUsRUFBT2pFLEVBQVFrRSxhQUFhSCxHQUNsQyxHQUFJRSxFQUNGLE9BQU9FLEtBQUtDLE1BQU1ILEUsQ0FJdEIsTUFBTSxJQUFJSSxNQUFNLDJCQUEyQk4sSUFDN0MsQyxnRkFWQSxZQVlBLHlCQUNFLEdBQUlGLEVBQ0YsT0FBT0EsRUFJVCxHQURBQSxFQUFpQkMsRUFBUSxpQkFDckJELEVBQ0YsT0FBT0EsRUFHVCxNQUFNLElBQUlRLE1BQU0sMEJBQ2xCLEMsR0N2Q0lDLEVBQTJCLENBQUMsRUFHaEMsU0FBU0MsRUFBb0JDLEdBRTVCLElBQUlDLEVBQWVILEVBQXlCRSxHQUM1QyxRQUFxQjlGLElBQWpCK0YsRUFDSCxPQUFPQSxFQUFhbEgsUUFHckIsSUFBSUQsRUFBU2dILEVBQXlCRSxHQUFZLENBR2pEakgsUUFBUyxDQUFDLEdBT1gsT0FIQW1ILEVBQW9CRixHQUFVbEgsRUFBUUEsRUFBT0MsUUFBU2dILEdBRy9DakgsRUFBT0MsT0FDZixDQ3RCQWdILEVBQW9COUksRUFBSSxXQUN2QixHQUEwQixpQkFBZmtKLFdBQXlCLE9BQU9BLFdBQzNDLElBQ0MsT0FBT3RGLE1BQVEsSUFBSXZELFNBQVMsY0FBYixFQUNoQixDQUFFLE1BQU84SSxHQUNSLEdBQXNCLGlCQUFYckMsT0FBcUIsT0FBT0EsTUFDeEMsQ0FDQSxDQVB1QixHLG1CQ0l4QixlQUNBLFNBQ0EsU0FDQSxTQUNBLFNBQ0EsU0FJQSxJQUFJc0MsR0FBaUIsRUFDckIsTUFBTUMsRUFBUyxJQUFJLEVBQUFDLGlCQUNiQyxHQUFXLElBQUFqRSxlQUVYSixFQUFTc0UsbUJBRVRDLEVBQWdCdkUsRUFBT3dFLFdBRXZCQyxFQUFRLE9BQUgsc0NBQ05KLEdBQzBCLGlCQUFsQkUsRUFBNkJBLEVBQWdCLENBQUMsSUFDdEQsSUFBQXBCLFNBQWEsZUFJbEJuRCxFQUFPMEUsU0FBU0QsR0FFaEIsTUFBTUUsR0FBWSxJQUFBNUUsdUJBQXNCQyxHQUV4QzRCLE9BQU9nRCxXQUFXQyxVQUFVRixHQUM1Qi9DLE9BQU9rRCxvQkFBb0JELFVBQVVGLEdBRXJDL0MsT0FBT21ELE9BQVMsS0FDZEMsR0FBa0IsR0FHcEIsSUFBQUMscUJBQW1CLEtBQ2pCLE1BQU1DLEdBQTBCYixFQUFTYywwQkFZekMsR0FWSUQsR0FDRnRELE9BQU85QixpQkFBaUIsU0FBVXNGLEdBQ2hDLEtBQ0VwRixFQUFPMEUsU0FBUyxPQUFELHdCQUFNMUUsRUFBT3dFLFlBQVUsQ0FBRWEsUUFBU3pELE9BQU95RCxRQUFTeEQsUUFBU0QsT0FBT0MsVUFBVSxHQUU3RixJQUNBLENBQUU3RSxTQUFTLEVBQU1DLFVBQVUsS0FJM0JvSCxFQUFTN0Isd0JBQ1huRSxZQUFXLEtBQ1QsTUFBTWlILEVBQWN0RixFQUFPd0UsV0FBV3ZGLEtBQ2pDaUMsTUFBTW9FLEtBQ1RwQixHQUFpQixHQUNqQixJQUFBcUIsMEJBQXlCRCxHLEdBRTFCLFFBQ0UsR0FBSUosRUFBd0IsQ0FDakMsTUFBTSxRQUFFRyxFQUFPLFFBQUV4RCxHQUFZN0IsRUFBT3dFLFdBQzlCZ0IsRUFBZ0IsQ0FBRXBELElBQUtQLEVBQVM0RCxLQUFNSixFQUFTSyxTQUFVLFFBQy9EOUQsT0FBT2EsU0FBUytDLEUsS0FJcEIsTUFBTUcsRUFBZSxNQUNuQixNQUFNQyxFQUFXUixHQUFVbkcsSUFDekJpRixHQUFpQixHQUNqQixJQUFBcUIsMEJBQXlCdEcsRUFBSyxHQUM3QixJQUVILE9BQVFBLElBQ0RpQyxNQUFNakMsS0FDVGUsRUFBTzBFLFNBQVMsT0FBRCx3QkFBTTFFLEVBQU93RSxZQUFVLENBQUV2RixVQUN4QzJHLEVBQVMzRyxHLENBR2QsRUFab0IsR0FjZitGLEVBQW1CSSxHQUFTLEtBQ2hDLE1BQU1TLEVBQTZELEdBQzdEQyxFQUFTbEcsU0FBU21HLHFCQUFxQixPQUM3QyxHQUFJRCxHQUFVQSxFQUFPOUQsT0FBUyxFQUFHLENBQy9CLElBQUlnRSxFQUNKLElBQUtBLEVBQUksRUFBR0EsRUFBSUYsRUFBTzlELE9BQVFnRSxJQUFLLENBQ2xDLE1BQU1DLEVBQU1ILEVBQU9FLEdBRWZDLEVBQUlDLFVBQVVDLFNBQVMsWUFDekJGLEVBQUlDLFVBQVVFLE9BQU8sV0FHdkJQLEVBQVVRLEtBQUssQ0FDYkMsR0FBSUwsRUFBSUssR0FDUmpFLE9BQVE0RCxFQUFJNUQsT0FDWmtFLE1BQU9OLEVBQUlNLE8sQ0FJZjVCLEVBQVUxRSxZQUFZLGtCQUFtQjRGLEUsSUFFMUMsSUFFSGpFLE9BQU85QixpQkFBaUIsVUFBVSxLQUNoQ29FLEdBQWlCLEVBQ2pCYyxHQUFrQixJQUNqQixHQUVIcEQsT0FBTzlCLGlCQUFpQixXQUFZMEcsSUFDbEMsR0FBSUEsRUFBTWxELEtBQUtuRCxTQUFXa0UsRUFBU2xFLE9BSW5DLE9BQVFxRyxFQUFNbEQsS0FBS3RILE1BQ2pCLElBQUssaUNBQWtDLENBQ3JDLE1BQU1pRCxFQUFPdUgsRUFBTWxELEtBQUtyRSxLQUN4QmtGLEVBQU9uRiwrQkFBK0JDLEdBQ3RDZSxFQUFPMEUsU0FBUyxPQUFELHdCQUFNMUUsRUFBT3dFLFlBQVUsQ0FBRXZGLFVBQ3hDLEssQ0FHRixJQUFLLGFBQ0gwRyxFQUFhYSxFQUFNbEQsS0FBS3JFLE0sSUFHM0IsR0FFSCxNQUFNd0gsRUFBeUIsQ0FBQyxRQUFTLFNBQVUsVUFBVyxVQUFXLG9CQUV6RTdHLFNBQVNFLGlCQUFpQixTQUFVMEcsSUFDbEMsSUFBS0EsRUFDSCxPQUdGLElBQUlFLEVBQVlGLEVBQU1HLE9BQ3RCLEtBQU9ELEdBQU0sQ0FDWCxHQUFJQSxFQUFLRSxTQUE0QixNQUFqQkYsRUFBS0UsU0FBbUJGLEVBQUtHLEtBQU0sQ0FDckQsR0FBSUgsRUFBS25ELGFBQWEsUUFBUXVELFdBQVcsS0FDdkMsT0FFRixJQUFJQyxFQUFXTCxFQUFLbkQsYUFBYSxhQUNqQyxJQUFLd0QsRUFBVSxDQUViLEdBQUlOLEVBQXVCTyxNQUFNQyxHQUFXUCxFQUFLRyxLQUFLQyxXQUFXRyxLQUMvRCxPQUVGRixFQUFXTCxFQUFLbkQsYUFBYSxPLENBSS9CLE9BQUssaUJBQWlCOUcsS0FBS3NLLElBQWFBLEVBQVNELFdBQVcsYUFDMURuQyxFQUFVMUUsWUFBWSxZQUFhLENBQUU0RyxLQUFNRSxJQUMzQ1AsRUFBTVUsc0JBQ05WLEVBQU1XLHdCQUdSLEMsQ0FFRlQsRUFBT0EsRUFBS1UsVSxLQUViLEdBRUh4RixPQUFPOUIsaUJBQWlCLFNBQVVzRixHQUFTLEtBQ3pDLE1BQU1uRyxHQUFPLElBQUFvSSxrQ0FBaUN6RixPQUFPQyxTQUNyRDdCLEVBQU8wRSxTQUFTLE9BQUQsd0JBQU0xRSxFQUFPd0UsWUFBVSxDQUFFdkYsVUFFcENvRixFQUFTaUQsMEJBQ1BwRCxFQUNGQSxHQUFpQixFQUVNLElBQW5CdEMsT0FBT0MsUUFFVDhDLEVBQVUxRSxZQUFZLGFBQWMsQ0FBRWhCLEtBQU0sSUFDbkIsaUJBQVRBLEdBQXNCaUMsTUFBTWpDLElBQzVDMEYsRUFBVTFFLFlBQVksYUFBYyxDQUFFaEIsUyxHQUkzQyxJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXNjaWlkb2N0b3ItdnNjb2RlLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC50aHJvdHRsZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9hc2NpaWRvY3Rvci12c2NvZGUvLi9wcmV2aWV3LXNyYy9hY3RpdmVMaW5lTWFya2VyLnRzIiwid2VicGFjazovL2FzY2lpZG9jdG9yLXZzY29kZS8uL3ByZXZpZXctc3JjL2V2ZW50cy50cyIsIndlYnBhY2s6Ly9hc2NpaWRvY3Rvci12c2NvZGUvLi9wcmV2aWV3LXNyYy9tZXNzYWdpbmcudHMiLCJ3ZWJwYWNrOi8vYXNjaWlkb2N0b3ItdnNjb2RlLy4vcHJldmlldy1zcmMvc2Nyb2xsLXN5bmMudHMiLCJ3ZWJwYWNrOi8vYXNjaWlkb2N0b3ItdnNjb2RlLy4vcHJldmlldy1zcmMvc2V0dGluZ3MudHMiLCJ3ZWJwYWNrOi8vYXNjaWlkb2N0b3ItdnNjb2RlL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2FzY2lpZG9jdG9yLXZzY29kZS93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL2FzY2lpZG9jdG9yLXZzY29kZS8uL3ByZXZpZXctc3JjL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogbG9kYXNoIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyA8aHR0cHM6Ly9qcXVlcnkub3JnLz5cbiAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqL1xuXG4vKiogVXNlZCBhcyB0aGUgYFR5cGVFcnJvcmAgbWVzc2FnZSBmb3IgXCJGdW5jdGlvbnNcIiBtZXRob2RzLiAqL1xudmFyIEZVTkNfRVJST1JfVEVYVCA9ICdFeHBlY3RlZCBhIGZ1bmN0aW9uJztcblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgTkFOID0gMCAvIDA7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBzeW1ib2xUYWcgPSAnW29iamVjdCBTeW1ib2xdJztcblxuLyoqIFVzZWQgdG8gbWF0Y2ggbGVhZGluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZS4gKi9cbnZhciByZVRyaW0gPSAvXlxccyt8XFxzKyQvZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGJhZCBzaWduZWQgaGV4YWRlY2ltYWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmFkSGV4ID0gL15bLStdMHhbMC05YS1mXSskL2k7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBiaW5hcnkgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmluYXJ5ID0gL14wYlswMV0rJC9pO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgb2N0YWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzT2N0YWwgPSAvXjBvWzAtN10rJC9pO1xuXG4vKiogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgd2l0aG91dCBhIGRlcGVuZGVuY3kgb24gYHJvb3RgLiAqL1xudmFyIGZyZWVQYXJzZUludCA9IHBhcnNlSW50O1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzLiAqL1xudmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xudmFyIGZyZWVTZWxmID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGY7XG5cbi8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xudmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBvYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlTWF4ID0gTWF0aC5tYXgsXG4gICAgbmF0aXZlTWluID0gTWF0aC5taW47XG5cbi8qKlxuICogR2V0cyB0aGUgdGltZXN0YW1wIG9mIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRoYXQgaGF2ZSBlbGFwc2VkIHNpbmNlXG4gKiB0aGUgVW5peCBlcG9jaCAoMSBKYW51YXJ5IDE5NzAgMDA6MDA6MDAgVVRDKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDIuNC4wXG4gKiBAY2F0ZWdvcnkgRGF0ZVxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXN0YW1wLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmRlZmVyKGZ1bmN0aW9uKHN0YW1wKSB7XG4gKiAgIGNvbnNvbGUubG9nKF8ubm93KCkgLSBzdGFtcCk7XG4gKiB9LCBfLm5vdygpKTtcbiAqIC8vID0+IExvZ3MgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgaXQgdG9vayBmb3IgdGhlIGRlZmVycmVkIGludm9jYXRpb24uXG4gKi9cbnZhciBub3cgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHJvb3QuRGF0ZS5ub3coKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIGRlYm91bmNlZCBmdW5jdGlvbiB0aGF0IGRlbGF5cyBpbnZva2luZyBgZnVuY2AgdW50aWwgYWZ0ZXIgYHdhaXRgXG4gKiBtaWxsaXNlY29uZHMgaGF2ZSBlbGFwc2VkIHNpbmNlIHRoZSBsYXN0IHRpbWUgdGhlIGRlYm91bmNlZCBmdW5jdGlvbiB3YXNcbiAqIGludm9rZWQuIFRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gY29tZXMgd2l0aCBhIGBjYW5jZWxgIG1ldGhvZCB0byBjYW5jZWxcbiAqIGRlbGF5ZWQgYGZ1bmNgIGludm9jYXRpb25zIGFuZCBhIGBmbHVzaGAgbWV0aG9kIHRvIGltbWVkaWF0ZWx5IGludm9rZSB0aGVtLlxuICogUHJvdmlkZSBgb3B0aW9uc2AgdG8gaW5kaWNhdGUgd2hldGhlciBgZnVuY2Agc2hvdWxkIGJlIGludm9rZWQgb24gdGhlXG4gKiBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlIG9mIHRoZSBgd2FpdGAgdGltZW91dC4gVGhlIGBmdW5jYCBpcyBpbnZva2VkXG4gKiB3aXRoIHRoZSBsYXN0IGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uLiBTdWJzZXF1ZW50XG4gKiBjYWxscyB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIHJldHVybiB0aGUgcmVzdWx0IG9mIHRoZSBsYXN0IGBmdW5jYFxuICogaW52b2NhdGlvbi5cbiAqXG4gKiAqKk5vdGU6KiogSWYgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIG9wdGlvbnMgYXJlIGB0cnVlYCwgYGZ1bmNgIGlzXG4gKiBpbnZva2VkIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0IG9ubHkgaWYgdGhlIGRlYm91bmNlZCBmdW5jdGlvblxuICogaXMgaW52b2tlZCBtb3JlIHRoYW4gb25jZSBkdXJpbmcgdGhlIGB3YWl0YCB0aW1lb3V0LlxuICpcbiAqIElmIGB3YWl0YCBpcyBgMGAgYW5kIGBsZWFkaW5nYCBpcyBgZmFsc2VgLCBgZnVuY2AgaW52b2NhdGlvbiBpcyBkZWZlcnJlZFxuICogdW50aWwgdG8gdGhlIG5leHQgdGljaywgc2ltaWxhciB0byBgc2V0VGltZW91dGAgd2l0aCBhIHRpbWVvdXQgb2YgYDBgLlxuICpcbiAqIFNlZSBbRGF2aWQgQ29yYmFjaG8ncyBhcnRpY2xlXShodHRwczovL2Nzcy10cmlja3MuY29tL2RlYm91bmNpbmctdGhyb3R0bGluZy1leHBsYWluZWQtZXhhbXBsZXMvKVxuICogZm9yIGRldGFpbHMgb3ZlciB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiBgXy5kZWJvdW5jZWAgYW5kIGBfLnRocm90dGxlYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlYm91bmNlLlxuICogQHBhcmFtIHtudW1iZXJ9IFt3YWl0PTBdIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5LlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlYWRpbmc9ZmFsc2VdXG4gKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgbGVhZGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFdhaXRdXG4gKiAgVGhlIG1heGltdW0gdGltZSBgZnVuY2AgaXMgYWxsb3dlZCB0byBiZSBkZWxheWVkIGJlZm9yZSBpdCdzIGludm9rZWQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYWlsaW5nPXRydWVdXG4gKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGRlYm91bmNlZCBmdW5jdGlvbi5cbiAqIEBleGFtcGxlXG4gKlxuICogLy8gQXZvaWQgY29zdGx5IGNhbGN1bGF0aW9ucyB3aGlsZSB0aGUgd2luZG93IHNpemUgaXMgaW4gZmx1eC5cbiAqIGpRdWVyeSh3aW5kb3cpLm9uKCdyZXNpemUnLCBfLmRlYm91bmNlKGNhbGN1bGF0ZUxheW91dCwgMTUwKSk7XG4gKlxuICogLy8gSW52b2tlIGBzZW5kTWFpbGAgd2hlbiBjbGlja2VkLCBkZWJvdW5jaW5nIHN1YnNlcXVlbnQgY2FsbHMuXG4gKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgXy5kZWJvdW5jZShzZW5kTWFpbCwgMzAwLCB7XG4gKiAgICdsZWFkaW5nJzogdHJ1ZSxcbiAqICAgJ3RyYWlsaW5nJzogZmFsc2VcbiAqIH0pKTtcbiAqXG4gKiAvLyBFbnN1cmUgYGJhdGNoTG9nYCBpcyBpbnZva2VkIG9uY2UgYWZ0ZXIgMSBzZWNvbmQgb2YgZGVib3VuY2VkIGNhbGxzLlxuICogdmFyIGRlYm91bmNlZCA9IF8uZGVib3VuY2UoYmF0Y2hMb2csIDI1MCwgeyAnbWF4V2FpdCc6IDEwMDAgfSk7XG4gKiB2YXIgc291cmNlID0gbmV3IEV2ZW50U291cmNlKCcvc3RyZWFtJyk7XG4gKiBqUXVlcnkoc291cmNlKS5vbignbWVzc2FnZScsIGRlYm91bmNlZCk7XG4gKlxuICogLy8gQ2FuY2VsIHRoZSB0cmFpbGluZyBkZWJvdW5jZWQgaW52b2NhdGlvbi5cbiAqIGpRdWVyeSh3aW5kb3cpLm9uKCdwb3BzdGF0ZScsIGRlYm91bmNlZC5jYW5jZWwpO1xuICovXG5mdW5jdGlvbiBkZWJvdW5jZShmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gIHZhciBsYXN0QXJncyxcbiAgICAgIGxhc3RUaGlzLFxuICAgICAgbWF4V2FpdCxcbiAgICAgIHJlc3VsdCxcbiAgICAgIHRpbWVySWQsXG4gICAgICBsYXN0Q2FsbFRpbWUsXG4gICAgICBsYXN0SW52b2tlVGltZSA9IDAsXG4gICAgICBsZWFkaW5nID0gZmFsc2UsXG4gICAgICBtYXhpbmcgPSBmYWxzZSxcbiAgICAgIHRyYWlsaW5nID0gdHJ1ZTtcblxuICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgfVxuICB3YWl0ID0gdG9OdW1iZXIod2FpdCkgfHwgMDtcbiAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgbGVhZGluZyA9ICEhb3B0aW9ucy5sZWFkaW5nO1xuICAgIG1heGluZyA9ICdtYXhXYWl0JyBpbiBvcHRpb25zO1xuICAgIG1heFdhaXQgPSBtYXhpbmcgPyBuYXRpdmVNYXgodG9OdW1iZXIob3B0aW9ucy5tYXhXYWl0KSB8fCAwLCB3YWl0KSA6IG1heFdhaXQ7XG4gICAgdHJhaWxpbmcgPSAndHJhaWxpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMudHJhaWxpbmcgOiB0cmFpbGluZztcbiAgfVxuXG4gIGZ1bmN0aW9uIGludm9rZUZ1bmModGltZSkge1xuICAgIHZhciBhcmdzID0gbGFzdEFyZ3MsXG4gICAgICAgIHRoaXNBcmcgPSBsYXN0VGhpcztcblxuICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgbGFzdEludm9rZVRpbWUgPSB0aW1lO1xuICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxlYWRpbmdFZGdlKHRpbWUpIHtcbiAgICAvLyBSZXNldCBhbnkgYG1heFdhaXRgIHRpbWVyLlxuICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcbiAgICAvLyBTdGFydCB0aGUgdGltZXIgZm9yIHRoZSB0cmFpbGluZyBlZGdlLlxuICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgLy8gSW52b2tlIHRoZSBsZWFkaW5nIGVkZ2UuXG4gICAgcmV0dXJuIGxlYWRpbmcgPyBpbnZva2VGdW5jKHRpbWUpIDogcmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtYWluaW5nV2FpdCh0aW1lKSB7XG4gICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZSxcbiAgICAgICAgcmVzdWx0ID0gd2FpdCAtIHRpbWVTaW5jZUxhc3RDYWxsO1xuXG4gICAgcmV0dXJuIG1heGluZyA/IG5hdGl2ZU1pbihyZXN1bHQsIG1heFdhaXQgLSB0aW1lU2luY2VMYXN0SW52b2tlKSA6IHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3VsZEludm9rZSh0aW1lKSB7XG4gICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZTtcblxuICAgIC8vIEVpdGhlciB0aGlzIGlzIHRoZSBmaXJzdCBjYWxsLCBhY3Rpdml0eSBoYXMgc3RvcHBlZCBhbmQgd2UncmUgYXQgdGhlXG4gICAgLy8gdHJhaWxpbmcgZWRnZSwgdGhlIHN5c3RlbSB0aW1lIGhhcyBnb25lIGJhY2t3YXJkcyBhbmQgd2UncmUgdHJlYXRpbmdcbiAgICAvLyBpdCBhcyB0aGUgdHJhaWxpbmcgZWRnZSwgb3Igd2UndmUgaGl0IHRoZSBgbWF4V2FpdGAgbGltaXQuXG4gICAgcmV0dXJuIChsYXN0Q2FsbFRpbWUgPT09IHVuZGVmaW5lZCB8fCAodGltZVNpbmNlTGFzdENhbGwgPj0gd2FpdCkgfHxcbiAgICAgICh0aW1lU2luY2VMYXN0Q2FsbCA8IDApIHx8IChtYXhpbmcgJiYgdGltZVNpbmNlTGFzdEludm9rZSA+PSBtYXhXYWl0KSk7XG4gIH1cblxuICBmdW5jdGlvbiB0aW1lckV4cGlyZWQoKSB7XG4gICAgdmFyIHRpbWUgPSBub3coKTtcbiAgICBpZiAoc2hvdWxkSW52b2tlKHRpbWUpKSB7XG4gICAgICByZXR1cm4gdHJhaWxpbmdFZGdlKHRpbWUpO1xuICAgIH1cbiAgICAvLyBSZXN0YXJ0IHRoZSB0aW1lci5cbiAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHJlbWFpbmluZ1dhaXQodGltZSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gdHJhaWxpbmdFZGdlKHRpbWUpIHtcbiAgICB0aW1lcklkID0gdW5kZWZpbmVkO1xuXG4gICAgLy8gT25seSBpbnZva2UgaWYgd2UgaGF2ZSBgbGFzdEFyZ3NgIHdoaWNoIG1lYW5zIGBmdW5jYCBoYXMgYmVlblxuICAgIC8vIGRlYm91bmNlZCBhdCBsZWFzdCBvbmNlLlxuICAgIGlmICh0cmFpbGluZyAmJiBsYXN0QXJncykge1xuICAgICAgcmV0dXJuIGludm9rZUZ1bmModGltZSk7XG4gICAgfVxuICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNhbmNlbCgpIHtcbiAgICBpZiAodGltZXJJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgfVxuICAgIGxhc3RJbnZva2VUaW1lID0gMDtcbiAgICBsYXN0QXJncyA9IGxhc3RDYWxsVGltZSA9IGxhc3RUaGlzID0gdGltZXJJZCA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgIHJldHVybiB0aW1lcklkID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiB0cmFpbGluZ0VkZ2Uobm93KCkpO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVib3VuY2VkKCkge1xuICAgIHZhciB0aW1lID0gbm93KCksXG4gICAgICAgIGlzSW52b2tpbmcgPSBzaG91bGRJbnZva2UodGltZSk7XG5cbiAgICBsYXN0QXJncyA9IGFyZ3VtZW50cztcbiAgICBsYXN0VGhpcyA9IHRoaXM7XG4gICAgbGFzdENhbGxUaW1lID0gdGltZTtcblxuICAgIGlmIChpc0ludm9raW5nKSB7XG4gICAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBsZWFkaW5nRWRnZShsYXN0Q2FsbFRpbWUpO1xuICAgICAgfVxuICAgICAgaWYgKG1heGluZykge1xuICAgICAgICAvLyBIYW5kbGUgaW52b2NhdGlvbnMgaW4gYSB0aWdodCBsb29wLlxuICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgICAgICByZXR1cm4gaW52b2tlRnVuYyhsYXN0Q2FsbFRpbWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIGRlYm91bmNlZC5jYW5jZWwgPSBjYW5jZWw7XG4gIGRlYm91bmNlZC5mbHVzaCA9IGZsdXNoO1xuICByZXR1cm4gZGVib3VuY2VkO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSB0aHJvdHRsZWQgZnVuY3Rpb24gdGhhdCBvbmx5IGludm9rZXMgYGZ1bmNgIGF0IG1vc3Qgb25jZSBwZXJcbiAqIGV2ZXJ5IGB3YWl0YCBtaWxsaXNlY29uZHMuIFRoZSB0aHJvdHRsZWQgZnVuY3Rpb24gY29tZXMgd2l0aCBhIGBjYW5jZWxgXG4gKiBtZXRob2QgdG8gY2FuY2VsIGRlbGF5ZWQgYGZ1bmNgIGludm9jYXRpb25zIGFuZCBhIGBmbHVzaGAgbWV0aG9kIHRvXG4gKiBpbW1lZGlhdGVseSBpbnZva2UgdGhlbS4gUHJvdmlkZSBgb3B0aW9uc2AgdG8gaW5kaWNhdGUgd2hldGhlciBgZnVuY2BcbiAqIHNob3VsZCBiZSBpbnZva2VkIG9uIHRoZSBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlIG9mIHRoZSBgd2FpdGBcbiAqIHRpbWVvdXQuIFRoZSBgZnVuY2AgaXMgaW52b2tlZCB3aXRoIHRoZSBsYXN0IGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGVcbiAqIHRocm90dGxlZCBmdW5jdGlvbi4gU3Vic2VxdWVudCBjYWxscyB0byB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uIHJldHVybiB0aGVcbiAqIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2AgaW52b2NhdGlvbi5cbiAqXG4gKiAqKk5vdGU6KiogSWYgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIG9wdGlvbnMgYXJlIGB0cnVlYCwgYGZ1bmNgIGlzXG4gKiBpbnZva2VkIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0IG9ubHkgaWYgdGhlIHRocm90dGxlZCBmdW5jdGlvblxuICogaXMgaW52b2tlZCBtb3JlIHRoYW4gb25jZSBkdXJpbmcgdGhlIGB3YWl0YCB0aW1lb3V0LlxuICpcbiAqIElmIGB3YWl0YCBpcyBgMGAgYW5kIGBsZWFkaW5nYCBpcyBgZmFsc2VgLCBgZnVuY2AgaW52b2NhdGlvbiBpcyBkZWZlcnJlZFxuICogdW50aWwgdG8gdGhlIG5leHQgdGljaywgc2ltaWxhciB0byBgc2V0VGltZW91dGAgd2l0aCBhIHRpbWVvdXQgb2YgYDBgLlxuICpcbiAqIFNlZSBbRGF2aWQgQ29yYmFjaG8ncyBhcnRpY2xlXShodHRwczovL2Nzcy10cmlja3MuY29tL2RlYm91bmNpbmctdGhyb3R0bGluZy1leHBsYWluZWQtZXhhbXBsZXMvKVxuICogZm9yIGRldGFpbHMgb3ZlciB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiBgXy50aHJvdHRsZWAgYW5kIGBfLmRlYm91bmNlYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHRocm90dGxlLlxuICogQHBhcmFtIHtudW1iZXJ9IFt3YWl0PTBdIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHRocm90dGxlIGludm9jYXRpb25zIHRvLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlYWRpbmc9dHJ1ZV1cbiAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSBsZWFkaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYWlsaW5nPXRydWVdXG4gKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHRocm90dGxlZCBmdW5jdGlvbi5cbiAqIEBleGFtcGxlXG4gKlxuICogLy8gQXZvaWQgZXhjZXNzaXZlbHkgdXBkYXRpbmcgdGhlIHBvc2l0aW9uIHdoaWxlIHNjcm9sbGluZy5cbiAqIGpRdWVyeSh3aW5kb3cpLm9uKCdzY3JvbGwnLCBfLnRocm90dGxlKHVwZGF0ZVBvc2l0aW9uLCAxMDApKTtcbiAqXG4gKiAvLyBJbnZva2UgYHJlbmV3VG9rZW5gIHdoZW4gdGhlIGNsaWNrIGV2ZW50IGlzIGZpcmVkLCBidXQgbm90IG1vcmUgdGhhbiBvbmNlIGV2ZXJ5IDUgbWludXRlcy5cbiAqIHZhciB0aHJvdHRsZWQgPSBfLnRocm90dGxlKHJlbmV3VG9rZW4sIDMwMDAwMCwgeyAndHJhaWxpbmcnOiBmYWxzZSB9KTtcbiAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCB0aHJvdHRsZWQpO1xuICpcbiAqIC8vIENhbmNlbCB0aGUgdHJhaWxpbmcgdGhyb3R0bGVkIGludm9jYXRpb24uXG4gKiBqUXVlcnkod2luZG93KS5vbigncG9wc3RhdGUnLCB0aHJvdHRsZWQuY2FuY2VsKTtcbiAqL1xuZnVuY3Rpb24gdGhyb3R0bGUoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICB2YXIgbGVhZGluZyA9IHRydWUsXG4gICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gIH1cbiAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgbGVhZGluZyA9ICdsZWFkaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLmxlYWRpbmcgOiBsZWFkaW5nO1xuICAgIHRyYWlsaW5nID0gJ3RyYWlsaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLnRyYWlsaW5nIDogdHJhaWxpbmc7XG4gIH1cbiAgcmV0dXJuIGRlYm91bmNlKGZ1bmMsIHdhaXQsIHtcbiAgICAnbGVhZGluZyc6IGxlYWRpbmcsXG4gICAgJ21heFdhaXQnOiB3YWl0LFxuICAgICd0cmFpbGluZyc6IHRyYWlsaW5nXG4gIH0pO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0KHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChfLm5vb3ApO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuICEhdmFsdWUgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTeW1ib2xgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzeW1ib2wsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1N5bWJvbChTeW1ib2wuaXRlcmF0b3IpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNTeW1ib2woJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTeW1ib2wodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3ltYm9sJyB8fFxuICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpID09IHN5bWJvbFRhZyk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIG51bWJlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG51bWJlci5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50b051bWJlcigzLjIpO1xuICogLy8gPT4gMy4yXG4gKlxuICogXy50b051bWJlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAqIC8vID0+IDVlLTMyNFxuICpcbiAqIF8udG9OdW1iZXIoSW5maW5pdHkpO1xuICogLy8gPT4gSW5maW5pdHlcbiAqXG4gKiBfLnRvTnVtYmVyKCczLjInKTtcbiAqIC8vID0+IDMuMlxuICovXG5mdW5jdGlvbiB0b051bWJlcih2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gTkFOO1xuICB9XG4gIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcbiAgICB2YXIgb3RoZXIgPSB0eXBlb2YgdmFsdWUudmFsdWVPZiA9PSAnZnVuY3Rpb24nID8gdmFsdWUudmFsdWVPZigpIDogdmFsdWU7XG4gICAgdmFsdWUgPSBpc09iamVjdChvdGhlcikgPyAob3RoZXIgKyAnJykgOiBvdGhlcjtcbiAgfVxuICBpZiAodHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSAwID8gdmFsdWUgOiArdmFsdWU7XG4gIH1cbiAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKHJlVHJpbSwgJycpO1xuICB2YXIgaXNCaW5hcnkgPSByZUlzQmluYXJ5LnRlc3QodmFsdWUpO1xuICByZXR1cm4gKGlzQmluYXJ5IHx8IHJlSXNPY3RhbC50ZXN0KHZhbHVlKSlcbiAgICA/IGZyZWVQYXJzZUludCh2YWx1ZS5zbGljZSgyKSwgaXNCaW5hcnkgPyAyIDogOClcbiAgICA6IChyZUlzQmFkSGV4LnRlc3QodmFsdWUpID8gTkFOIDogK3ZhbHVlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB0aHJvdHRsZTtcbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmltcG9ydCB7IGdldEVsZW1lbnRzRm9yU291cmNlTGluZSB9IGZyb20gJy4vc2Nyb2xsLXN5bmMnXG5cbmV4cG9ydCBjbGFzcyBBY3RpdmVMaW5lTWFya2VyIHtcbiAgcHJpdmF0ZSBfY3VycmVudDogYW55XG5cbiAgb25EaWRDaGFuZ2VUZXh0RWRpdG9yU2VsZWN0aW9uIChsaW5lOiBudW1iZXIpIHtcbiAgICBjb25zdCB7IHByZXZpb3VzIH0gPSBnZXRFbGVtZW50c0ZvclNvdXJjZUxpbmUobGluZSlcbiAgICB0aGlzLl91cGRhdGUocHJldmlvdXMgJiYgcHJldmlvdXMuZWxlbWVudClcbiAgfVxuXG4gIF91cGRhdGUgKGJlZm9yZTogSFRNTEVsZW1lbnQgfCB1bmRlZmluZWQpIHtcbiAgICB0aGlzLl91bm1hcmtBY3RpdmVFbGVtZW50KHRoaXMuX2N1cnJlbnQpXG4gICAgdGhpcy5fbWFya0FjdGl2ZUVsZW1lbnQoYmVmb3JlKVxuICAgIHRoaXMuX2N1cnJlbnQgPSBiZWZvcmVcbiAgfVxuXG4gIF91bm1hcmtBY3RpdmVFbGVtZW50IChlbGVtZW50OiBIVE1MRWxlbWVudCB8IHVuZGVmaW5lZCkge1xuICAgIGlmICghZWxlbWVudCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gZWxlbWVudC5jbGFzc05hbWUucmVwbGFjZSgvXFxiY29kZS1hY3RpdmUtbGluZVxcYi9nLCAnJylcbiAgfVxuXG4gIF9tYXJrQWN0aXZlRWxlbWVudCAoZWxlbWVudDogSFRNTEVsZW1lbnQgfCB1bmRlZmluZWQpIHtcbiAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBlbGVtZW50LmNsYXNzTmFtZSArPSAnIGNvZGUtYWN0aXZlLWxpbmUnXG4gIH1cbn1cbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG9uY2VEb2N1bWVudExvYWRlZCAoZjogKCkgPT4gdm9pZCkge1xuICAvLyBAdHMtaWdub3JlIFRTMjM2N1xuICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2xvYWRpbmcnIHx8IGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICd1bmluaXRpYWxpemVkJykge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmKVxuICB9IGVsc2Uge1xuICAgIGYoKVxuICB9XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbmltcG9ydCB7IGdldFNldHRpbmdzIH0gZnJvbSAnLi9zZXR0aW5ncydcblxuZXhwb3J0IGludGVyZmFjZSBNZXNzYWdlUG9zdGVyIHtcbiAgLyoqXG4gICAqIFBvc3QgYSBtZXNzYWdlIHRvIHRoZSBhc2NpaWRvYyBleHRlbnNpb25cbiAgICovXG4gIHBvc3RNZXNzYWdlKHR5cGU6IHN0cmluZywgYm9keTogb2JqZWN0KTogdm9pZDtcbn1cblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVBvc3RlckZvclZzQ29kZSA9ICh2c2NvZGU6IGFueSkgPT4ge1xuICByZXR1cm4gbmV3IGNsYXNzIGltcGxlbWVudHMgTWVzc2FnZVBvc3RlciB7XG4gICAgcG9zdE1lc3NhZ2UgKHR5cGU6IHN0cmluZywgYm9keTogb2JqZWN0KTogdm9pZCB7XG4gICAgICB2c2NvZGUucG9zdE1lc3NhZ2Uoe1xuICAgICAgICB0eXBlLFxuICAgICAgICBzb3VyY2U6IGdldFNldHRpbmdzKCkuc291cmNlLFxuICAgICAgICBib2R5LFxuICAgICAgfSlcbiAgICB9XG4gIH0oKVxufVxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5pbXBvcnQgeyBnZXRTZXR0aW5ncyB9IGZyb20gJy4vc2V0dGluZ3MnXG5cbmZ1bmN0aW9uIGNsYW1wIChtaW46IG51bWJlciwgbWF4OiBudW1iZXIsIHZhbHVlOiBudW1iZXIpIHtcbiAgcmV0dXJuIE1hdGgubWluKG1heCwgTWF0aC5tYXgobWluLCB2YWx1ZSkpXG59XG5cbmZ1bmN0aW9uIGNsYW1wTGluZSAobGluZTogbnVtYmVyKSB7XG4gIHJldHVybiBjbGFtcCgwLCBnZXRTZXR0aW5ncygpLmxpbmVDb3VudCAtIDEsIGxpbmUpXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29kZUxpbmVFbGVtZW50IHtcbiAgZWxlbWVudDogSFRNTEVsZW1lbnQ7XG4gIGxpbmU6IG51bWJlcjtcbn1cblxuY29uc3QgZ2V0Q29kZUxpbmVFbGVtZW50cyA9ICgoKSA9PiB7XG4gIGxldCBlbGVtZW50czogQ29kZUxpbmVFbGVtZW50W11cbiAgcmV0dXJuICgpID0+IHtcbiAgICBpZiAoIWVsZW1lbnRzKSB7XG4gICAgICBlbGVtZW50cyA9IEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnZGl2W2NsYXNzXj1cImRhdGEtbGluZS1cIl0sIGRpdltjbGFzcyo9XCIgZGF0YS1saW5lLVwiXScpLFxuICAgICAgICAvL2RvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2NvZGUtbGluZScpLFxuICAgICAgICAoZWxlbWVudDogYW55KSA9PiB7XG4gICAgICAgICAgY29uc3QgbnVtID0gZWxlbWVudC5jbGFzc05hbWUuc3BsaXQoJyAnKS5wb3AoKS5tYXRjaCgvZGF0YS1saW5lLShcXGQrKS8pWzFdXG4gICAgICAgICAgY29uc3QgbGluZSA9IHBhcnNlSW50KG51bSlcbiAgICAgICAgICAvL2NvbnN0IGxpbmUgPSArZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtbGluZScpO1xuICAgICAgICAgIHJldHVybiB7IGVsZW1lbnQsIGxpbmUgfVxuICAgICAgICB9KVxuICAgICAgICAuZmlsdGVyKCh4OiBhbnkpID0+ICFpc05hTih4LmxpbmUpKSBhcyBDb2RlTGluZUVsZW1lbnRbXVxuICAgIH1cbiAgICByZXR1cm4gZWxlbWVudHNcbiAgfVxufSkoKVxuXG4vKipcbiAqIEZpbmQgdGhlIGh0bWwgZWxlbWVudHMgdGhhdCBtYXAgdG8gYSBzcGVjaWZpYyB0YXJnZXQgbGluZSBpbiB0aGUgZWRpdG9yLlxuICpcbiAqIElmIGFuIGV4YWN0IG1hdGNoLCByZXR1cm5zIGEgc2luZ2xlIGVsZW1lbnQuIElmIHRoZSBsaW5lIGlzIGJldHdlZW4gZWxlbWVudHMsXG4gKiByZXR1cm5zIHRoZSBlbGVtZW50IHByaW9yIHRvIGFuZCB0aGUgZWxlbWVudCBhZnRlciB0aGUgZ2l2ZW4gbGluZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEVsZW1lbnRzRm9yU291cmNlTGluZSAodGFyZ2V0TGluZTogbnVtYmVyKTogeyBwcmV2aW91czogQ29kZUxpbmVFbGVtZW50OyBuZXh0PzogQ29kZUxpbmVFbGVtZW50OyB9IHtcbiAgY29uc3QgbGluZU51bWJlciA9IE1hdGguZmxvb3IodGFyZ2V0TGluZSArIDEpIC8vIG9mZiBieSBvbmUgbGluZVxuICBjb25zdCBsaW5lcyA9IGdldENvZGVMaW5lRWxlbWVudHMoKVxuICBsZXQgcHJldmlvdXMgPSBsaW5lc1swXSB8fCBudWxsXG4gIGZvciAoY29uc3QgZW50cnkgb2YgbGluZXMpIHtcbiAgICBpZiAoZW50cnkubGluZSA9PT0gbGluZU51bWJlcikge1xuICAgICAgcmV0dXJuIHsgcHJldmlvdXM6IGVudHJ5LCBuZXh0OiB1bmRlZmluZWQgfVxuICAgIH0gZWxzZSBpZiAoZW50cnkubGluZSA+IGxpbmVOdW1iZXIpIHtcbiAgICAgIHJldHVybiB7IHByZXZpb3VzLCBuZXh0OiBlbnRyeSB9XG4gICAgfVxuICAgIHByZXZpb3VzID0gZW50cnlcbiAgfVxuICByZXR1cm4geyBwcmV2aW91cyB9XG59XG5cbi8qKlxuICogRmluZCB0aGUgaHRtbCBlbGVtZW50cyB0aGF0IGFyZSBhdCBhIHNwZWNpZmljIHBpeGVsIG9mZnNldCBvbiB0aGUgcGFnZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldExpbmVFbGVtZW50c0F0UGFnZU9mZnNldCAob2Zmc2V0OiBudW1iZXIpOiB7IHByZXZpb3VzOiBDb2RlTGluZUVsZW1lbnQ7IG5leHQ/OiBDb2RlTGluZUVsZW1lbnQ7IH0ge1xuICBjb25zdCBsaW5lcyA9IGdldENvZGVMaW5lRWxlbWVudHMoKVxuICBjb25zdCBwb3NpdGlvbiA9IG9mZnNldCAtIHdpbmRvdy5zY3JvbGxZXG4gIGxldCBsbyA9IC0xXG4gIGxldCBoaSA9IGxpbmVzLmxlbmd0aCAtIDFcbiAgd2hpbGUgKGxvICsgMSA8IGhpKSB7XG4gICAgY29uc3QgbWlkID0gTWF0aC5mbG9vcigobG8gKyBoaSkgLyAyKVxuICAgIGNvbnN0IGJvdW5kcyA9IGxpbmVzW21pZF0uZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgIGlmIChib3VuZHMudG9wICsgYm91bmRzLmhlaWdodCA+PSBwb3NpdGlvbikge1xuICAgICAgaGkgPSBtaWRcbiAgICB9IGVsc2Uge1xuICAgICAgbG8gPSBtaWRcbiAgICB9XG4gIH1cbiAgY29uc3QgaGlFbGVtZW50ID0gbGluZXNbaGldXG4gIGNvbnN0IGhpQm91bmRzID0gaGlFbGVtZW50LmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgaWYgKGhpID49IDEgJiYgaGlCb3VuZHMudG9wID4gcG9zaXRpb24pIHtcbiAgICBjb25zdCBsb0VsZW1lbnQgPSBsaW5lc1tsb11cbiAgICByZXR1cm4geyBwcmV2aW91czogbG9FbGVtZW50LCBuZXh0OiBoaUVsZW1lbnQgfVxuICB9XG4gIHJldHVybiB7IHByZXZpb3VzOiBoaUVsZW1lbnQgfVxufVxuXG4vKipcbiAqIEF0dGVtcHQgdG8gcmV2ZWFsIHRoZSBlbGVtZW50IGZvciBhIHNvdXJjZSBsaW5lIGluIHRoZSBlZGl0b3IuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzY3JvbGxUb1JldmVhbFNvdXJjZUxpbmUgKGxpbmU6IG51bWJlcikge1xuICBjb25zdCB7IHByZXZpb3VzLCBuZXh0IH0gPSBnZXRFbGVtZW50c0ZvclNvdXJjZUxpbmUobGluZSlcbiAgaWYgKHByZXZpb3VzICYmIGdldFNldHRpbmdzKCkuc2Nyb2xsUHJldmlld1dpdGhFZGl0b3IpIHtcbiAgICBsZXQgc2Nyb2xsVG8gPSAwXG4gICAgY29uc3QgcmVjdCA9IHByZXZpb3VzLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICBjb25zdCBwcmV2aW91c1RvcCA9IHJlY3QudG9wXG4gICAgaWYgKG5leHQgJiYgbmV4dC5saW5lICE9PSBwcmV2aW91cy5saW5lKSB7XG4gICAgICAvLyBCZXR3ZWVuIHR3byBlbGVtZW50cy4gR28gdG8gcGVyY2VudGFnZSBvZmZzZXQgYmV0d2VlbiB0aGVtLlxuICAgICAgY29uc3QgYmV0d2VlblByb2dyZXNzID0gKGxpbmUgLSBwcmV2aW91cy5saW5lKSAvIChuZXh0LmxpbmUgLSBwcmV2aW91cy5saW5lKVxuICAgICAgY29uc3QgZWxlbWVudE9mZnNldCA9IG5leHQuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgLSBwcmV2aW91c1RvcFxuICAgICAgc2Nyb2xsVG8gPSB3aW5kb3cuc2Nyb2xsWSArIHByZXZpb3VzVG9wICsgYmV0d2VlblByb2dyZXNzICogZWxlbWVudE9mZnNldFxuICAgIH0gZWxzZSBpZiAobGluZSA9PT0gMCkge1xuICAgICAgc2Nyb2xsVG8gPSAwXG4gICAgfSBlbHNlIHtcbiAgICAgIHNjcm9sbFRvID0gd2luZG93LnNjcm9sbFkgKyBwcmV2aW91c1RvcFxuICAgIH1cbiAgICB3aW5kb3cuc2Nyb2xsKDAsIE1hdGgubWF4KDEsIHNjcm9sbFRvKSlcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RWRpdG9yTGluZU51bWJlckZvclBhZ2VPZmZzZXQgKG9mZnNldDogbnVtYmVyKSB7XG4gIGNvbnN0IHsgcHJldmlvdXMsIG5leHQgfSA9IGdldExpbmVFbGVtZW50c0F0UGFnZU9mZnNldChvZmZzZXQpXG4gIGlmIChwcmV2aW91cykge1xuICAgIGNvbnN0IHByZXZpb3VzQm91bmRzID0gcHJldmlvdXMuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgIGNvbnN0IG9mZnNldEZyb21QcmV2aW91cyA9IChvZmZzZXQgLSB3aW5kb3cuc2Nyb2xsWSAtIHByZXZpb3VzQm91bmRzLnRvcClcbiAgICBpZiAobmV4dCkge1xuICAgICAgY29uc3QgcHJvZ3Jlc3NCZXR3ZWVuRWxlbWVudHMgPSBvZmZzZXRGcm9tUHJldmlvdXMgLyAobmV4dC5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCAtIHByZXZpb3VzQm91bmRzLnRvcClcbiAgICAgIGNvbnN0IGxpbmUgPSBwcmV2aW91cy5saW5lICsgcHJvZ3Jlc3NCZXR3ZWVuRWxlbWVudHMgKiAobmV4dC5saW5lIC0gcHJldmlvdXMubGluZSlcbiAgICAgIHJldHVybiBjbGFtcExpbmUobGluZSlcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcHJvZ3Jlc3NXaXRoaW5FbGVtZW50ID0gb2Zmc2V0RnJvbVByZXZpb3VzIC8gKHByZXZpb3VzQm91bmRzLmhlaWdodClcbiAgICAgIGNvbnN0IGxpbmUgPSBwcmV2aW91cy5saW5lICsgcHJvZ3Jlc3NXaXRoaW5FbGVtZW50XG4gICAgICByZXR1cm4gY2xhbXBMaW5lKGxpbmUpXG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsXG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuZXhwb3J0IGludGVyZmFjZSBQcmV2aWV3U2V0dGluZ3Mge1xuICBzb3VyY2U6IHN0cmluZztcbiAgbGluZTogbnVtYmVyO1xuICBsaW5lQ291bnQ6IG51bWJlcjtcbiAgc2Nyb2xsUHJldmlld1dpdGhFZGl0b3I/OiBib29sZWFuO1xuICBzY3JvbGxFZGl0b3JXaXRoUHJldmlldzogYm9vbGVhbjtcbiAgZGlzYWJsZVNlY3VyaXR5V2FybmluZ3M6IGJvb2xlYW47XG4gIGRvdWJsZUNsaWNrVG9Td2l0Y2hUb0VkaXRvcjogYm9vbGVhbjtcbiAgcHJlc2VydmVQcmV2aWV3V2hlbkhpZGRlbjogYm9vbGVhbjtcbn1cblxubGV0IGNhY2hlZFNldHRpbmdzOiBQcmV2aWV3U2V0dGluZ3MgfCB1bmRlZmluZWRcblxuZXhwb3J0IGZ1bmN0aW9uIGdldERhdGE8VCA9IHt9PiAoa2V5OiBzdHJpbmcpOiBUIHtcbiAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2c2NvZGUtYXNjaWlkb2MtcHJldmlldy1kYXRhJylcbiAgaWYgKGVsZW1lbnQpIHtcbiAgICBjb25zdCBkYXRhID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoa2V5KVxuICAgIGlmIChkYXRhKSB7XG4gICAgICByZXR1cm4gSlNPTi5wYXJzZShkYXRhKVxuICAgIH1cbiAgfVxuXG4gIHRocm93IG5ldyBFcnJvcihgQ291bGQgbm90IGxvYWQgZGF0YSBmb3IgJHtrZXl9YClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNldHRpbmdzICgpOiBQcmV2aWV3U2V0dGluZ3Mge1xuICBpZiAoY2FjaGVkU2V0dGluZ3MpIHtcbiAgICByZXR1cm4gY2FjaGVkU2V0dGluZ3NcbiAgfVxuXG4gIGNhY2hlZFNldHRpbmdzID0gZ2V0RGF0YSgnZGF0YS1zZXR0aW5ncycpXG4gIGlmIChjYWNoZWRTZXR0aW5ncykge1xuICAgIHJldHVybiBjYWNoZWRTZXR0aW5nc1xuICB9XG5cbiAgdGhyb3cgbmV3IEVycm9yKCdDb3VsZCBub3QgbG9hZCBzZXR0aW5ncycpXG59XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbmltcG9ydCB7IEFjdGl2ZUxpbmVNYXJrZXIgfSBmcm9tICcuL2FjdGl2ZUxpbmVNYXJrZXInXG5pbXBvcnQgeyBvbmNlRG9jdW1lbnRMb2FkZWQgfSBmcm9tICcuL2V2ZW50cydcbmltcG9ydCB7IGNyZWF0ZVBvc3RlckZvclZzQ29kZSB9IGZyb20gJy4vbWVzc2FnaW5nJ1xuaW1wb3J0IHsgZ2V0RWRpdG9yTGluZU51bWJlckZvclBhZ2VPZmZzZXQsIHNjcm9sbFRvUmV2ZWFsU291cmNlTGluZSB9IGZyb20gJy4vc2Nyb2xsLXN5bmMnXG5pbXBvcnQgeyBnZXREYXRhLCBnZXRTZXR0aW5ncyB9IGZyb20gJy4vc2V0dGluZ3MnXG5pbXBvcnQgdGhyb3R0bGUgPSByZXF1aXJlKCdsb2Rhc2gudGhyb3R0bGUnKTtcblxuZGVjbGFyZSBsZXQgYWNxdWlyZVZzQ29kZUFwaTogYW55XG5cbmxldCBzY3JvbGxEaXNhYmxlZCA9IHRydWVcbmNvbnN0IG1hcmtlciA9IG5ldyBBY3RpdmVMaW5lTWFya2VyKClcbmNvbnN0IHNldHRpbmdzID0gZ2V0U2V0dGluZ3MoKVxuXG5jb25zdCB2c2NvZGUgPSBhY3F1aXJlVnNDb2RlQXBpKClcblxuY29uc3Qgb3JpZ2luYWxTdGF0ZSA9IHZzY29kZS5nZXRTdGF0ZSgpXG5cbmNvbnN0IHN0YXRlID0ge1xuICAuLi5zZXR0aW5ncyxcbiAgLi4uKHR5cGVvZiBvcmlnaW5hbFN0YXRlID09PSAnb2JqZWN0JyA/IG9yaWdpbmFsU3RhdGUgOiB7fSksXG4gIC4uLmdldERhdGE8YW55PignZGF0YS1zdGF0ZScpLFxufVxuXG4vLyBNYWtlIHN1cmUgdG8gc3luYyBWUyBDb2RlIHN0YXRlIGhlcmVcbnZzY29kZS5zZXRTdGF0ZShzdGF0ZSlcblxuY29uc3QgbWVzc2FnaW5nID0gY3JlYXRlUG9zdGVyRm9yVnNDb2RlKHZzY29kZSlcblxud2luZG93LmNzcEFsZXJ0ZXIuc2V0UG9zdGVyKG1lc3NhZ2luZylcbndpbmRvdy5zdHlsZUxvYWRpbmdNb25pdG9yLnNldFBvc3RlcihtZXNzYWdpbmcpXG5cbndpbmRvdy5vbmxvYWQgPSAoKSA9PiB7XG4gIHVwZGF0ZUltYWdlU2l6ZXMoKVxufVxuXG5vbmNlRG9jdW1lbnRMb2FkZWQoKCkgPT4ge1xuICBjb25zdCB3aW5kb3dOZWVkc1Jlc3RvcmF0aW9uID0gIXNldHRpbmdzLnByZXNlcnZlUHJldmlld1doZW5IaWRkZW5cblxuICBpZiAod2luZG93TmVlZHNSZXN0b3JhdGlvbikge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aHJvdHRsZShcbiAgICAgICgpID0+IHtcbiAgICAgICAgdnNjb2RlLnNldFN0YXRlKHsgLi4udnNjb2RlLmdldFN0YXRlKCksIHNjcm9sbFg6IHdpbmRvdy5zY3JvbGxYLCBzY3JvbGxZOiB3aW5kb3cuc2Nyb2xsWSB9KVxuICAgICAgfSxcbiAgICAgIDI1MCxcbiAgICAgIHsgbGVhZGluZzogdHJ1ZSwgdHJhaWxpbmc6IHRydWUgfSlcbiAgICApXG4gIH1cblxuICBpZiAoc2V0dGluZ3Muc2Nyb2xsUHJldmlld1dpdGhFZGl0b3IpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGNvbnN0IGluaXRpYWxMaW5lID0gdnNjb2RlLmdldFN0YXRlKCkubGluZVxuICAgICAgaWYgKCFpc05hTihpbml0aWFsTGluZSkpIHtcbiAgICAgICAgc2Nyb2xsRGlzYWJsZWQgPSB0cnVlXG4gICAgICAgIHNjcm9sbFRvUmV2ZWFsU291cmNlTGluZShpbml0aWFsTGluZSlcbiAgICAgIH1cbiAgICB9LCAwKVxuICB9IGVsc2UgaWYgKHdpbmRvd05lZWRzUmVzdG9yYXRpb24pIHtcbiAgICBjb25zdCB7IHNjcm9sbFgsIHNjcm9sbFkgfSA9IHZzY29kZS5nZXRTdGF0ZSgpXG4gICAgY29uc3Qgc2Nyb2xsT3B0aW9ucyA9IHsgdG9wOiBzY3JvbGxZLCBsZWZ0OiBzY3JvbGxYLCBiZWhhdmlvcjogJ2F1dG8nIGFzIFNjcm9sbEJlaGF2aW9yIH1cbiAgICB3aW5kb3cuc2Nyb2xsVG8oc2Nyb2xsT3B0aW9ucylcbiAgfVxufSlcblxuY29uc3Qgb25VcGRhdGVWaWV3ID0gKCgpID0+IHtcbiAgY29uc3QgZG9TY3JvbGwgPSB0aHJvdHRsZSgobGluZTogbnVtYmVyKSA9PiB7XG4gICAgc2Nyb2xsRGlzYWJsZWQgPSB0cnVlXG4gICAgc2Nyb2xsVG9SZXZlYWxTb3VyY2VMaW5lKGxpbmUpXG4gIH0sIDUwKVxuXG4gIHJldHVybiAobGluZTogbnVtYmVyKSA9PiB7XG4gICAgaWYgKCFpc05hTihsaW5lKSkge1xuICAgICAgdnNjb2RlLnNldFN0YXRlKHsgLi4udnNjb2RlLmdldFN0YXRlKCksIGxpbmUgfSlcbiAgICAgIGRvU2Nyb2xsKGxpbmUpXG4gICAgfVxuICB9XG59KSgpXG5cbmNvbnN0IHVwZGF0ZUltYWdlU2l6ZXMgPSB0aHJvdHRsZSgoKSA9PiB7XG4gIGNvbnN0IGltYWdlSW5mbzogeyBpZDogc3RyaW5nLCBoZWlnaHQ6IG51bWJlciwgd2lkdGg6IG51bWJlciB9W10gPSBbXVxuICBjb25zdCBpbWFnZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW1nJylcbiAgaWYgKGltYWdlcyAmJiBpbWFnZXMubGVuZ3RoID4gMCkge1xuICAgIGxldCBpXG4gICAgZm9yIChpID0gMDsgaSA8IGltYWdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgaW1nID0gaW1hZ2VzW2ldXG5cbiAgICAgIGlmIChpbWcuY2xhc3NMaXN0LmNvbnRhaW5zKCdsb2FkaW5nJykpIHtcbiAgICAgICAgaW1nLmNsYXNzTGlzdC5yZW1vdmUoJ2xvYWRpbmcnKVxuICAgICAgfVxuXG4gICAgICBpbWFnZUluZm8ucHVzaCh7XG4gICAgICAgIGlkOiBpbWcuaWQsXG4gICAgICAgIGhlaWdodDogaW1nLmhlaWdodCxcbiAgICAgICAgd2lkdGg6IGltZy53aWR0aCxcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgbWVzc2FnaW5nLnBvc3RNZXNzYWdlKCdjYWNoZUltYWdlU2l6ZXMnLCBpbWFnZUluZm8pXG4gIH1cbn0sIDUwKVxuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4ge1xuICBzY3JvbGxEaXNhYmxlZCA9IHRydWVcbiAgdXBkYXRlSW1hZ2VTaXplcygpXG59LCB0cnVlKVxuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIChldmVudCkgPT4ge1xuICBpZiAoZXZlbnQuZGF0YS5zb3VyY2UgIT09IHNldHRpbmdzLnNvdXJjZSkge1xuICAgIHJldHVyblxuICB9XG5cbiAgc3dpdGNoIChldmVudC5kYXRhLnR5cGUpIHtcbiAgICBjYXNlICdvbkRpZENoYW5nZVRleHRFZGl0b3JTZWxlY3Rpb24nOiB7XG4gICAgICBjb25zdCBsaW5lID0gZXZlbnQuZGF0YS5saW5lXG4gICAgICBtYXJrZXIub25EaWRDaGFuZ2VUZXh0RWRpdG9yU2VsZWN0aW9uKGxpbmUpXG4gICAgICB2c2NvZGUuc2V0U3RhdGUoeyAuLi52c2NvZGUuZ2V0U3RhdGUoKSwgbGluZSB9KVxuICAgICAgYnJlYWtcbiAgICB9XG5cbiAgICBjYXNlICd1cGRhdGVWaWV3JzpcbiAgICAgIG9uVXBkYXRlVmlldyhldmVudC5kYXRhLmxpbmUpXG4gICAgICBicmVha1xuICB9XG59LCBmYWxzZSlcblxuY29uc3QgcGFzc1Rocm91Z2hMaW5rU2NoZW1lcyA9IFsnaHR0cDonLCAnaHR0cHM6JywgJ21haWx0bzonLCAndnNjb2RlOicsICd2c2NvZGUtaW5zaWRlcnM6J11cblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgaWYgKCFldmVudCkge1xuICAgIHJldHVyblxuICB9XG5cbiAgbGV0IG5vZGU6IGFueSA9IGV2ZW50LnRhcmdldFxuICB3aGlsZSAobm9kZSkge1xuICAgIGlmIChub2RlLnRhZ05hbWUgJiYgbm9kZS50YWdOYW1lID09PSAnQScgJiYgbm9kZS5ocmVmKSB7XG4gICAgICBpZiAobm9kZS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKS5zdGFydHNXaXRoKCcjJykpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBsZXQgaHJlZlRleHQgPSBub2RlLmdldEF0dHJpYnV0ZSgnZGF0YS1ocmVmJylcbiAgICAgIGlmICghaHJlZlRleHQpIHtcbiAgICAgICAgLy8gUGFzcyB0aHJvdWdoIGtub3duIHNjaGVtZXNcbiAgICAgICAgaWYgKHBhc3NUaHJvdWdoTGlua1NjaGVtZXMuc29tZSgoc2NoZW1lKSA9PiBub2RlLmhyZWYuc3RhcnRzV2l0aChzY2hlbWUpKSkge1xuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIGhyZWZUZXh0ID0gbm9kZS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKVxuICAgICAgfVxuXG4gICAgICAvLyBJZiBvcmlnaW5hbCBsaW5rIGRvZXNuJ3QgbG9vayBsaWtlIGEgdXJsLCBkZWxlZ2F0ZSBiYWNrIHRvIFZTIENvZGUgdG8gcmVzb2x2ZVxuICAgICAgaWYgKCEvXlthLXotXSs6XFwvXFwvL2kudGVzdChocmVmVGV4dCkgfHwgaHJlZlRleHQuc3RhcnRzV2l0aCgnZmlsZTovLy8nKSkge1xuICAgICAgICBtZXNzYWdpbmcucG9zdE1lc3NhZ2UoJ2NsaWNrTGluaycsIHsgaHJlZjogaHJlZlRleHQgfSlcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlXG4gIH1cbn0sIHRydWUpXG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aHJvdHRsZSgoKSA9PiB7XG4gIGNvbnN0IGxpbmUgPSBnZXRFZGl0b3JMaW5lTnVtYmVyRm9yUGFnZU9mZnNldCh3aW5kb3cuc2Nyb2xsWSlcbiAgdnNjb2RlLnNldFN0YXRlKHsgLi4udnNjb2RlLmdldFN0YXRlKCksIGxpbmUgfSlcblxuICBpZiAoc2V0dGluZ3Muc2Nyb2xsRWRpdG9yV2l0aFByZXZpZXcpIHtcbiAgICBpZiAoc2Nyb2xsRGlzYWJsZWQpIHtcbiAgICAgIHNjcm9sbERpc2FibGVkID0gZmFsc2VcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHdpbmRvdy5zY3JvbGxZID09PSAwKSB7XG4gICAgICAgIC8vIHNjcm9sbCB0byB0b3AsIGRvY3VtZW50IHRpdGxlIGRvZXMgbm90IGhhdmUgYSBkYXRhLWxpbmUgYXR0cmlidXRlXG4gICAgICAgIG1lc3NhZ2luZy5wb3N0TWVzc2FnZSgncmV2ZWFsTGluZScsIHsgbGluZTogMCB9KVxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgbGluZSA9PT0gJ251bWJlcicgJiYgIWlzTmFOKGxpbmUpKSB7XG4gICAgICAgIG1lc3NhZ2luZy5wb3N0TWVzc2FnZSgncmV2ZWFsTGluZScsIHsgbGluZSB9KVxuICAgICAgfVxuICAgIH1cbiAgfVxufSwgNTApKVxuIl0sIm5hbWVzIjpbIkZVTkNfRVJST1JfVEVYVCIsIk5BTiIsInN5bWJvbFRhZyIsInJlVHJpbSIsInJlSXNCYWRIZXgiLCJyZUlzQmluYXJ5IiwicmVJc09jdGFsIiwiZnJlZVBhcnNlSW50IiwicGFyc2VJbnQiLCJmcmVlR2xvYmFsIiwiZyIsIk9iamVjdCIsImZyZWVTZWxmIiwic2VsZiIsInJvb3QiLCJGdW5jdGlvbiIsIm9iamVjdFRvU3RyaW5nIiwicHJvdG90eXBlIiwidG9TdHJpbmciLCJuYXRpdmVNYXgiLCJNYXRoIiwibWF4IiwibmF0aXZlTWluIiwibWluIiwibm93IiwiRGF0ZSIsImlzT2JqZWN0IiwidmFsdWUiLCJ0eXBlIiwidG9OdW1iZXIiLCJpc09iamVjdExpa2UiLCJjYWxsIiwiaXNTeW1ib2wiLCJvdGhlciIsInZhbHVlT2YiLCJyZXBsYWNlIiwiaXNCaW5hcnkiLCJ0ZXN0Iiwic2xpY2UiLCJtb2R1bGUiLCJleHBvcnRzIiwiZnVuYyIsIndhaXQiLCJvcHRpb25zIiwibGVhZGluZyIsInRyYWlsaW5nIiwiVHlwZUVycm9yIiwibGFzdEFyZ3MiLCJsYXN0VGhpcyIsIm1heFdhaXQiLCJyZXN1bHQiLCJ0aW1lcklkIiwibGFzdENhbGxUaW1lIiwibGFzdEludm9rZVRpbWUiLCJtYXhpbmciLCJpbnZva2VGdW5jIiwidGltZSIsImFyZ3MiLCJ0aGlzQXJnIiwidW5kZWZpbmVkIiwiYXBwbHkiLCJzaG91bGRJbnZva2UiLCJ0aW1lU2luY2VMYXN0Q2FsbCIsInRpbWVyRXhwaXJlZCIsInRyYWlsaW5nRWRnZSIsInNldFRpbWVvdXQiLCJyZW1haW5pbmdXYWl0IiwiZGVib3VuY2VkIiwiaXNJbnZva2luZyIsImFyZ3VtZW50cyIsInRoaXMiLCJsZWFkaW5nRWRnZSIsImNhbmNlbCIsImNsZWFyVGltZW91dCIsImZsdXNoIiwiZGVib3VuY2UiLCJvbkRpZENoYW5nZVRleHRFZGl0b3JTZWxlY3Rpb24iLCJsaW5lIiwicHJldmlvdXMiLCJnZXRFbGVtZW50c0ZvclNvdXJjZUxpbmUiLCJfdXBkYXRlIiwiZWxlbWVudCIsImJlZm9yZSIsIl91bm1hcmtBY3RpdmVFbGVtZW50IiwiX2N1cnJlbnQiLCJfbWFya0FjdGl2ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJmIiwiZG9jdW1lbnQiLCJyZWFkeVN0YXRlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNyZWF0ZVBvc3RlckZvclZzQ29kZSIsInZzY29kZSIsInBvc3RNZXNzYWdlIiwiYm9keSIsInNvdXJjZSIsImdldFNldHRpbmdzIiwiY2xhbXBMaW5lIiwibGluZUNvdW50IiwiZ2V0Q29kZUxpbmVFbGVtZW50cyIsImVsZW1lbnRzIiwiQXJyYXkiLCJtYXAiLCJxdWVyeVNlbGVjdG9yQWxsIiwibnVtIiwic3BsaXQiLCJwb3AiLCJtYXRjaCIsImZpbHRlciIsIngiLCJpc05hTiIsInRhcmdldExpbmUiLCJsaW5lTnVtYmVyIiwiZmxvb3IiLCJsaW5lcyIsImVudHJ5IiwibmV4dCIsImdldExpbmVFbGVtZW50c0F0UGFnZU9mZnNldCIsIm9mZnNldCIsInBvc2l0aW9uIiwid2luZG93Iiwic2Nyb2xsWSIsImxvIiwiaGkiLCJsZW5ndGgiLCJtaWQiLCJib3VuZHMiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0b3AiLCJoZWlnaHQiLCJoaUVsZW1lbnQiLCJoaUJvdW5kcyIsInNjcm9sbFByZXZpZXdXaXRoRWRpdG9yIiwic2Nyb2xsVG8iLCJwcmV2aW91c1RvcCIsImJldHdlZW5Qcm9ncmVzcyIsImVsZW1lbnRPZmZzZXQiLCJzY3JvbGwiLCJwcmV2aW91c0JvdW5kcyIsIm9mZnNldEZyb21QcmV2aW91cyIsInByb2dyZXNzQmV0d2VlbkVsZW1lbnRzIiwicHJvZ3Jlc3NXaXRoaW5FbGVtZW50IiwiY2FjaGVkU2V0dGluZ3MiLCJnZXREYXRhIiwia2V5IiwiZ2V0RWxlbWVudEJ5SWQiLCJkYXRhIiwiZ2V0QXR0cmlidXRlIiwiSlNPTiIsInBhcnNlIiwiRXJyb3IiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZ2xvYmFsVGhpcyIsImUiLCJzY3JvbGxEaXNhYmxlZCIsIm1hcmtlciIsIkFjdGl2ZUxpbmVNYXJrZXIiLCJzZXR0aW5ncyIsImFjcXVpcmVWc0NvZGVBcGkiLCJvcmlnaW5hbFN0YXRlIiwiZ2V0U3RhdGUiLCJzdGF0ZSIsInNldFN0YXRlIiwibWVzc2FnaW5nIiwiY3NwQWxlcnRlciIsInNldFBvc3RlciIsInN0eWxlTG9hZGluZ01vbml0b3IiLCJvbmxvYWQiLCJ1cGRhdGVJbWFnZVNpemVzIiwib25jZURvY3VtZW50TG9hZGVkIiwid2luZG93TmVlZHNSZXN0b3JhdGlvbiIsInByZXNlcnZlUHJldmlld1doZW5IaWRkZW4iLCJ0aHJvdHRsZSIsInNjcm9sbFgiLCJpbml0aWFsTGluZSIsInNjcm9sbFRvUmV2ZWFsU291cmNlTGluZSIsInNjcm9sbE9wdGlvbnMiLCJsZWZ0IiwiYmVoYXZpb3IiLCJvblVwZGF0ZVZpZXciLCJkb1Njcm9sbCIsImltYWdlSW5mbyIsImltYWdlcyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiaSIsImltZyIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwicmVtb3ZlIiwicHVzaCIsImlkIiwid2lkdGgiLCJldmVudCIsInBhc3NUaHJvdWdoTGlua1NjaGVtZXMiLCJub2RlIiwidGFyZ2V0IiwidGFnTmFtZSIsImhyZWYiLCJzdGFydHNXaXRoIiwiaHJlZlRleHQiLCJzb21lIiwic2NoZW1lIiwicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iLCJwYXJlbnROb2RlIiwiZ2V0RWRpdG9yTGluZU51bWJlckZvclBhZ2VPZmZzZXQiLCJzY3JvbGxFZGl0b3JXaXRoUHJldmlldyJdLCJzb3VyY2VSb290IjoiIn0=